/*! For license information please see main.e21f48da.chunk.js.LICENSE.txt */
(this["webpackJsonpchat-admin"]=this["webpackJsonpchat-admin"]||[]).push([[0],{197:function(e,t,n){e.exports=n.p+"static/media/logo.73888324.svg"},284:function(e,t,n){e.exports=n.p+"static/media/logo.a8fd05a0.png"},458:function(e,t,n){e.exports=n.p+"static/media/notificate.b5e7acad.mp3"},459:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAEECAMAAAD51ro4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURUJCQv+gFdPC6ct5JTMdj6ShqlEue3hHGaaL1Xh3e7qk3YhQVOWhQ/6XAJR1zPq+be3m9lNMQ5JtN4ZNfOzm9bum3qyU2N/T8Ozm9f2uPJVYS4Zhxevl9UUnhJyA0Fozdf6zRrqMScXBzPizVnJCZJJzRpGOlWc6t21Cuv21S/+3TaGE0mBfYUxIQrpvN7SwupNyy31XwOzm9VIuqOzm9vnGgca25KF8R5x+0I1syU9OT6BoKXNxdaWH0uzm9YJPHDwiikZGR9OSPEdFQnRhRcCr36eN1e+qR7ptU+yMDu3m9aqV1Id0wUIkncS14/6mJadiaVlEqKlkP4qIjmNWRINexM3I1cCu4ZyZoezm9ph5zuvm9aSK07CstoFpRYp7wrqo341syP+eDcqLOUsqpKWK1DEbkquf0/TRqrR5MNWGR1szr5d2R6JfQ+vm9v64U9WdSoJdw+3m9LKf28Kw4MSGNtzU6jYelr66xWg9auzm9fGtSmhnauzm9d2iS5p9zuzm9YJuv9yDHbOc2lhXWf+tM8yXSqyESJt9z49aIu7l9vrEeqtxLEgxoJNzzJJyy1xSRM6/6N6cQEpKS+3n9qeN1uXV0Lag3MO05K2V2IhtRnxKGn98gp6A0VM7pa9nVXtHXqmQ1WA2oOvn9cWy4/bGi65mTcrF0XtTwfaxS3dOvpBvyjshmWxcRLVrN+zn9a+Y2ZWSmqKUz/26Wezm9rl9Muvn9Ydkxv+jHJx+zpKExvq2Wuvn9+umRfvCcryo3/+oKbizvph8z8OSSVUvqlJSU+zo93xmRXNJvJtbRsFxSrGGSGFNrD4pmZJyy+3m9p+C0uOmS6CdpW1scLyo3fnHhn5YwdHD6Mq55E8tiumpTIRfxKaK0rKb2rqk3ZaGyamP1tF8IaSI07q2wYtpyEYnoY1ryailrv+vOYB+hNeWPo1SgI+Mk49yRuSHIGxqboKAhnBBa/+eEezo9Uw3obFoOJt5R/CPEIZSHmNiZZiVnPKQEKGF0qaASPnIigAAALxsM9YAAAEAdFJOU///P///////N/9+////vP91/////vW/OJv//+1S/3f////////////////l/////+j3g/9B////kNX///9VrP///////0z/////WVL//4X////////s////lNk0ef///2r0////qv//////////Yf///kpkm///////pP//wv9liv//1f///////zz/////yP////94h///Zv/////k////YP9t/////////93///86/////33/Uf3/gf//Rv//////vf///0n//v//////8l2X////dv///4n///Ne///////u////4f///////////////3D//////////+r//wDP0ZRKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAQr0lEQVR4Xu2dfbwc0xnHUVyVN0kvQtIkwrV3teolXiKIl0QVjVQR4q1eYiuNhFyyN8UlrVAvaWgS8RJaWiohGm8hKki46qpWvEe9tdrSS98VVa1Oz8z+dnd2Z86Zc87znJ3bz2e+f8nenTPP83XOc86Zmd1dx8vwMgmCTIIgkyDIJAgyCYJMgiCTIMgkCDIJgkyCIJMgyCQIMgmCTIIgkyDIJAgyCYJMgiCTIMgkCNKVcOzKlW2DB7etXHksXkiHFCQsW7NgYEdHcwwdHQMXrFmGtzWQxkqYNjE2+Xo6Zk3DAY2hYRLaZmnlX6Vj5zYc6pyGSNjFVECZjlm7oAmnuJcwbTQysmS0+6HhWMI0yy5QS8caNOcIlxLaiH0gzOiVaNQF7iTci/DZ2BkN8+NIwjKWYVDPaEdrCCcSDnaiwKdjME7BigMJ0xCwIxxMFuwSHCvwYdfALOFgxOmYg3E6JlgluCmHcXTgjDxwSjgHETaEgTgpB3wSFiC6hrEJTkyHTULDRkIVtjHBJGEW4mows3B6IiwSliGmxtPBcl2OQwL7LsGEBQiCAoOEFKpBGIbKQJZwH2JJEfJlOKqEnRFIqlA32UQJKQ+FMsQhQZOAGHoACMgOioSVCKBHQLksTZDQgE2zCYSLsfYSekRJDHMvAjPHWsJAnLoHMRGhGWMroaHbZl1st9eWEhjvKHByDsIzxE5CD1keRLFbMFhJ6KH9wMeqL9hI6JH1oIxNXbCQMBGn66FYzBHmElK6iKSP+RUGYwkNurNAwfiuhKmEXXAiHiYMn7nDH2rAH2iY7iNMJeA0ZIrHb7vX7HWiPIe/00CwuhhKwEmIDL/rX8g5wuN4CxGEq4mZBI5FUvHouB5QgacrmC2ajCQwbBwnXL8fspXA1BWMtpQmEujXVIt/Q6oKeLqC0dVXEwlo3p4/JfSCAKauYFIWDCRQC8JwZS2owtQVDMqCvgTqfaZtkWMiXF1B/661tgTi/caidFKM8vxzE3AUDUSejLYENGzJhMeRoCajrp+JIykg9ER0JdC2TavnIzkDZn9cxNHW6N6Z0pWAZu3YAXkZMv9jHG8Ngk9CUwJpZlitMzPGMmoHNGGJ5gyhJ4H0PNJMaweCd2hj4h9IQI2eBDRpxQSLehBi9kK0YwcSUKMlgXJRsai5RJIyajhaskLrkqOOBNIS4XnkYs9+JAvIQYmOBEpVvAuZUJhPWTvp1EYNCZSrirdSimKFxynVUePDARoS0JgVn0caRPZCczZodIVkCZTHEDgGQ8AGaNCG5AcXkiWgKRuKLIPBZz5lQCAROYkSKB3hHaTAwDto0obED4kkSkBDNkxAAizcikZtQCpSkiQMRjs27IX4Wfg0GrXhPiQjI0kCYY2wEOEzQVg+J00QCRIoi8XDEb0p/a/Ef9RyOJq1IeHzlAkSKItFq41T/z9fnD/3CPyjhvlo1obRSEdCggQ0YsMGCN6A/i1n5rcTvBLbF1ajYRuQjgS1BMotp78idl2uPL1kwOfZ/ngxDKU0qp9ZUEtAEzYUEboeV354JvIvcX6MBcp4UHcFpYQ2tGCDwWg4YvfzkXuVM7fHH0NQttTKbx5QSqA8paa7SDhi92eRdy0Xj8EbqtyFpm1QPtWmlIAGrNCaG+745BXkHOUxvKfK82jaCqQUi0oCZdugsWS+4ztyAz5b4X0VSEVBtZdUSaAsEp5D4DLGPqU24PMU3luBcs1VtVRQScDhVqg2kGPGPnUu8lSzOw4oczwatwJJxaGQQPpQx3mIO8KYJ7bSM+BzOg4CR6NxKxQbaoUE0l2nUYi7ljEnbLUE+WmRvw4HlqBcVFCNB4UEHGwHwg6z/QmPGRnwyT+BgwPOQ+N2IK0Y5BJIj21GttHbX2duwCc/Fg34zEbrdlyGxKLIJZBuxt+KsEv0v+7iyrbAlCV3oBHBfmjdDvmNerkEUkmYibAF/uYYCVmxJLSxJt2dlV9akUvAoXasRtSCD5GMNZ+gIQHtFjUSiyKVQNk8NTcfj6gFnBJod6iljzZKJdCez3EkgfZAl7QoSCWQSoIrCaT70/KiIJWAAy1xJIH4SBtSiyCTcCyOs8SRhN+heUuQWwSZBOKnwR1JID7HJds+yCQQP+7lSAJpGyn/RiKZBFpd7KESZJVRJgGH2dIzJciKgiMJ8hXjgfN6K1fR+d7zDsR/gpAEyv0XHyRXj0QC+Tu0qjciayS8e2lTU9OiOdIN5ZI5i8QbLn0X/wyoSqDcjgyQ3JOUSKB/BLRiISzhFJGhz6USC0t8Rz6n4AWfigSyA9nHRiUS6N8ruHAAQg9JONf/3xwwGa/UMRl/bloUugRXljCAtnPwkdyNk0igf1nIFuNhISRhBlJsatonti7k98Gfm5pm4CUBJAwYvwWatkfyYXKJBOIM2dx8y/jxsBCSMAcZCmIvth6IPwrm4CVBScIA0eAtaNwayRzpSsIWIubxLXIJD+GlGh7CHwX1Elr89shdwUwCDrJmoR/z+LxvISRhOTIUYz5+OFRqRtNyvCTwJbTkgwbJVQHp1eFIwmlBzHnfQkhCb2TY1LQnXqljT/y5qak3XhEICS35koTT0Lw1SK8Otz1hO2EhJKEyHhaFcgzTu9wVQqNBSGgRDQUN/n/1hOYgZtHn8y1hCfmShY/m4d8R5n0UvGFOeLR8IhxAAhq3B+nV4UrCMEjYLl/7AMZDMyYv3z+2IJTI77988ozaqvls0EzQHhq3B+nVES/hMhxjT1AUFMmaEkgglwTJutmVhOYHRdDDkAEDfs96EE0TiL8LFS+Bdr29hAibV8IwNEzhZ0iwFncSmvuxSljVD82SiL/1EC+B8lh3lYX3IAMG7qHvnnziPwvkUkLzaciAAXpNDDCRwDIceqIEk+HAJKEZGTCABqmYFEaGKTKArSjcgwapmEyRXBJ2RQ5kXkSDVEwWS/Rlcwm2osBUEhq8dwDIgQyaI4P06nAs4WEkQeRyNEcG6dXhWALTeOAaDelIaD4DaZA4A43RQXp1SCSQL7SWYekKbB2hwVebKzB0Bb6OYCaB75vaGboCW0cwvPnC+PNe5FUj12pRYHYbjvE7ecldga8jyL5VQyKB8+etiGuFh9EMB5KfzpJI4JsjBaTayDgYZDNkQySQBgTjYDCWwDdHCggWWB2YPrjF+43tlyMlY3ZFAzyYPsJHfJizHsviyFkUBaYPcxIf643QD2kZwXKVPQRyiyCTwFoZfSxGBNsGugxSiyCVwFoZfV5Eatr8FweyIauLcgm8ldHHbI44g3VeCDD/0AfXVfcQCw3uUud57jjVYP7xH/aiINh6laaG/KqtcQgnSCyKXAJ7URAS+pzcjTSVdJ/cx4EEaUlQSOAvCkJCnz7rJmroXle8zYEEmw+Hct2ACeFL6NPnvYtUj+tc9F7wJgcS5N84JZfgoCiUJAhWdMd6yHevwBtcSEBaMSgk8P/4WUWCYN1V3TXPcAzrXuUPgzL8Euy+OoB5+yAISwh4b8UK/4GsFStKYyAEvwTFr0MpJPCPh4gEOfwSkFQcKgnsk2SaEuQTpFrCGhzPRpoSVL+VppLAPh7SlICUYlFK4J4fUpRg/7VjnL+eXbz7F+9/Axlq8IXDfk37xog6lL+Zp5TANh6KP32/UCi0fwkZajBVvP+7X+bzgITiUUug/uxRia8fJjLy+Qoy1KBX6Yjv3402iFC+lJKjK3ztl6V8BH9Ehhp8E4cUln4L7ZBAOhISJNBL4xtLkY3gh8hQg31xiLCw+A00ZQ/ti2qp9yQfWZwbh2QEb/0FKSbybRwhGJfLLX4EzdlC+8pi2qrx5sW5XG4SkhG0/xw5JvJVHCGYJNrIvXQzmrRCtVr0SZJAeNS7ONcPPzcFyfh8BjkmUikJhUJn0EpuLmGmoH6NuX1pvLa1FH2uHdkIxv0bSSZw0Po4QIBWcq3XomFzkIqURAmWG+ridMSey72FbHx+gCwTeBJvFyxFK4Lplp2B/tMGdl3hjXI3EITHw6+QZQKfxdsFQUkArVYFMqki6Eiw2UuWqkGZ0CRZ+DHSVBLqCIUpaKTEXJzAhOTf2k6WYN4Vii8hZDAC+fjs+08kquCg6iIhPBoCzIdEckfQkWA6QaztQsAVQqWx8HdkqiA0NZTnhiq3rcVpdOH5CSTDtcJuoXIAwl2hMBWpSgkPhna0EKJ1N5xID42OoCXB6FmFRxBrDeGqUPgJkpXwAd4WMAIN1HAUTqUFclCiI8HkB/JiHdRMEIX1lRY+CC0RIhUBGFhg+4E8g9p4M8KsJ7xWKBR6IeEYsIUGtVNDFf1FNBJQoydhEzSZxNpoPQDh2lgoDH0TOdfxqaF4Q4nwGqGGVt3q+CMkoEZPgmZtLEbmhQo1A0KwTYyGN7fBH4FkMPh06c2UOlVRoClBb0BUl8pRamYInw2frPHw5pMb4g9l2mWDwWc6TqkGwSehK0HnRv0lCDCe0Ja6zPpDb+y15dSpW/a6cWi4HAKVg1zuEpxUBfdPKmt0BVlRLBNjQUVkmVRHcnHUHAwGEhIXC0VpUSxjZCHJgUZZQOTJaEtI/BxI7aYplkhdkJPoIHkz5eAH95NmiN0QmpIptTOlFGVNrKBeP2sPBiMJ6rLgX07UIHTZVc5beHMCi3HqeBC0DiYSVI82Xo3AEhmR2BnaNYZCiatx8jiUP/xUh4kE1a+kyZdJERLqo3SZGKULJ4/hXoSshZEEeVl4HWHpMUnaG9oNFAhex+kjJNxtqcNMgrQs3IaodOmMrQ3jtAcCuA2nj4BwNTGUILEQv4FW0zmp5irD0klaM0Idkk01gtXFVEL8L8Hcj5iMmdLZOWJEZ6dN/gH3I4Ba5L/uEo+phNiPjRYRUgrELRuTLy/XYSwhbuX4RUSUAr9BCCHUzyLEYS7Bm4iTVdFcKLkgumCSfeRNgYWEyEfqUxwN0fGgdVGxDhsJ9Rder0U8qXAnggDKp9RkWEmoWzRZzw0c/B5BlDBbJJWxk1DbFxBOOrQiiAA7B7YSwnXhewgnJUIXnm3qgY+thNAccSeiSYnq/sFiXihhLaH6jKP6+qpzKldczdcHZewlVB5cUF1obwDli+/G68QqBAnlfQSCSQtURtP9QhiKhNKeMtWlkk+wXEJAdtAk+AuGtYglNcT0YHBRNQ6iBFEej0IsqXGU2bW0GKgSvLZNEUtqbBr/xasGkCV43oWJt55c0nohwiDAIMF7OcVJcvrLCIIChwRv8/8gpIbz280RAgkWCZ53dt2ji43hpbNxeiJMEjwvhc7wOZyaDJsE79AGX1a4/1CcmA6fBM/bzOBeHJWuzXBSDjgleOvdgBCdc8N6OCULrBI875qnEaVTnr4Gp2OCWYLnvXASInXGSS/gVGywS/C8jZ1qOGljnIYRBxI878QdETE7O56IU7DiRILnHXCMg5mi65gD0DwzjiQITmXeUbx6Khrmx50EzzuLrzt0HXMWGnWBSwmCq95m2Ge3vn0VmnOEYwmCq24n9Yeu2x0bELiXILjp0VeRkiGvPnoTmnBKQyT4HNd3kNHIaB3U9zgc6pyGSfA55JkrjtQYG11HXvHMITikITRUQonXRvbdY9BOMTK6dhq0R9+Rr+FtDSQFCRU22vuCIUMeGDnygSFDLth7I7yYBmlK6DFkEgSZBEEmQZBJEGQSBJkEQSZBkEkQZBIEmQRBJkGQSRBkEgSZBEEmQZBJEGQSBJkEQSZBkEnwPO9/XysQ2W6ezO4AAAAASUVORK5CYII="},460:function(e,t,n){e.exports=n.p+"static/media/woman.f59f2613.png"},481:function(e,t,n){e.exports=n.p+"static/media/dicionario.3ed9632a.txt"},492:function(e,t,n){e.exports=n.p+"static/media/analyst.e8b54de7.jpg"},516:function(e,t,n){e.exports=n(820)},521:function(e,t,n){},632:function(e,t){},651:function(e,t,n){},652:function(e,t,n){},657:function(e,t,n){},720:function(e,t,n){},734:function(e,t,n){},735:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},741:function(e,t,n){},768:function(e,t,n){},769:function(e,t,n){},776:function(e,t,n){},777:function(e,t,n){},778:function(e,t,n){},779:function(e,t,n){},780:function(e,t,n){},784:function(e,t,n){},786:function(e,t,n){},789:function(e,t,n){var a={"./bg-BG.json":790,"./ca-ES.json":791,"./cs-CZ.json":792,"./de-DE.json":793,"./en-US.json":447,"./es-ES.json":794,"./fi-FL.json":795,"./fr-FR.json":796,"./he-IL.json":797,"./it-IT.json":798,"./ja-JP.json":799,"./nb-NO.json":800,"./pl-PL.json":801,"./pt-BR.json":802,"./ru-RU.json":803,"./sv-SE.json":804,"./tr-TR.json":805,"./zh-CN.json":806};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=789},815:function(e,t,n){},816:function(e,t,n){},817:function(e,t,n){},818:function(e,t,n){},820:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n(0),o=n.n(r),i=n(82),l=n.n(i),s=n(20),c=n(21),u=n(24),h=n(23),d=n(111),m=n(60),p=(n(521),n(27)),f=function(e){return{type:"LOG_IN",payload:{currentUser:e}}},g=function(e){return{type:"ALL_USERS_LOGGEDS",payload:{allUsersLoggeds:e}}},v=function(){return{type:"LOG_OUT",payload:{currentUser:null}}},y=function(e){return{type:"SET_CURRENT_CHANNEL",payload:{currentChannel:e}}},E=function(){return{type:"CLEAR_CHANNEL",payload:{currentChannel:null}}},w=function(e){return{type:"SET_CHANNELS_USER",payload:{channelsUser:e}}},b=function(e){return{type:"CHANNELS_ANALYSTS",payload:{channelsAnalysts:e}}},C=n(822),S=n(865),x=function(){return o.a.createElement(C.a,{active:!0},o.a.createElement(S.a,{size:"huge",content:"Preparando chat..."}))},L=n(500),k=n(872),O=n(340),A=n(76),j=n(26),I={currentUser:null,isLoading:!0},P={usersLoggeds:[]},N={loginITSM:null},_={currentChannel:null},T={channelsUser:[]},F={currentPadding:8.4},U={allChannels:[]},M={channelsAnalysts:[]},D=Object(A.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return{currentUser:t.payload.currentUser,isLoading:!1};case"LOG_OUT":return{isLoading:!1};default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_CHANNEL":return Object(j.a)(Object(j.a)({},e),{},{currentChannel:t.payload.currentChannel});case"CLEAR_CHANNEL":return{currentChannel:null};default:return e}},padding:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU_PADDING":return Object(j.a)(Object(j.a)({},e),{},{currentPadding:t.payload.currentPadding});default:return e}},allChannels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_CHANNELS":return Object(j.a)(Object(j.a)({},e),{},{openChannels:t.payload.allChannels});default:return e}},usersLogged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_USERS_LOGGEDS":return Object(j.a)(Object(j.a)({},e),{},{usersLoggeds:t.payload.allUsersLoggeds});default:return e}},channelsUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHANNELS_USER":return Object(j.a)(Object(j.a)({},e),{},{channelsUser:t.payload.channelsUser});default:return e}},channelsAnalysts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANNELS_ANALYSTS":return Object(j.a)(Object(j.a)({},e),{},{channelsAnalysts:t.payload.channelsAnalysts});default:return e}},userLoginITSM:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ITSM":return{loginITSM:t.payload.loginITSM};default:return e}}}),R=n(350),q=n(456),B=n(457),G={key:"siteeventos",storage:n.n(B).a},W=Object(R.a)(G,D),z=Object(A.createStore)(W,Object(q.composeWithDevTools)()),H=Object(R.b)(z),Y=n(128),V=n(35),Q=n(113),J=n(158),Z=n(50),K=n(342),X=n(870),$=n(157),ee=n(106),te=n.n(ee),ne=n(31),ae=n.n(ne),re="https://chatwhatsapp.lanlink.com.br:8000";function oe(){oe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var ie=Object(c.a)((function e(){Object(s.a)(this,e),this.auth=function(e,t){return ae.a.post("".concat(re,"/login"),{email:e,password:t},{withCredentials:!0})},this.removeSession=function(){var e=Object(a.a)(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.post("".concat(re,"/logout"),{user:t},{withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendMessage=function(e,t,n,a,r,o){var i={Authorization:"Bearer ".concat(r)};return ae.a.post("".concat(re,"/sendMessage"),{to:t,message:n,imageUrl:a,channelId:e,twilioNumber:o},{headers:i,withCredentials:!0})},this.disableChannel=function(e,t){var n={Authorization:"Bearer ".concat(t)};return ae.a.post("".concat(re,"/disableChannel"),{channelId:e},{headers:n,withCredentials:!0})},this.assignToChannel=function(e,t){var n={Authorization:"Bearer ".concat(t)};return ae.a.post("".concat(re,"/assignToChannel"),{channelId:e},{headers:n,withCredentials:!0})},this.transferingChannel=function(e,t,n,a,r,o,i){var l={Authorization:"Bearer ".concat(i)};return ae.a.post("".concat(re,"/transferingChannel"),{channelId:e,analyst:t,messageAction:n,analystAffected:a,idQueueTransfering:r,idQueue:o},{headers:l,withCredentials:!0})},this.getAllChannels=function(e){var t={Authorization:"Bearer ".concat(e)};return ae.a.get("".concat(re,"/getAllChannels"),{headers:t,withCredentials:!0})},this.logged=function(e,t,n){var a={Authorization:"Bearer ".concat(e)};return ae.a.get("".concat(re,"/logged"),{headers:a,withCredentials:!0})},this.users=function(e,t,n){var a={Authorization:"Bearer ".concat(e)};return ae.a.get("".concat(re,"/users?page=").concat(t,"&pagination=").concat(n),{headers:a,withCredentials:!0})},this.createUser=function(e,t,n,a,r,o,i){var l={Authorization:"Bearer ".concat(e)};return ae.a.post("".concat(re,"/createUser"),{email:t,name:n,password:a,sexo:r,active:o,type:i},{headers:l,withCredentials:!0})},this.updateUser=function(e,t,n,a,r,o,i,l){var s={Authorization:"Bearer ".concat(e)};return ae.a.put("".concat(re,"/updateUser/").concat(t),{email:n,name:a,password:r,sexo:o,active:i,type:l},{headers:s,withCredentials:!0})},this.clientes=function(e){var t={Authorization:"Bearer ".concat(e)};return ae.a.get("".concat(re,"/clientes"),{headers:t,withCredentials:!0})},this.updateClient=function(e,t,n,a,r,o,i,l){var s={Authorization:"Bearer ".concat(e)};return ae.a.put("".concat(re,"/updateClient/").concat(t),{email:n,name:a,numero:r,sexo:o,ativo:i,tenant_name:l},{headers:s,withCredentials:!0})},this.createClient=function(e,t,n,a,r,o,i){var l={Authorization:"Bearer ".concat(e)};return ae.a.post("".concat(re,"/createClient"),{email:t,name:n,numero:a,sexo:r,ativo:o,tenant_name:i},{headers:l,withCredentials:!0})},this.createTenant=function(e,t,n,a,r,o,i,l,s,c,u,h,d,m,p,f,g,v,y,E,w,b,C,S,x,L){var k={Authorization:"Bearer ".concat(e)};return ae.a.post("".concat(re,"/createTenant"),{dateInit:t,dateEnd:n,nomeTenant:a,emailTenant:r,nomeRepresentante:o,emailRepresentante:i,numeroRepresentante:l,numeroTenant:s,statusTenant:c,chatWeb:u,chatBotWeb:h,chatWhatsApp:d,blipChat:m,chatbotWhatsApp:p,workspaceIDWeb:f,urlWeb:g,versionWeb:v,apiKeyWeb:y,workspaceIDWhatsApp:E,primaryColor:w,secondaryColor:b,conversaUser:C,conversaAnalyst:S,logo:x,logoSize:L},{headers:k,withCredentials:!0})},this.updateTenant=function(e,t,n,a,r,o,i,l,s,c,u,h,d,m,p,f,g,v,y,E,w,b,C,S,x,L,k,O,A){var j={Authorization:"Bearer ".concat(e)};return ae.a.put("".concat(re,"/updateTenant/").concat(t),{dateInit:n,dateEnd:a,nomeTenant:r,emailTenant:o,nomeRepresentante:i,emailRepresentante:l,numeroRepresentante:s,numeroTenant:c,statusTenant:u,chatWeb:h,chatBotWeb:d,chatWhatsApp:m,blipChat:p,chatbotWhatsApp:f,workspaceIDWeb:g,urlWeb:v,versionWeb:y,apiKeyWeb:E,workspaceIDWhatsApp:w,primaryColor:b,secondaryColor:C,conversaUser:S,conversaAnalyst:x,logo:L,logoSize:k,iconChat:O,respostas:A},{headers:j,withCredentials:!0})},this.getAllTenants=function(e){var t={Authorization:"Bearer ".concat(e)};return ae.a.get("".concat(re,"/tenants"),{headers:t,withCredentials:!0})},this.getTenantRelation=function(e,t){var n={Authorization:"Bearer ".concat(e)};return ae.a.get("".concat(re,"/relationByTenant?tenant_name=").concat(t),{headers:n,withCredentials:!0})},this.getTenantRelationUser=function(e,t){var n={Authorization:"Bearer ".concat(e)};return ae.a.get("".concat(re,"/relationByUser?userId=").concat(t),{headers:n,withCredentials:!0})},this.getTenantById=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={Authorization:"Bearer ".concat(e)},a=[],r=0;r<t.length;r++){var o=t[r];a.push(ae.a.get("".concat(re,"/tenant/").concat(o),{headers:n,withCredentials:!0}))}return Promise.all(a)},this.relationUserTenant=function(){var e=Object(a.a)(oe().mark((function e(t){var n,a,r,o,i,l,s=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length>1&&void 0!==s[1]?s[1]:[],a=s.length>2?s[2]:void 0,r={Authorization:"Bearer ".concat(t)},o=[],i=0;i<n.length;i++)l=n[i].user_id,o.push(ae.a.post("".concat(re,"/relationUser"),{userId:l,tenant_name:a},{headers:r,withCredentials:!0}));return e.abrupt("return",Promise.all(o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.relationDeleteUserTenant=function(){var e=Object(a.a)(oe().mark((function e(t){var n,a,r,o,i,l,s=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length>1&&void 0!==s[1]?s[1]:[],a=s.length>2?s[2]:void 0,r={Authorization:"Bearer ".concat(t)},o=[],i=0;i<n.length;i++)l=n[i].user_id,o.push(ae.a.delete("".concat(re,"/relationUser"),{data:{userId:l,tenant_name:a},headers:r,withCredentials:!0}));return e.abrupt("return",Promise.all(o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendEmail=function(e){return ae.a.post("".concat(re,"/forgotPassword"),{emailUser:e},{headers:{"Content-Type":"application/json"}})},this.updatePassword=function(e,t,n){return ae.a.put("".concat(re,"/updatePassword/").concat(n),{password1:e,password2:t},{headers:{"Content-Type":"application/json"}})},this.pausa=function(e,t){var n={Authorization:"Bearer ".concat(e)};return ae.a.post("".concat(re,"/makePause"),{action:t},{headers:n,withCredentials:!0})},this.returnPause=function(e,t){var n={Authorization:"Bearer ".concat(e)};return ae.a.post("".concat(re,"/returnPause"),{pausaId:t},{headers:n,withCredentials:!0})},this.queuesByTenant=function(e,t){var n={Authorization:"Bearer ".concat(e)};return ae.a.get("".concat(re,"/queuesByTenant?tenant_id=").concat(t),{headers:n,withCredentials:!0})},this.createRelationQueueUser=function(e,t,n){var a={Authorization:"Bearer ".concat(e)};return ae.a.post("".concat(re,"/createRelationQueueUser"),{queueId:t,userId:n},{headers:a,withCredentials:!0})},this.removeRelationQueueUser=function(e,t,n){var a={Authorization:"Bearer ".concat(e)};return ae.a.post("".concat(re,"/removeRelationQueueUser"),{queueId:t,userId:n},{headers:a,withCredentials:!0})}})),le=function(e){var t=!1;return{promise:new Promise((function(n,a){e.then((function(e){return t?a({isCanceled:t,value:e}):n(e)}),(function(e){return a({isCanceled:t,error:e})}))})),cancel:function(){return t=!0}}},se=n(458),ce=n.n(se),ue=(n(651),n(197)),he=n.n(ue),de=n(459),me=n.n(de),pe=n(460),fe=n.n(pe),ge=n(42),ve=n(461),ye=n(867),Ee=n(868),we=n(129),be=n(869),Ce=n(824),Se=n(826),xe=n(883),Le=Object(c.a)((function e(){Object(s.a)(this,e),this.sendMessageWeb=function(e,t,n,a,r){var o={Authorization:"Bearer ".concat(r)};return ae.a.post("".concat(re,"/sendMessageWeb"),{to:t,message:n,imageUrl:a,channelId:e},{headers:o})},this.loginAssyst=function(e){return ae.a.post("".concat(re,"/assyst/login"),{key:e},{withCredentials:!0})},this.searchUser=function(e,t){return ae.a.post("".concat(re,"/assyst/searchUser"),{name:e,key:t},{withCredentials:!0})},this.catalogo=function(e,t,n){return ae.a.get("".concat(re,"/assyst/").concat(e,"/").concat(t,"/").concat(n),{withCredentials:!0})},this.createRequestAssyst=function(e,t,n,a,r,o,i){return ae.a.post("".concat(re,"/assyst/createRequest"),{categories:e,tipo:t,titulo:n,descricao:a,tempo:r,key:o,affectedUser:i},{withCredentials:!0})},this.searchAD=function(e,t,n){var a={Authorization:"Bearer ".concat(n)};return ae.a.post("".concat(re,"/searchAdUser"),{usuario:e,inquilinoSelected:t},{withCredentials:!0,headers:a})},this.resetSenhaAD=function(e,t,n){var a={Authorization:"Bearer ".concat(n)};return ae.a.post("".concat(re,"/changeAdUserPassword"),{usuario:e,inquilinoSelected:t},{withCredentials:!0,headers:a})}})),ke=n(242),Oe=n(866),Ae=(n(652),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.props.arrayCatalogo&&a.initChronometer(),a.setState({arrayServices:[].concat(Object(V.a)(a.state.arrayServices),[a.props.arrayCatalogo]),navigations:[].concat(Object(V.a)(a.state.navigations),[{servicePai:{name:"Servi\xe7os"},arrayFilho:a.props.arrayCatalogo}])})},a.componentDidUpdate=function(e,t){if(!t.arrayServices.length&&!t.arraySubServices.length&&t.navigations.length>1){var n=t.navigations.slice(-1).pop();a.changeData(n.arrayPai,n.servicePai.loggedEventType)}},a.componentWillUnmount=function(){a.setState=function(e,t){}},a.changeData=function(e,t){a.props.createRequestAssyst(e,t,a.state.time)},a.initChronometer=function(){var e=document.getElementsByTagName("h1")[0],t=0,n=0,r=0;function o(){++t>=60&&(t=0,++n>=60&&(n=0,r++)),e.textContent=(r?r>9?r:"0"+r:"00")+":"+(n?n>9?n:"0"+n:"00")+":"+(t>9?t:"0"+t),i()}var i=function(){setTimeout(o,1e3),a.setState({time:e.textContent})};i()},a.updateStates=function(e,t,n,r){a.setState({currentNode:e,arraySubServices:t,arrayServices:n,navigations:r})},a.navigateService=function(e,t,n,r){void 0!==n&&void 0===r?(a.state.arraySubServices.unshift(n),a.state.arrayServices.splice(0,a.state.arrayServices.length),a.state.navigations.push({servicePai:e,arrayPai:t,arrayFilho:n}),a.updateStates(e.name,a.state.arraySubServices,a.state.arrayServices,a.state.navigations)):void 0!==r&&void 0===n?(a.state.arraySubServices.unshift(r),a.state.arrayServices.splice(0,a.state.arrayServices.length),a.state.navigations.push({servicePai:e,arrayPai:t,arrayFilho:r}),a.updateStates(e.name,a.state.arraySubServices,a.state.arrayServices,a.state.navigations)):void 0!==n&&void 0!==r?(a.state.arraySubServices.unshift(n.concat(r)),a.state.arrayServices.splice(0,a.state.arrayServices.length),a.state.navigations.push({servicePai:e,arrayPai:t,arrayFilho:n.concat(r)}),a.updateStates(e.name,a.state.arraySubServices,a.state.arrayServices,a.state.navigations)):(a.state.arrayServices.splice(0,a.state.arrayServices.length),a.state.arraySubServices.splice(0,a.state.arraySubServices.length),a.state.navigations.push({servicePai:e,arrayPai:t}),a.updateStates(e.name,a.state.arraySubServices,a.state.arrayServices,a.state.navigations))},a.navigateSubService=function(e,t,n,r){void 0!==n&&void 0===r?(a.state.arraySubServices.unshift(n),a.state.arrayServices.splice(0,a.state.arrayServices.length),a.state.navigations.push({servicePai:e,arrayPai:t,arrayFilho:n}),a.updateStates(e.name,a.state.arraySubServices,a.state.arrayServices,a.state.navigations)):void 0!==r&&void 0===n?(a.state.arraySubServices.unshift(r),a.state.arrayServices.splice(0,a.state.arrayServices.length),a.state.navigations.push({servicePai:e,arrayPai:t,arrayFilho:r}),a.updateStates(e.name,a.state.arraySubServices,a.state.arrayServices,a.state.navigations)):void 0!==n&&void 0!==r?(a.state.arraySubServices.unshift(n.concat(r)),a.state.arrayServices.splice(0,a.state.arrayServices.length),a.state.navigations.push({servicePai:e,arrayPai:t,arrayFilho:n.concat(r)}),a.updateStates(e.name,a.state.arraySubServices,a.state.arrayServices,a.state.navigations)):(a.state.arrayServices.splice(0,a.state.arrayServices.length),a.state.arraySubServices.splice(0,a.state.arraySubServices.length),a.state.navigations.push({servicePai:e,arrayPai:t}),a.updateStates(e.name,a.state.arraySubServices,a.state.arrayServices,a.state.navigations))},a.returnToNode=function(e,t){var n=0;t[0].id===a.state.navigations[0].arrayFilho[0].id?(a.state.arrayServices.unshift(t),a.state.arraySubServices.splice(0,a.state.arraySubServices.length),a.setState({arrayServices:a.state.arrayServices,arraySubServices:a.state.arraySubServices})):(a.state.arraySubServices.unshift(t),a.setState({arraySubServices:a.state.arraySubServices})),a.state.navigations.forEach((function(t,a){e.name.includes(t.servicePai.name)&&(n=a)})),a.setState({currentNode:e.name,navigations:a.state.navigations.slice(0,n+1)})},a.render=function(){var e=a.state,t=e.navigations,n=e.arrayServices,r=e.arraySubServices;return o.a.createElement("div",{id:"container-catalogo"},o.a.createElement("div",{className:"containerChornometer"},o.a.createElement("h1",null,o.a.createElement("time",null,"00:00:00"))),o.a.createElement("h2",null,"CATEGORIA DO CHAMADO"),o.a.createElement("div",{id:"navegacao_abas"},t.length>0&&t.map((function(e,n){return o.a.createElement("div",{style:{paddingTop:0},onClick:function(){return a.returnToNode(e.servicePai,e.arrayFilho)},key:Math.random()},o.a.createElement("div",{style:{flexDirection:"row",margin:"5px"}},o.a.createElement(we.a,{icon:t.length>1?"play":"pause",color:n===t.length-1?"blue":"grey",content:e.servicePai.name.toUpperCase()})))}))),o.a.createElement(ke.a.Group,{stackable:!0},n.length>0&&n[0].map((function(e){return o.a.createElement(ke.a,{key:Math.random()+e.name,onClick:function(){return a.navigateService(e,n,e.filteredChildServices,e.filteredServiceOfferings)},fluid:!0,color:"blue",header:e.name})}))),o.a.createElement("div",{style:{flexDirection:"column",width:"100%",borderBottomColor:"#205EA1",borderBottomWidth:"1px",justifyContent:"center",paddingTop:"20px"}},o.a.createElement(Oe.a,{divided:!0,relaxed:!0,size:"medium"},r.length>0&&r[0].map((function(e,t){return o.a.createElement(Oe.a.Item,{key:t+Math.random()+t.toString(),onClick:function(){return a.navigateSubService(e,r[0],e.filteredServiceOfferings,e.filteredChildServices)}},o.a.createElement(Oe.a.Icon,{name:e.filteredChildServices||e.filteredServiceOfferings?"folder":"file",size:"large",verticalAlign:"middle"}),o.a.createElement(Oe.a.Content,null,o.a.createElement(Oe.a.Header,null,e.name)))})))),o.a.createElement("div",{style:{flex:1}},!n.length&&!r.length&&t.length>1?o.a.createElement("div",null,o.a.createElement("p",null,"CHAMADO CRIADO")):null))},a.state={arrayServices:[],arraySubServices:[],navigations:[],currentNode:null},a}return Object(c.a)(n)}(o.a.Component));n(657);function je(){je=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Ie=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).chatWebService=new Le,r.genderOptions=[{key:"m",text:"Incidente",value:"Incidente"},{key:"f",text:"Solicitacao",value:"Solicitacao"}],r.componentDidMount=function(){},r.componentDidUpdate=function(e,t){var n=r.props.userLoginITSM;t.numberOptions!==r.state.numberOptions&&2===r.state.numberOptions&&n&&Object.values(n).length&&n.itsm===r.state.itemSelected?r.setState({numberOptions:3}):t.numberOptions!==r.state.numberOptions&&4===r.state.numberOptions&&r.getCategory()},r.submitLogin=function(){var e=Object(a.a)(je().mark((function e(t){var n,a,o,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({loadingLogin:!0}),e.prev=2,n=btoa("".concat(r.state.form.email,":").concat(r.state.form.password)),e.next=6,r.chatWebService.loginAssyst(n);case 6:a=e.sent,o=a.data,Object.values(o).length&&(i={data:n,itsm:r.state.itemSelected},r.props.loginITSM(i),r.setState({loadingLogin:!1})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),r.state.errorsLogin.push({message:"error"}),r.setState({errorsLogin:r.state.errorsLogin,loadingLogin:!1});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),r.handleChangeLogin=function(e){r.setState({form:Object(j.a)(Object(j.a)({},r.state.form),{},Object(ge.a)({},e.target.name,e.target.value))})},r.handleChange=function(e){r.setState(Object(ge.a)({},e.target.name,e.target.value))},r.seletecStep=function(e){3===r.state.numberOptions&&r.setState({numberOptions:e})},r.debounce=r.debounceEvent(),r.searchUser=function(){var e=Object(a.a)(je().mark((function e(t){var n,o,i;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=r.props.userLoginITSM,o=t.target.value,r.setState(Object(ge.a)({},t.target.name,t.target.value)),1===(i=r.state.array_users.filter((function(e){return e.name===t.target.value}))).length&&r.setState({shortCode_user:i.shift().shortCode}),r.debounce(Object(a.a)(je().mark((function e(){var t,a;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.chatWebService.searchUser(o,n.data);case 2:t=e.sent,a=t.data,Array.isArray(a)&&a.length?r.setState({array_users:a}):r.setState({array_users:[]});case 5:case"end":return e.stop()}}),e)}))),500);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.getCategory=Object(a.a)(je().mark((function e(){var t,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.chatWebService.catalogo("serviceCatalog","contactUser",r.state.shortCode_user);case 2:t=e.sent,n=t.data,Array.isArray(n)&&n.length?r.setState({array_catalog:n}):r.setState({array_catalog:[]});case 5:case"end":return e.stop()}}),e)}))),r.FormLoginITSM=function(){return o.a.createElement(ve.a,{textAlign:"center",verticalAlign:"middle"},o.a.createElement(ve.a.Column,{style:{maxWidth:450}},o.a.createElement(ye.a,{as:"h2",style:{color:"rgb(59 74 158)"},textAlign:"center"},o.a.createElement($.a,{src:"ASSYST"===r.state.itemSelected?"https://store-images.s-microsoft.com/image/apps.25723.1a4ca277-38bd-4cee-95b8-0cff54c0929b.7b152817-8da7-4a2d-948f-e8761c2d73b1.056eb220-fc9c-48f2-b0d7-c2087ce77e45":"https://www.handson-ti.com.br/wp-content/uploads/2018/04/logo-glpi-bleu-1.png"}),"ASSYST"===r.state.itemSelected?"ASSYST":"TOKI"),o.a.createElement(Ee.a,{onSubmit:r.submitLogin,size:"large"},o.a.createElement(O.a,{stacked:!0},o.a.createElement(Ee.a.Input,{name:"email",fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:r.handleChangeLogin}),o.a.createElement(Ee.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:r.handleChangeLogin}),o.a.createElement(we.a,{loading:r.state.loadingLogin,type:"submit",style:{backgroundColor:"rgb(59 74 158)",color:"#FFFFFF"},fluid:!0,size:"large"},"Login"))),r.state.errorsLogin.length?o.a.createElement(be.a,null," ERROR AO FAZER LOGIN "):o.a.createElement(o.a.Fragment,null)))},r.FormExampleFieldControlId=function(){return o.a.createElement(Ee.a,null,o.a.createElement(Ee.a.Field,null,o.a.createElement("label",null,"Nome do usu\xe1rio afetado"),o.a.createElement("input",{name:"inputNameUser",placeholder:"Digite o nome do usu\xe1rio afetado..",size:"50",list:"users",onChange:r.searchUser,multiple:!0}),o.a.createElement("datalist",{id:"users"},r.state.array_users.length?r.state.array_users.map((function(e,t){return o.a.createElement("option",{key:t+Math.random()+t.toString(),value:e.name})})):o.a.createElement(o.a.Fragment,null))),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"inputTittleRequest",control:Ce.a,label:"Titulo do chamado",placeholder:"Digite o titulo para o chamado..",onChange:r.handleChange}),o.a.createElement(Ee.a.Field,{value:r.state.inputTypeRequest,name:"inputTypeRequest",label:"Tipo do chamado",control:"select",onChange:r.handleChange},o.a.createElement("option",{value:"incidente"},"Incidente"),o.a.createElement("option",{value:"solicitacao"},"Solicita\xe7\xe3o"))),o.a.createElement(Ee.a.Field,{name:"descriptionRequest",control:Se.a,label:"Descri\xe7\xe3o do chamado",placeholder:"Digite a descri\xe7\xe3o do chamado..",onChange:r.handleChange}))},r.initCatalog=function(){return o.a.createElement(O.a,{loading:!r.state.array_catalog.length},r.state.array_catalog.length&&o.a.createElement(Ae,{arrayCatalogo:r.state.array_catalog,createRequestAssyst:r.createRequestAssyst}))},r.chamadoCreated=function(){var e=r.state.details_ticket.shift(),t="https://assysthomol.lanlink.com.br/assystweb/application.do#event%2FDisplayEvent.do%3Fdispatch%3DgetEvent%26checkJukeBoxSettings%3Dtrue%26eventId%3D100".concat(e.formattedReference.replace("R","").replace("S",""),"%26resultSet%3D");return o.a.createElement("div",{style:{textAlign:"-webkit-center"}},o.a.createElement("div",{className:"bgCard"},o.a.createElement("div",{id:"headerCard"},o.a.createElement("p",{className:"textHeader"}," ",o.a.createElement(Z.a,{name:"file alternate",style:{color:"white"}}),e.formattedReference)),o.a.createElement("div",{id:"descricaoCard"},o.a.createElement("div",{className:"column"},o.a.createElement("p",{className:"label"},"STATUS"),o.a.createElement("p",{style:{fontSize:"15px"}},e.eventStatusEnum)),o.a.createElement("div",{className:"column"},o.a.createElement("p",{className:"label"},"ABERTO EM:"),o.a.createElement("p",{style:{fontSize:"15px"}},e.dateLogged))),o.a.createElement("div",{style:{padding:"15px"}},o.a.createElement("p",{style:{fontWeight:"bold",fontSize:"13px"}},"DESCRI\xc7\xc3O:"),o.a.createElement("p",{style:{fontSize:"15px"}},e.remarks)),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(m.b,{to:t},o.a.createElement("button",{id:"buttonCard"},o.a.createElement("p",null,"VER DETALHES"))))))},r.formsDynamics=function(){return 1===r.state.numberOptions?o.a.createElement("div",{className:"buttonsItsms"},o.a.createElement("button",{className:"shadow-focus",onClick:function(){return r.itemSelected("TOKI")}},"TOKI"),o.a.createElement("button",{className:"shadow-focus",onClick:function(){return r.itemSelected("ASSYST")}},"ASSYST")):2===r.state.numberOptions?r.FormLoginITSM():3===r.state.numberOptions?r.FormExampleFieldControlId():4===r.state.numberOptions?r.initCatalog():5===r.state.numberOptions?r.chamadoCreated():void r.props.openOrCloseModal()},r.itemSelected=function(e){r.setState({itemSelected:e})},r.createRequestAssyst=function(){var e=Object(a.a)(je().mark((function e(t,n,a){var o,i,l;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.props.userLoginITSM,e.prev=1,r.setState({array_catalog:[]}),e.next=5,r.chatWebService.createRequestAssyst(t,n,r.state.inputTittleRequest,r.state.descriptionRequest,a,o.data,r.state.shortCode_user);case 5:i=e.sent,l=i.data,Object.values(l).length&&r.setState({numberOptions:5,details_ticket:[l]}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("ERROR",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),r.disabledButton=function(){return!(1!==r.state.numberOptions||!r.state.itemSelected)||(!(2!==r.state.numberOptions||!r.state.form.email||!r.state.form.password)||!!(3===r.state.numberOptions&&r.state.inputNameUser&&r.state.descriptionRequest&&r.state.inputTittleRequest&&r.state.inputTypeRequest))},r.render=function(){var e=r.state.numberOptions;return o.a.createElement(xe.a,{style:{position:"relative",height:"auto"},open:r.props.modalForm,onClose:function(){return r.props.openOrCloseModal()},closeIcon:{style:{top:"1.0535rem",right:"1rem"},color:"black",name:"close"}},o.a.createElement(xe.a.Header,null,"Integra\xe7\xe3o com ITSM"),o.a.createElement(xe.a.Content,null,o.a.createElement("div",{className:"form-steps-container"},o.a.createElement("div",{className:"form-step","step-current":1===e?"true":"false","step-completed":e>1?"true":"false"},"Escolhendo ITSM"),o.a.createElement("div",{className:"form-step","step-current":2===e?"true":"false","step-completed":e>2?"true":"false"},"Login ITSM"),o.a.createElement("div",{className:"form-step","step-current":3===e?"true":"false","step-completed":e>3?"true":"false"},"Formul\xe1rio"),o.a.createElement("div",{className:"form-step","step-current":4===e?"true":"false","step-completed":e>4?"true":"false"},"Categoria"),o.a.createElement("div",{className:"form-step","step-current":5===e?"true":"false","step-completed":e>5?"true":"false"},"Chamado criado")),r.formsDynamics()),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{primary:!0,disabled:!r.disabledButton(),onClick:function(){return r.setState({numberOptions:e+1})}},"Pr\xf3ximo ",o.a.createElement(Z.a,{name:"right chevron"})),o.a.createElement(we.a,{negative:!0,onClick:function(){return r.props.openOrCloseModal()},color:"red"},"Cancelar")))},r.state={numberOptions:1,itemSelected:null,time:null,inputNameUser:"",inputTittleRequest:"",inputTypeRequest:"solicitacao",descriptionRequest:"",errorsLogin:[],loadingLogin:!1,inputSearch:"",form:{email:"",password:""},array_users:[],shortCode_user:null,array_catalog:[],details_ticket:[]},r}return Object(c.a)(n,[{key:"debounceEvent",value:function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;clearTimeout(e),e=setTimeout(Object(a.a)(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)}))),n)}}}]),n}(o.a.Component),Pe=Object(p.b)((function(e){return{userLoginITSM:e.userLoginITSM.loginITSM}}),{loginITSM:function(e){return{type:"LOGIN_ITSM",payload:{loginITSM:e}}}})(Ie);function Ne(){Ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var _e=function(){var e=Object(a.a)(Ne().mark((function e(t){var n,a,r,o,i;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.password,a=t.newPassword,r=t.passwordConfirmation,o=t.token,e.next=3,ae.a.post("".concat(re,"/user/resetPassword?token=").concat(o),{password:n,newPassword:a,passwordConfirmation:r},{headers:{"Content-type":"application/json"},withCredentials:!0});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(720);function Te(){Te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Fe=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).chatWebService=new Le,r.genderOptions=[{key:"m",text:"Incidente",value:"Incidente"},{key:"f",text:"Solicitacao",value:"Solicitacao"}],r.componentDidMount=function(){},r.componentDidUpdate=function(e,t){},r.submitNewPassword=Object(a.a)(Te().mark((function e(){var t,n,a,o,i,l,s,c;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,n=t.password,a=t.newPassword,o=t.passwordConfirmation,n&&a&&o){e.next=4;break}return r.setState({errorsLogin:[{message:"Preencha todos os campos!"}]}),e.abrupt("return");case 4:if(a===o){e.next=7;break}return r.setState({errorsLogin:[{message:"As senhas devem ser iguais!"}]}),e.abrupt("return");case 7:return r.setState({loadingLogin:!0}),e.prev=8,e.next=11,_e({password:n,newPassword:a,passwordConfirmation:o,token:null===(i=r.props)||void 0===i||null===(l=i.currentUser)||void 0===l?void 0:l.token});case 11:return r.setState({loadingLogin:!1,password:"",newPassword:"",passwordConfirmation:"",errorsLogin:[],successReset:!0}),e.next=14,new Promise((function(e){return setTimeout(e,2e3)}));case 14:r.props.openOrCloseModal(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),r.setState({errorsLogin:[{message:null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message}],loadingLogin:!1});case 20:case"end":return e.stop()}}),e,null,[[8,17]])}))),r.handleChange=function(e){r.setState(Object(ge.a)({},e.target.name,e.target.value))},r.render=function(){return o.a.createElement(xe.a,{style:{position:"relative",height:"auto"},open:r.props.modalForm,onClose:function(){return r.props.openOrCloseModal()},closeIcon:{style:{top:"1.0535rem",right:"1rem"},color:"black",name:"close"}},o.a.createElement(xe.a.Header,null,"Reset de senha"),o.a.createElement(xe.a.Content,null,r.state.successReset&&o.a.createElement(be.a,{color:"green"},"SENHA RESETADA COM SUCESSO!"),o.a.createElement("div",{className:"form-steps-container"},o.a.createElement("div",{className:"reset-section"},o.a.createElement(Ee.a,{size:"large"},o.a.createElement(Ee.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Senha atual",type:"password",onChange:r.handleChange,value:r.state.password}),o.a.createElement(Ee.a.Input,{name:"newPassword",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Nova senha",type:"password",onChange:r.handleChange,value:r.state.newPassword}),o.a.createElement(Ee.a.Input,{name:"passwordConfirmation",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirmar nova senha",type:"password",onChange:r.handleChange,value:r.state.passwordConfirmation})),r.state.errorsLogin.length?o.a.createElement(be.a,null,r.state.errorsLogin[0].message):o.a.createElement(o.a.Fragment,null)))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{primary:!0,onClick:function(){return r.submitNewPassword()},style:{backgroundColor:"rgb(59 74 158)",color:"#FFFFFF"}},"Salvar"),o.a.createElement(we.a,{negative:!0,onClick:function(){return r.props.openOrCloseModal()},color:"red"},"Cancelar")))},r.state={newPassword:"",passwordConfirmation:"",loadingLogin:!1,errorsLogin:[],successReset:!1},r}return Object(c.a)(n)}(o.a.Component),Ue=Object(p.b)((function(e){return{}}),{})(Fe);function Me(){Me=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var De=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsAppService=new ie,r.pendingPromises=[],r.socket=te()("".concat(re),{reconnect:!0,transports:["websocket"]}),r.menus=[{nome:"Conversa",route:"/chat",icon:"comments",perm:[1,2,3]},{nome:"Acompanhar",route:"/acompanharConversa",icon:"binoculars",perm:[1,3]},{nome:"Fila de atendimento",route:"/fila",icon:"headphones",perm:[1,2,3]}],r.menuHistory=[{nome:"Home",route:"/home",icon:"home",perm:[1]},{nome:"Hist\xf3rico",route:"/historico",icon:"history",perm:[1,3]}],r.menuFuncoes=[{nome:"Active Directory",route:"/activeDirectory",icon:"folder",perm:[1,2,3]}],r.menuOption=[{nome:"Inquilinos",route:"/inquilinos",icon:"copy",perm:[1,3]},{nome:"Clientes",route:"/clientes",icon:"group",perm:[1]},{nome:"Analistas",route:"/usuarios",icon:"list",perm:[1]}],r.appendPendingPromise=function(e){return r.pendingPromises=[].concat(Object(V.a)(r.pendingPromises),[e])},r.removePendingPromise=function(e){return r.pendingPromises=r.pendingPromises.filter((function(t){return t!==e}))},r.componentDidMount=function(){r.addListeners()},r.componentWillUnmount=function(){r.removeListeners()},r.addListeners=function(){var e=r.props.currentUser;if(!e)return o.a.createElement(d.a,{to:"/login"});r.socket.on("loggedUsers",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=t.filter((function(t){return t.user_id===e.userId}));n.length||r.execLogout(!0),r.props.usersLoggeds(t)})),r.socket.on("channelsFire",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.state.channelsOpen.filter((function(t){return t.channelDbId===e.channelDbId}));t.length?e.analyst&&r.setState({channelsOpen:r.state.channelsOpen.filter((function(t){return t.channelDbId!==e.channelDbId}))}):e.analyst||(r.state.channelsOpen.push(e),r.setState({channelsOpen:r.state.channelsOpen.filter((function(e){return!e.analyst}))}))}));var t=[],n=le(r.whatsAppService.getTenantRelationUser(e.token,e.userId));r.appendPendingPromise(n),n.promise.then((function(e){e.data.forEach((function(e){t.push(e.m_tenant_id)})),r.props.setChannelsUser(t),r.setState({arrayIDUsersInTenant:t})})).then((function(){return r.removePendingPromise(n)})).catch((function(e){e.isCanceled||(r.execLogout(!1),r.removePendingPromise(n))}))},r.removeListeners=function(){r.socket.off(),r.pendingPromises.map((function(e){return e.cancel()}))},r.execLogout=Object(a.a)(Me().mark((function e(){var t,n,a,o=arguments;return Me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],n=r.props.currentUser,t){e.next=5;break}return e.next=5,r.whatsAppService.removeSession(n);case 5:r.socket.emit("logout",1e3),r.socket.off("loggedUsers"),sessionStorage.clear(),r.props.logout(),r.props.clearChannel(),r.props.setChannelsUser([]),(a=document.querySelector('link[rel="shortcut icon"]')||document.querySelector('link[rel="icon"]'))||((a=document.createElement("link")).id="favicon",a.rel="shortcut icon",document.head.appendChild(a)),a.href="https://firebasestorage.googleapis.com/v0/b/whatsapp-homol.appspot.com/o/favicon%2F6411faviconteste.ico?alt=media&token=d3c9ccd0-3f86-420c-b7fd-dbf91a1f53d9";case 14:case"end":return e.stop()}}),e)}))),r.displayLabels=function(e,t){var n=r.props.channelsUser;if(n.length)if(e.length){var a=e.filter((function(e){return n.includes(e.user.tenant)?n.includes(e.user.tenant):n.includes(e.user.tenant.tenant_id)}));if(a){var i=document.querySelector('link[rel="shortcut icon"]')||document.querySelector('link[rel="icon"]');i||((i=document.createElement("link")).id="favicon",i.rel="shortcut icon",document.head.appendChild(i));var l,s=Object(Y.a)(a);try{for(s.s();!(l=s.n()).done;){l.value;r.playAudio()}}catch(h){s.e(h)}finally{s.f()}return i.href="https://firebasestorage.googleapis.com/v0/b/whatsapp-homol.appspot.com/o/favicon%2F8567faviconiu.ico?alt=media&token=64bd2d1d-447d-4ef8-bc6b-f9aea01b6694",o.a.createElement(o.a.Fragment,null,o.a.createElement(Q.a,{style:{left:0===t?"73%":"94%"},className:"classLabel",color:"red",floating:!0},a.length))}var c=document.querySelector('link[rel="shortcut icon"]')||document.querySelector('link[rel="icon"]');c||((c=document.createElement("link")).id="favicon",c.rel="shortcut icon",document.head.appendChild(c)),c.href="https://firebasestorage.googleapis.com/v0/b/whatsapp-homol.appspot.com/o/favicon%2F6411faviconteste.ico?alt=media&token=d3c9ccd0-3f86-420c-b7fd-dbf91a1f53d9"}else{var u=document.querySelector('link[rel="shortcut icon"]')||document.querySelector('link[rel="icon"]');u||((u=document.createElement("link")).id="favicon",u.rel="shortcut icon",document.head.appendChild(u)),u.href="https://firebasestorage.googleapis.com/v0/b/whatsapp-homol.appspot.com/o/favicon%2F6411faviconteste.ico?alt=media&token=d3c9ccd0-3f86-420c-b7fd-dbf91a1f53d9"}},r.handleItemClick=function(e,t){var n=t.name;return r.setState({activeItem:n})},r.openOrCloseModal=function(){return r.setState({modalForm:!r.state.modalForm})},r.openModalReset=function(){return r.setState({modalReset:!r.state.modalReset})},r.execLogout=Object(a.a)(Me().mark((function e(){var t,n,a,o=arguments;return Me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],n=r.props.currentUser,t){e.next=5;break}return e.next=5,r.whatsAppService.removeSession(n);case 5:r.socket.emit("logout",1e3),r.socket.off("loggedUsers"),sessionStorage.clear(),r.props.logout(),r.props.clearChannel(),r.props.setChannelsUser([]),(a=document.querySelector('link[rel="shortcut icon"]')||document.querySelector('link[rel="icon"]'))||((a=document.createElement("link")).id="favicon",a.rel="shortcut icon",document.head.appendChild(a)),a.href="https://firebasestorage.googleapis.com/v0/b/whatsapp-homol.appspot.com/o/favicon%2F6411faviconteste.ico?alt=media&token=d3c9ccd0-3f86-420c-b7fd-dbf91a1f53d9";case 14:case"end":return e.stop()}}),e)}))),r.menuHamburguer=function(){var e=r.props.currentUser,t=r.state.activeItem;return o.a.createElement(J.a,{text:"Menu",pointing:!0,className:"link item",closeOnBlur:!1},o.a.createElement(J.a.Menu,null,o.a.createElement(J.a.Header,null,"Categorias"),o.a.createElement(J.a.Item,null,o.a.createElement(J.a,{text:"Fun\xe7\xf5es"},o.a.createElement(J.a.Menu,null,o.a.createElement(J.a.Header,null,"Fun\xe7\xf5es AD"),r.menuFuncoes.map((function(n){return n.perm.includes(e.type)&&o.a.createElement(J.a.Item,{active:t===n.nome,name:n.nome,key:n.nome,as:m.b,to:n.route,onClick:r.handleItemClick},o.a.createElement(Z.a,{name:n.icon}),n.nome)})),o.a.createElement(J.a.Divider,null),o.a.createElement(J.a.Header,null,"Fun\xe7\xf5es Hist\xf3ricos do Sistema"),r.menuHistory.map((function(n){return n.perm.includes(e.type)&&o.a.createElement(J.a.Item,{active:t===n.nome,name:n.nome,key:n.nome,as:m.b,to:n.route,onClick:r.handleItemClick},o.a.createElement(Z.a,{name:n.icon}),n.nome)}))))),o.a.createElement(J.a.Item,null,o.a.createElement(J.a,{text:"Configura\xe7\xf5es"},o.a.createElement(J.a.Menu,null,o.a.createElement(J.a.Header,null,"Configura\xe7\xf5es do Sistema"),r.menuOption.map((function(n){return n.perm.includes(e.type)&&o.a.createElement(J.a.Item,{active:t===n.nome,name:n.nome,key:n.nome,as:m.b,to:n.route,onClick:r.handleItemClick},o.a.createElement(Z.a,{name:n.icon}),n.nome)}))))),o.a.createElement(J.a.Divider,null),o.a.createElement(J.a.Header,null,"Integra\xe7\xf5es ITSM"),o.a.createElement(J.a.Item,{onClick:function(){return r.openOrCloseModal()},disabled:!0},"Criar chamado"),o.a.createElement(J.a.Item,{disabled:!0},"Verificar status do chamado")))},r.menuUserHamburguer=function(){return o.a.createElement(J.a,{text:"",pointing:!0,className:"link item",closeOnBlur:!1},o.a.createElement(J.a.Menu,null,o.a.createElement(J.a.Header,null,"- - - - - - - - - - - - - - - - -"),o.a.createElement(J.a.Item,{onClick:function(){return r.openModalReset()}},"Alterar senha")))},r.render=function(){var e=r.props.currentUser,t=r.state,n=t.activeItem,a=t.channelsOpen,i=t.modalForm,l=t.modalReset;return o.a.createElement(K.a,{fixed:"top",inverted:!0,pointing:!0,secondary:!0,stackable:!0,size:"large",id:"headerMain"},o.a.createElement(X.a,null,o.a.createElement(K.a.Item,{style:{padding:"5px"}},o.a.createElement($.a,{size:"mini",src:he.a})),o.a.createElement(K.a.Item,{header:!0},"IU"),r.menuHamburguer(),r.menus.map((function(t){return t.perm.includes(e.type)&&o.a.createElement(o.a.Fragment,{key:Math.random()},"Conversa"===t.nome?o.a.createElement(K.a.Item,{fitted:!0,active:n===t.nome,name:t.nome,key:t.nome,as:m.b,to:t.route,onClick:r.handleItemClick},o.a.createElement(Z.a,{name:t.icon}),a?r.displayLabels(a,0):null,t.nome):o.a.createElement(K.a.Item,{active:n===t.nome,name:t.nome,key:t.nome,as:m.b,to:t.route,onClick:r.handleItemClick},o.a.createElement(Z.a,{name:t.icon}),t.nome))})),o.a.createElement(K.a.Item,{position:"right",style:{padding:"5px"}},o.a.createElement($.a,{size:"mini",style:{paddingRight:"5px"},src:"M"===e.sexo?me.a:fe.a}),e.email.replace(/@.*/,"").replace("."," ").toUpperCase(),r.menuUserHamburguer()),o.a.createElement(K.a.Item,{position:"right",onClick:function(){return r.execLogout(!0)}},o.a.createElement(Z.a,{name:"sign-out"}),"Sair")),i?o.a.createElement(Pe,{modalForm:i,openOrCloseModal:r.openOrCloseModal}):o.a.createElement(o.a.Fragment,null),l&&o.a.createElement(Ue,{modalForm:l,openOrCloseModal:r.openModalReset,currentUser:e}),o.a.createElement("div",null,o.a.createElement("audio",{className:"audio-element"},o.a.createElement("source",{src:ce.a}))))},r.state={modalForm:!1,activeItem:"Conversa",channelsOpen:[],arrayIDUsersInTenant:[],channelsAnalyst:[]},r}return Object(c.a)(n,[{key:"playAudio",value:function(){document.getElementsByClassName("audio-element")[0].play()}}]),n}(r.Component),Re=Object(p.b)((function(e){return{currentUser:e.user.currentUser,currentPadding:e.padding.currentPadding,openChannels:e.allChannels.openChannels,channelOpen:e.channel.currentChannel,channelsUser:e.channelsUser.channelsUser,usuariosLogados:e.usersLogged.usersLoggeds}}),{logout:v,clearChannel:E,setChannelsAnalysts:b,setChannelsUser:w,usersLoggeds:g,setChannels:function(e){return{type:"ALL_CHANNELS",payload:{allChannels:e}}}})(De),qe=n(43),Be=n(871),Ge=n(343),We=n.n(Ge);n(326),n(729),n(821);We.a.initializeApp({apiKey:"AIzaSyCeTVQQPg-nbQNW8qrMl9unxH45tcQhAQo",authDomain:"interface-unificada.firebaseapp.com",databaseURL:"https://interface-unificada-default-rtdb.firebaseio.com",projectId:"interface-unificada",storageBucket:"interface-unificada.appspot.com",messagingSenderId:"957998987292",appId:"1:957998987292:web:5695aa103355f9102a47d9",measurementId:"G-P84XLKKWBJ"});var ze=We.a,He=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).motivoPausas=["Banheiro","Reuni\xe3o","Almo\xe7o","Lanche"],a.whatsAppService=new ie,a.componentDidMount=function(){a.addListeners()},a.addListeners=function(){var e=a.props.currentUser;a.state.pausasRef.on("value",(function(t){t.forEach((function(t){e&&t.val().usuario.email===e.email&&a.setState({pausa:!0,open:!0,form:{motivoPausa:t.val().motivo},idPausa:t.val().pausaId,keyPausa:t.val().id})}))}))},a.pausar=function(){var e=a.props.currentUser,t=a.state.form.motivoPausa;a.whatsAppService.pausa(e.token,t).then((function(e){a.setState({pausa:!0,open:!0,idPausa:e.data.pausa_id})}))},a.handleOpen=function(){return a.setState({open:!0})},a.handleClose=function(){return a.setState({open:!1})},a.retornarPausa=function(){var e=a.props.currentUser,t=a.state,n=t.idPausa,r=t.keyPausa;a.whatsAppService.returnPause(e.token,n).then((function(e){a.state.pausasRef.child(r).remove().then((function(){a.setState({pausa:!1}),a.handleClose()}))}))},a.render=function(){var e=a.props.channelOpen;return o.a.createElement("div",{style:{position:"fixed",right:"5vh",bottom:"15vh",zIndex:"1000"}},o.a.createElement(Be.a,{closeOnTriggerClick:!0,onOpen:a.handleOpen,onClose:a.state.pausa?a.handleOpen:a.handleClose,openOnTriggerClick:!0,trigger:o.a.createElement(we.a,{className:"buttonPause",circular:!0,disabled:!!e,icon:a.state.pausa?"pause":"play",negative:a.state.pausa,positive:!a.state.pausa})},o.a.createElement(O.a,{style:{right:"5%",position:"fixed",bottom:"10%",zIndex:1e3}},o.a.createElement(ye.a,null,"Pausa"),o.a.createElement("p",null,"Abaixo selecione o motivo da Pausa e clique em Confirmar"),o.a.createElement("p",null,"N\xe3o esque\xe7a que quando retornar, clique em Retornar"),o.a.createElement(Ee.a,null,o.a.createElement(Ee.a.Field,{value:a.state.form.motivoPausa,name:"motivoPausa",label:"Selecione o motivo da Pausa",required:!0,control:"select",onChange:a.dadosForm},a.motivoPausas.length?a.motivoPausas.map((function(e,t){return o.a.createElement("option",{key:t.toString()+Math.random()+t,value:e},e)})):[])),o.a.createElement("div",{style:{marginTop:"10px"}},o.a.createElement(we.a,{disabled:!a.state.pausa,content:"Retornar",icon:"pause",labelPosition:"left",onClick:function(){return a.retornarPausa()}}),o.a.createElement(we.a,{disabled:a.state.pausa,content:"Confirmar Pausa",icon:"play",labelPosition:"right",onClick:function(){return a.pausar()}})))))},a.state={pausasRef:ze.database().ref("pausas"),pausa:!1,keyPausa:null,idPausa:null,open:!1,modalForm:!1,form:{motivoPausa:"Banheiro"}},a.dadosForm=a.dadosForm.bind(Object(qe.a)(a)),a}return Object(c.a)(n,[{key:"dadosForm",value:function(e){var t=this.state.form;t[e.target.name]=e.target.value,this.setState({form:t})}}]),n}(r.Component),Ye=Object(p.b)((function(e){return{channelOpen:e.channel.currentChannel}}),{logout:v,clearChannel:E})(He),Ve=["children"];var Qe=function(e){var t=e.children,n=Object(L.a)(e,Ve);return o.a.createElement(d.b,Object.assign({},n,{render:function(e){var n=e.location;!function(e){var t="".concat(e.pathname.replace("/",""));document.title="".concat(function(e){for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=t[n][0].toUpperCase()+t[n].slice(1);return t.pop()}(t)," | IU")}(n);var a=sessionStorage.getItem("token");return"/home"!==n.pathname&&"/usuarios"!==n.pathname&&"/clientes"!==n.pathname||void 0===a||null===a||1===z.getState().user.currentUser.type?void 0!==a&&null!==a?o.a.createElement(k.a,{once:!1},o.a.createElement(O.a,{textAlign:"center",style:{padding:"1em 0em"},vertical:!0},o.a.createElement(Re,null),t,o.a.createElement(Ye,null))):o.a.createElement(d.a,{to:{pathname:"/login",state:{from:n}}}):o.a.createElement(d.a,{to:{pathname:"/chat",state:{from:n}}})}}))},Je=n(480),Ze=n(285);n(734);function Ke(){Ke=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Xe=Object(p.b)((function(e){return{currentUser:e.user.currentUser}}),{login:f,usersLoggeds:g})((function(e){var t=te()("".concat(re),{reconnect:!0,transports:["websocket"]}),n=new ie,i=Object(r.useState)({email:"",password:"",errors:[],loading:!1,forgotPassword:{emailForgot:"",errorsForgot:[],successForgot:[],loadingForgot:!1}}),l=Object(Ze.a)(i,2),s=l[0],c=l[1];Object(r.useEffect)((function(){return document.title="Login | IU",function(){t.off("login")}}),[t]);var u=function(){var r=Object(a.a)(Ke().mark((function a(r){var o,i;return Ke().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.preventDefault(),d(s)&&(c(Object(j.a)(Object(j.a)({},s),{},{errors:[],loading:!0})),o=s.email,i=s.password,n.auth(o,i).then((function(n){e.login(n.data),t.emit("login"),sessionStorage.setItem("userId",n.data.userId),sessionStorage.setItem("token",n.data.token);var a=n.data.type;c(Object(j.a)(Object(j.a)({},s),{},{loading:!1})),1===a?e.history.push("/home"):e.history.push("/chat")})).then((function(n){t.on("login",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.usersLoggeds(t)}))})).catch((function(e){c(Object(j.a)(Object(j.a)({},s),{},{errors:["Usu\xe1rio n\xe3o autorizado"],loading:!1}))})));case 2:case"end":return a.stop()}}),a)})));return function(e){return r.apply(this,arguments)}}(),h=function(e){return!!e.emailForgot||(c(Object(j.a)(Object(j.a)({},s),{},{forgotPassword:Object(j.a)(Object(j.a)({},s.forgotPassword),{},{errorsForgot:["Email n\xe3o pode ser v\xe1zio"]})})),!1)},d=function(e){var t=e.email,n=e.password;return t?!!n||(c(Object(j.a)(Object(j.a)({},s),{},{errors:["Senha n\xe3o pode ser v\xe1zia"]})),!1):(c(Object(j.a)(Object(j.a)({},s),{},{errors:["E-mail n\xe3o pode ser v\xe1zio"]})),!1)},m=function(e){return e.map((function(e,t){return o.a.createElement("p",{key:t}," ",e)}))},p=function(e){c(Object(j.a)(Object(j.a)({},s),{},Object(ge.a)({},e.target.name,e.target.value)))},f=s.email,g=s.password,v=s.errors,y=s.forgotPassword,E=y.emailForgot,w=y.errorsForgot,b=y.successForgot,C=y.loadingForgot;return o.a.createElement("div",{className:"containerLogin"},o.a.createElement("div",{className:"forms-container"},o.a.createElement("div",{className:"signin-signup"},o.a.createElement("form",{onSubmit:u,className:"sign-in-form formLogin"},o.a.createElement($.a,{src:he.a,size:"small",style:{paddingBottom:"40px"}}),o.a.createElement("div",{className:"input-field"},o.a.createElement(Z.a,{name:"mail",style:{paddingLeft:"15px"}}),o.a.createElement("input",{className:"inputLogin",name:"email",onChange:p,value:f,type:"email",placeholder:"E-mail"})),o.a.createElement("div",{className:"input-field"},o.a.createElement(Z.a,{name:"lock",style:{paddingLeft:"15px"}}),o.a.createElement("input",{className:"inputLogin",name:"password",onChange:p,value:g,type:"password",placeholder:"Senha"})),o.a.createElement("input",{disabled:s.loading,style:{backgroundColor:s.loading?"#fafafa":"#4d84e2"},type:"submit",value:"Iniciar Sess\xe3o",className:"btn solid"})),v.length>0&&o.a.createElement(be.a,{error:!0},o.a.createElement("h3",null,"Error"),m(v)),o.a.createElement("form",{onSubmit:function(e){if(h(s.forgotPassword)){e.preventDefault(),c(Object(j.a)(Object(j.a)({},s),{},{forgotPassword:Object(j.a)(Object(j.a)({},s.forgotPassword),{},{errorsForgot:[],loadingForgot:!0})}));var t=s.forgotPassword.emailForgot;n.sendEmail(t).then((function(e){c(Object(j.a)(Object(j.a)({},s),{},{forgotPassword:Object(j.a)(Object(j.a)({},s.forgotPassword),{},{successForgot:["Um e-mail de redefini\xe7\xe3o de senha foi enviado, por favor verifique sua caixa de entrada."],loadingForgot:!1,emailForgot:""})}))})).catch((function(e){c(Object(j.a)(Object(j.a)({},s),{},{forgotPassword:Object(j.a)(Object(j.a)({},s.forgotPassword),{},{errorsForgot:["E-mail n\xe3o autorizado, por favor informe um e-mail v\xe1lido!"],loadingForgot:!1})}))}))}},className:"sign-up-form formLogin"},o.a.createElement($.a,{src:he.a,size:"small",style:{paddingBottom:"40px"}}),o.a.createElement("div",{className:"input-field"},o.a.createElement(Z.a,{name:"mail",color:"green",style:{paddingLeft:"15px"}}),o.a.createElement("input",{className:"inputLogin",name:"emailForgot",value:E,onChange:function(e){c(Object(j.a)(Object(j.a)({},s),{},{forgotPassword:Object(j.a)(Object(j.a)({},s.forgotPassword),{},Object(ge.a)({},e.target.name,e.target.value))}))},type:"email",placeholder:"E-mail"})),o.a.createElement("input",{disabled:C,type:"submit",className:"btn",value:"Recuperar Senha"})),b.length>0&&o.a.createElement(be.a,{success:!0},o.a.createElement("h3",null,"E-mail enviado com sucesso!"),m(b)),w.length>0&&o.a.createElement(be.a,{error:!0},o.a.createElement("h3",null,"Error"),m(w)))),o.a.createElement("div",{className:"panels-container"},o.a.createElement("div",{className:"panel left-panel"},o.a.createElement("div",{className:"content"},o.a.createElement("h3",null,"Esqueceu a senha?"),o.a.createElement("p",null,"Clique abaixo para recuperar!"),o.a.createElement("button",{className:"btn transparent",id:"sign-up-btn",onClick:function(){document.querySelector(".containerLogin").classList.add("sign-up-mode")}},"Recuperar senha")),o.a.createElement("img",{src:"https://i.pinimg.com/originals/72/82/fe/7282fee6a0641482ab4391b9638ee46c.png",className:"image",alt:""})),o.a.createElement("div",{className:"panel right-panel"},o.a.createElement("div",{className:"content"},o.a.createElement("h3",null,"J\xe1 tem uma conta?"),o.a.createElement("p",null,"Fa\xe7a o seu login"),o.a.createElement("button",{className:"btn transparent",id:"sign-in-btn",onClick:function(){document.querySelector(".containerLogin").classList.remove("sign-up-mode")}},"Fa\xe7a o seu login")),o.a.createElement("img",{src:"https://i.pinimg.com/originals/77/29/f4/7729f497f9d0188fa35d41db45232cca.png",className:"image",alt:""}))))})),$e=(n(735),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).addListeners=function(){},e.removeListeners=function(){},e.state={url:"https://app.powerbi.com/view?r=eyJrIjoiY2U1NjRiZWMtZDA1MC00N2M2LTk4NDQtMmEwZTZhYjJkYTQ4IiwidCI6IjZjMTE1Y2M0LWQxMDctNDYzNS04MWNkLTA2MTdlMDM0NDA3MyIsImMiOjR9",iframeKey:0,iFrameHeight:"0px",iframeWidth:"790px"},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"render",value:function(){var e=this,t=this.state.url;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{basic:!0,id:"home"},o.a.createElement(be.a,{attached:!0,floating:!0,icon:"area graph",header:"Gr\xe1fico do Assistente Lanlink",content:"Aqui est\xe1 os dados sobre o atendimento mensal"}),o.a.createElement("iframe",{title:"dashboard",style:{maxWidth:this.state.iframeWidth,width:"100%",height:this.state.iFrameHeight,overflow:"visible",border:"solid",borderColor:"#ddd"},onLoad:function(){e.setState({iFrameHeight:"580px",iframeWidth:"100%"})},ref:"iframe",src:t,width:"100%",height:this.state.iFrameHeight,frameBorder:"0"}),o.a.createElement("br",null)))}}]),n}(o.a.Component)),et=Object(p.b)()($e),tt=(n(736),n(737),n(876)),nt=n(344),at=n.n(nt),rt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={file:null,authorized:["image/jpeg","image/png","application/pdf"]},e.addFile=function(t){var n=t.target.files[0];n&&e.setState({file:n})},e.sendFile=function(){var t=e.state.file,n=e.props,a=n.uploadFile,r=n.closeModal;null!==t&&(e.isAuthorized(t.name)&&(a(t,{contentType:at.a.lookup(t.name)}),r()))},e.clearFile=function(){return e.setState({file:null})},e.isAuthorized=function(t){return e.state.authorized.includes(at.a.lookup(t))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.modal,n=e.closeModal;return o.a.createElement(xe.a,{basic:!0,open:t,onClose:n},o.a.createElement(xe.a.Content,null,o.a.createElement(Ce.a,{fluid:!0,label:"file types: jpg, png, pdf",name:"file",type:"file",onChange:this.addFile})),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{color:"green",inverted:!0,onClick:this.sendFile},o.a.createElement(Z.a,{name:"checkmark"})," Send"),o.a.createElement(we.a,{color:"red",inverted:!0,onClick:n},o.a.createElement(Z.a,{name:"remove"})," Cancel")))}}]),n}(o.a.Component),ot=n(482),it=n(501),lt=n(881),st=n(873),ct=n(481),ut=n.n(ct),ht=(n(741),["Friends","The Big Bang Theory","Modern Family","Brooklyn Nine-Nine","The Simpsons","New Girl","Family Guy","South Park","The Goldbergs","Mom","Archer","Fresh Off the Boat","Black-ish","Veep","Orange Is the New Black","Unbreakable Kimmy Schmidt","Rick and Morty","Louie","American Dad","Silicon Valley"]),dt=o.a.createRef(),mt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).whatsService=new ie,e.pendingPromises=[],e.componentDidMount=function(){e.readTextFile(ut.a),e.listenersChannels(),e.textAreaRef.focus()},e.componentDidUpdate=function(t,n){if(t.channelsUser.length!==e.props.channelsUser.length&&e.listenersChannels(),e.textAreaRef)if(""!==e.state.userInput){e.textAreaRef.style.height="0px";var a=e.textAreaRef.scrollHeight;e.textAreaRef.style.height=a+"px"}else e.textAreaRef.style.height="40px"},e.listenersChannels=function(){var t=e.state.suggestionsResponse,n=e.props,a=n.currentUser,r=n.channelsUser,o=le(e.whatsService.getAllTenants(a.token));e.appendPendingPromise(o),o.promise.then((function(n){var a=[],o=n.data.filter((function(e){return r.includes(e.tenant_id)}));o.length>0&&o.forEach((function(e){e.respostas.length>0&&t.push.apply(t,Object(V.a)(e.respostas))})),t.forEach((function(e){a.push(JSON.parse(e))})),e.setState({suggestionsResponse:a})})).then((function(){return e.removePendingPromise(o)})).catch((function(e){e.isCanceled||console.log("ENTROU?")}))},e.appendPendingPromise=function(t){return e.pendingPromises=[].concat(Object(V.a)(e.pendingPromises),[t])},e.removePendingPromise=function(t){return e.pendingPromises=e.pendingPromises.filter((function(e){return e!==t}))},e.onChange=function(t){e.setState({activeItem:""});var n="",a=[];if((n=t.currentTarget.value).length>1)if(n.split(" ").length>1){var r=n.split(/[\s,]+/);(n=r[r.length-1].slice(0))&&(n=n.normalize("NFD").replace(/[\u0300-\u036f]/g,""),a=(a=(a=ht.filter((function(e){return(e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase().indexOf(n.toLowerCase())>-1}))).filter((function(e){return e[0].toLowerCase()===n.charAt(0).toLowerCase()}))).slice(0,3))}else n=n.normalize("NFD").replace(/[\u0300-\u036f]/g,""),a=(a=(a=ht.filter((function(e){return(e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")).toLowerCase().indexOf(n.toLowerCase())>-1}))).filter((function(e){return e[0].toLowerCase()===n.charAt(0).toLowerCase()}))).slice(0,3);e.setState({activeSuggestion:0,filteredSuggestions:a,showSuggestions:!0,userInput:t.currentTarget.value})},e.onClickInList=function(t){var n=e.state.userInput.split(" ");if(n.length>0){n[n.length-1]=t;var a=n.join(" ").charAt(0).toUpperCase()+n.join(" ").slice(1).replace(/\n/g," "),r=n.join(" ").replace(/\n/g," ");1===n.length?e.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:a.substr(0,a.length-1),activeItem:""}):e.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:r.substr(0,r.length-1),activeItem:""})}},e.onClick=function(t){var n=e.state.userInput.split(" ");n.length>0&&(n[n.length-1]=t.currentTarget.innerText,e.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:n.join(" ")}))},e.onKeyDown=function(t){var n=e.state,a=n.filteredSuggestions,r=n.activeItem,o=n.userInput;if(13!==t.keyCode||a.length&&""!==r)if(13===t.keyCode&&a.length)t.preventDefault(),""!==r&&e.onClickInList(r);else if(37===t.keyCode&&a.length){t.preventDefault();var i=[];if(""===r)i=a.slice(-1)[0],e.setState({activeItem:i});else{var l=a.findIndex((function(e){return e===r}));if((l=--l)>=0){var s=a.filter((function(e,t){return t===l}));e.setState({activeItem:s[0]})}}}else if(38===t.keyCode&&a.length){t.preventDefault();var c=[];if(""===r)c=a.slice(-1)[0],e.setState({activeItem:c});else{var u=a.findIndex((function(e){return e===r}));if((u=--u)>=0){var h=a.filter((function(e,t){return t===u}));e.setState({activeItem:h[0]})}}}else if(39===t.keyCode&&a.length){if(t.preventDefault(),""!==r){var d=a.findIndex((function(e){return e===r}));if((d=++d)<a.length){var m=a.filter((function(e,t){return t===d}));e.setState({activeItem:m[0]})}}}else 40===t.keyCode&&a.length&&(t.preventDefault(),e.setState({filteredSuggestions:[],activeItem:""}));else t.preventDefault(),""!==o&&e.sendMessages()},e.handleClose=function(){return e.setState({open:!1,itemActive:null})},e.handleOpen=function(){return e.setState({open:!0})},e.state={suggestionsResponse:[],open:!1,itemActive:null,activeSuggestion:0,rows:1,minRows:1,maxRows:10,filteredSuggestions:[],showSuggestions:!1,userInput:"",activeItem:""},e.textAreaRef=o.a.createRef(),e.onChange=e.onChange.bind(Object(qe.a)(e)),e}return Object(c.a)(n,[{key:"readTextFile",value:function(e){var t=new XMLHttpRequest,n=[];t.onreadystatechange=function(){this.readyState===this.DONE&&200===this.status&&(t.responseText.replace(/\r\n/g,"\n"),t.responseText.replace(/\n\r/g,"\n"),t.responseText.replace(/\r/g,"\n"),n=t.responseText.split("\n"),ht=n)},t.open("GET",e,!0),t.send(null)}},{key:"sendMessages",value:function(){""!==this.state.userInput&&(this.props.sendMessage(this.state.userInput),this.setState({userInput:""}))}},{key:"render",value:function(){var e,t,n,a=this,r=this.onChange,i=this.onClick,l=this.onKeyDown,s=this.state,c=s.filteredSuggestions,u=s.showSuggestions,h=s.userInput,d=s.activeItem,m=s.suggestionsResponse,p=s.open,f=s.itemActive;return u&&h&&null!==this.props.channel&&c.length&&""!==h&&(n=o.a.createElement(ot.a.Group,{ordered:!0,size:"mini"},c.map((function(e){return o.a.createElement(ot.a,{completed:!0,key:e+Math.random(),onClick:i,active:d===e},o.a.createElement(ot.a.Content,null,o.a.createElement(ot.a.Title,null,e)))})))),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"body"},o.a.createElement("div",{className:"autocomplete"},o.a.createElement(Ee.a.Field,null,o.a.createElement(O.a,{style:{marginTop:"0px"}},n,o.a.createElement("div",{className:"subscribe"},o.a.createElement("textarea",{ref:function(e){return a.textAreaRef=e},rows:this.state.rows,id:"inputSubscribe",type:"text",placeholder:"Digite sua mensagem",style:{width:"-webkit-fill-available"},value:null!==this.props.channel?h:"",disabled:null===this.props.channel,onChange:function(e){return r(e)},onKeyDown:function(e){return l(e)}}),o.a.createElement("button",{id:"buttonSubscribe",disabled:null===this.props.channel,onClick:function(){return a.handleOpen()}},o.a.createElement(Z.a,{name:"question"})),!(null===(e=this.props.channel)||void 0===e||null===(t=e.source)||void 0===t?void 0:t.includes("BLIP:"))&&o.a.createElement("button",{id:"buttonSubscribe",disabled:null===this.props.channel,onClick:function(){return a.props.openUpload()}},o.a.createElement(Z.a,{name:"upload"})),o.a.createElement("button",{disabled:null===this.props.channel||""===h,id:"buttonSubscribe",onClick:function(){return a.sendMessages()}},o.a.createElement(Z.a,{name:"send"}))),o.a.createElement("input",{ref:dt,type:"file",hidden:!0,onChange:this.fileChange}),o.a.createElement(it.a,{onClose:this.handleClose,closeOnTriggerClick:!0,open:p},o.a.createElement(O.a,{style:{left:"40%",position:"fixed",top:"50%",zIndex:1e3}},o.a.createElement(ve.a,{columns:f?2:1,stackable:!0},o.a.createElement(ve.a.Column,null,o.a.createElement(O.a,{basic:!0,style:{overflowY:"scroll",minHeight:"30vh",maxHeight:"30vh"}},o.a.createElement(ot.a.Group,{vertical:!0,fluid:!0},m.length>0&&m.map((function(e,t){return o.a.createElement(ot.a,{key:Math.random()+t.toString(),onClick:function(){return a.setState({itemActive:e})}},o.a.createElement(lt.a,{size:"mini",content:"Remover resposta",trigger:o.a.createElement(Z.a,{color:"red",name:"users"})}),o.a.createElement(ot.a.Content,null,o.a.createElement(ot.a.Title,null,e.titulo)))}))),o.a.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},o.a.createElement(we.a,{content:"Cancelar",negative:!0,onClick:this.handleClose})))),f&&o.a.createElement(ve.a.Column,null,o.a.createElement(Ee.a,null,o.a.createElement(Ee.a.TextArea,{label:f.titulo,placeholder:"Tell us more about you...",value:f.resposta,rows:5})),o.a.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},o.a.createElement(we.a,{content:"Enviar",color:"teal",onClick:function(){return a.setState({open:!1,itemActive:null,userInput:f.resposta})}})))),f&&o.a.createElement(st.a,{vertical:!0},"Or"))))))))}}]),n}(o.a.Component),pt=Object(p.b)((function(e){return{currentUser:e.user.currentUser,channelsUser:e.channelsUser.channelsUser}}),{})(mt),ft=n(874),gt=function(e){var t=e.uploadState,n=e.percentUploaded;return"uploading"===t&&o.a.createElement(ft.a,{className:"progress__bar",percent:n,progress:!0,indicating:!0,size:"medium",inverted:!0})},vt=n(347),yt=n.n(vt),Et=n(875),wt=n(39),bt=n.n(wt),Ct=(n(120),function(e){return bt()(e).fromNow()}),St=function(e){var t=e.content.substr(e.content.length-3);return""!==e.image&&"pdf"===t||""!==e.image&&e.image.includes(".pdf")?"PDF":""!==e.image?"IMG":void 0},xt=function(e){return o.a.createElement(o.a.Fragment,null,"Analista"===e.message.user.tipo?o.a.createElement("li",{id:"analista"},o.a.createElement(Et.a.Group,{key:Math.random()},o.a.createElement(Et.a,null,o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a",className:"commentText"},e.message.user.name),o.a.createElement(Et.a.Metadata,{className:"commentText"},Ct(e.message.timestamp)),"IMG"===St(e.message)?o.a.createElement(xe.a,{trigger:o.a.createElement($.a,{src:e.message.image,className:"message__image"}),centered:!1,closeIcon:{style:{top:"1.0535rem",right:"1rem",color:"white"},name:"close"}},o.a.createElement(xe.a.Header,{style:{background:"rgb(25, 45, 62)",color:"white"}},"Foto anexada"),o.a.createElement(xe.a.Content,{image:!0},o.a.createElement($.a,{src:e.message.image,className:"message__image"}))):"PDF"===St(e.message)?o.a.createElement("a",{href:e.message.image,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(ke.a,{link:!0,style:{margin:"10px"},header:"PDF Anexado",color:"red",description:["Clique aqui para abrir o arquivo"," \xe9 importante verificar!"].join("")})):o.a.createElement(Et.a.Text,{className:"commentText"},e.message.content))))):"ChatBot"===e.message.user.tipo?o.a.createElement("li",{id:"analista"},o.a.createElement(Et.a.Group,{key:Math.random()},o.a.createElement(Et.a,null,o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a",className:"commentText"},e.message.user.name),o.a.createElement(Et.a.Metadata,{className:"commentText"},Ct(e.message.timestamp)),e.message.content.retorno.map((function(e,t){return"text"===e.response_type?o.a.createElement(Et.a.Text,{key:t.toString()+Math.random(),className:"commentText"},e.text):"image"===e.response_type?o.a.createElement(xe.a,{key:t.toString()+Math.random(),trigger:o.a.createElement($.a,{src:e.source,className:"message__image"}),centered:!1,closeIcon:{style:{top:"1.0535rem",right:"1rem",color:"white"},name:"close"}},o.a.createElement(xe.a.Header,{style:{background:"rgb(25, 45, 62)",color:"white"}},"Foto anexada"),o.a.createElement(xe.a.Content,{image:!0},o.a.createElement($.a,{src:e.source,style:{width:"auto"},size:"big"}))):o.a.createElement(Et.a.Text,{key:t.toString()+Math.random(),className:"commentText"},e.title)})))))):o.a.createElement("li",{id:"usuario"},o.a.createElement(Et.a.Group,{key:Math.random()},o.a.createElement(Et.a,null,o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a",className:"commentText"},e.message.user.name),o.a.createElement(Et.a.Metadata,{className:"commentText"},Ct(e.message.timestamp)),"IMG"===St(e.message)?o.a.createElement(xe.a,{trigger:o.a.createElement($.a,{src:e.message.image,className:"message__image"}),centered:!1,closeIcon:{style:{top:"1.0535rem",right:"1rem",color:"white"},name:"close"}},o.a.createElement(xe.a.Header,{style:{background:"rgb(25, 45, 62)",color:"white"}},"Foto anexada"),o.a.createElement(xe.a.Content,{image:!0},o.a.createElement($.a,{src:e.message.image,style:{width:"auto"},size:"big"}))):"PDF"===St(e.message)?o.a.createElement("a",{href:e.message.image,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(ke.a,{link:!0,style:{margin:"10px"},header:"PDF Anexado",color:"red",description:["Clique aqui para abrir o arquivo"," \xe9 importante verificar!"].join("")})):o.a.createElement(Et.a.Text,{className:"commentText"},e.message.content))))))},Lt=(n(768),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){},a.shouldComponentUpdate=function(e,t){return e.channelsCurrent.length!==t.channelsCurrent.length&&(a.setState({channelsCurrent:e.channelsCurrent,channelSelected:e.channelSelected}),e.channelsCurrent.length||a.selectChannelCurrent(null)),e.channelSelected!==t.channelSelected&&a.setState({channelSelected:e.channelSelected}),e.messagesNew&&e.messagesNew.length!==t.messagesNotView.length&&a.setState({messagesNotView:e.messagesNew}),!0},a.selectChannelCurrent=function(e){a.props.selectedChannelCurrent(e)},a.checked=function(e,t){return null!==e&&e.id===t.id},a.channelNotification=function(e){return!!a.state.messagesNotView.filter((function(t){return t.channel===e})).length},a.render=function(){var e=a.state,t=e.channelsCurrent,n=e.channelSelected;return o.a.createElement("div",{className:"containerHeader"},o.a.createElement("div",{className:"tabsHeader"},t.length?t.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:t+Math.random()+t.toString()},o.a.createElement("input",{type:"radio",id:"radio-1",name:"tabsHeader",defaultChecked:a.checked(n,e)}),o.a.createElement("label",{onClick:function(){return a.selectChannelCurrent(e)},className:"tabHeader"},e.user.name,a.channelNotification(e.id)?o.a.createElement("span",{className:"notification"},o.a.createElement(Z.a,{name:"bell",color:"red",style:{paddingLeft:"3px"}})):o.a.createElement(o.a.Fragment,null)))})):o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"radio",id:"radio-1",name:"tabsHeader",defaultChecked:!0}),o.a.createElement("label",{className:"tabHeader",style:{color:"green"}},"LIVRE"))))},a.state={allChannels:[],channelsCurrent:[],messagesNotView:[],channelSelected:null},a}return Object(c.a)(n)}(o.a.Component));function kt(){kt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Ot=Object(c.a)((function e(){Object(s.a)(this,e),this.getByUser=function(){var e=Object(a.a)(kt().mark((function e(t,n){var a,r;return kt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Authorization:"Bearer ".concat(t)},e.next=3,ae.a.get("".concat(re,"/blip/getSurveyUser?email=").concat(n),{headers:a,withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}));function At(){At=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var jt=function(e){var t=e.channelSelected,n=e.currentUser,i=Object(r.useState)([]),l=Object(Ze.a)(i,2),s=l[0],c=l[1],u=new Ot;return Object(r.useEffect)((function(){(function(){var e=Object(a.a)(At().mark((function e(){var a;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=4;break}return c([]),e.abrupt("return");case 4:return e.next=7,u.getByUser(n.token,t.user.email);case 7:a=e.sent,c((null===a||void 0===a?void 0:a.data)||[]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("ERRO ao carregar pesquisa.");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),o.a.createElement("div",{className:"pesquisa-usuario"},s.length>0&&o.a.createElement("h3",null,"\xdaltima pesquisa respondida ",s.length>0&&s[0].Ticket),s.length>0&&s.map((function(e,t){return o.a.createElement("div",{key:e.Pergunta,className:"item-pesquisa"},o.a.createElement("p",{style:{color:"#122230",fontSize:"1.2rem",fontWeight:"bold"}},t+1,". ",e.Pergunta," ",o.a.createElement("span",{style:{fontWeight:"normal"}},e.Resposta)))})))},It=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).socket=te()("".concat(re),{reconnect:!0,transports:["websocket"]}),a.componentWillUnmount=function(){a.socket.off()},a.listenerChannels=function(){var e=a.props.currentUser;a.socket.on("firebase_child_added",(function(t){var n=t;a.state.channelsCurrent.filter((function(e){return e.channelDbId===n.channelDbId})).length||n.analyst!==e.userId||n.isTransfering||(a.state.channelsCurrent.push(n),a.setState({channelsCurrent:a.state.channelsCurrent,channelSelected:n}))})),a.socket.on("firebase_child_changed",(function(t){var n=t,r=a.state.channelsCurrent.filter((function(e){return e.channelDbId===n.channelDbId}));if(r.length||n.analyst!==e.userId||n.isTransfering){if(r.length&&n.analyst!==e.userId&&n.isTransfering){var o=a.state.channelsCurrent.filter((function(e){return e.channelDbId!==n.channelDbId}));a.setState({channelsCurrent:o}),a.state.channelSelected&&(n.channelDbId===a.state.channelSelected.channelDbId&&o.length?a.setState({channelSelected:o.slice(0,1).shift()}):o.length||a.setState({channelSelected:null}))}else if(r.length&&n.isTransferingChannel){var i=a.state.channelsCurrent.filter((function(e){return e.channelDbId!==n.channelDbId}));a.setState({channelsCurrent:i}),a.state.channelSelected&&(n.channelDbId===a.state.channelSelected.channelDbId&&i.length?a.setState({channelSelected:i.slice(0,1).shift()}):i.length||a.setState({channelSelected:null}))}}else a.state.channelsCurrent.push(n),a.setState({channelsCurrent:a.state.channelsCurrent,channelSelected:n})})),a.socket.on("firebase_child_removed",(function(e){var t=e;if(a.state.channelsCurrent.filter((function(e){return e.channelDbId===t.channelDbId})).length){var n=a.state.channelsCurrent.filter((function(e){return e.channelDbId!==t.channelDbId}));n.length?(a.setState({channelsCurrent:n,channelSelected:n.slice(0,1).shift()}),a.selectedChannelCurrent(n.slice(0,1).shift())):(a.setState({channelsCurrent:[],channelSelected:null}),a.selectedChannelCurrent(null))}}))},a.listenerMessages=function(){a.socket.on("firebase_value_messages",(function(e){var t=e?Object.entries(e):[];a.newMessagesInChannel(t),a.setState({allMessages:t})}))},a.newMessagesInChannel=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(Y.a)(t);try{var r=function(){var t,n=e.value,r=Object(Y.a)(a.state.allMessages);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=a.state.channelsCurrent.filter((function(e){return e.id===n[0]}));if(n[0]===o[0]&&i.length&&o[0]!==a.state.channelSelected.id)if(Object.values(o[1]).length!==Object.values(n[1]).length){var l={channel:n[0]};a.state.messagesNew.includes(l)||(a.state.messagesNew.push(l),a.setState({messagesNew:a.state.messagesNew}))}}}catch(s){r.e(s)}finally{r.f()}};for(n.s();!(e=n.n()).done;)r()}catch(o){n.e(o)}finally{n.f()}},a.clearMessagesNew=function(e){if(a.state.messagesNew.filter((function(t){return t.channel===e})).length){var t=a.state.messagesNew.filter((function(t){return t.channel!==e}));a.setState({messagesNew:t})}},a.scrollToBottom=function(){setTimeout((function(){var e=document.querySelector("#msg");e&&(e.scrollTop=e.scrollHeight,e.scrollIntoView({behavior:"smooth"}))}),100)},a.getPath=function(e){return"chat/".concat(e)},a.sendMessageChat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=a.state.channelSelected,i=n||o;a.props.sendMessage(e,t,i,r),""!==t&&a.setState({uploadState:"done"})},a.isProgressBarVisible=function(e){e>0&&a.setState({progressBar:!0})},a.uploadFile=function(e,t){var n=a.state.channelSelected;if(n){var r="",o=n.channelDbId;r=e.name.includes(".pdf")?"".concat(a.getPath(o),"/").concat(yt()(),".pdf"):"".concat(a.getPath(o),"/").concat(yt()(),".jpg"),a.setState({uploadState:"uploading",uploadTask:a.state.storageRef.child(r).put(e,t)},(function(){a.state.uploadTask.on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);a.isProgressBarVisible(t),a.setState({percentUploaded:t})}),(function(e){a.setState({errors:a.state.errors.concat(e),uploadState:"error",uploadTask:null})}),(function(){a.state.uploadTask.snapshot.ref.getDownloadURL().then((function(e){a.sendMessageChat("",e)})).catch((function(e){console.error(e),a.setState({errors:a.state.errors.concat(e),uploadState:"error",uploadTask:null})}))}))}))}},a.selectedChannelCurrent=function(e){e||a.state.channelsCurrent.length?!e&&a.state.channelsCurrent.length?(a.setState({channelSelected:a.state.channelsCurrent.slice(0,1).shift()}),a.props.selectedChannelCurrent(a.state.channelsCurrent.slice(0,1).shift())):e&&(a.setState({channelSelected:e}),a.props.selectedChannelCurrent(e),a.clearMessagesNew(e.id)):(a.setState({channelSelected:e}),a.props.selectedChannelCurrent(e))},a.render=function(){var e=a.state,t=e.allMessages,n=e.isLoading,r=e.isSending,i=e.dialog,l=e.uploadState,s=e.percentUploaded,c=e.uploadModal,u=e.channelsCurrent,h=e.channelSelected,d=e.messagesNew;return o.a.createElement(o.a.Fragment,null,t.length?o.a.createElement(Lt,{messagesNew:d,channelsCurrent:u,channelSelected:h,selectedChannelCurrent:a.selectedChannelCurrent}):o.a.createElement(Lt,{channelsCurrent:[],channelSelected:null,selectedChannelCurrent:a.selectedChannelCurrent}),o.a.createElement(tt.a.Pusher,null,o.a.createElement(O.a,{style:{padding:"1rem 0em"},basic:!0,loading:n},o.a.createElement("div",{id:"msg",className:"segment-class"},o.a.createElement("ul",{className:"chat-thread"},t.length?t.map((function(e){return h&&e[0]===h.id&&Object.values(e[1]).map((function(e,t){return o.a.createElement(xt,{key:Math.random()+t,message:e})}))})):o.a.createElement(o.a.Fragment,null)),o.a.createElement("div",{ref:function(e){return a.messagesEnd=e}}))),o.a.createElement(pt,{sendMessage:a.sendMessageChat,isLoading:r,channel:h,openUpload:function(){return a.setState({uploadModal:!0})},dialog:i,openDialog:function(){return a.setState({dialog:!0})}}),o.a.createElement("br",null),o.a.createElement(gt,{uploadState:l,percentUploaded:s}),o.a.createElement(rt,{modal:c,closeModal:function(){return a.setState({uploadModal:!1})},uploadFile:a.uploadFile})),o.a.createElement(jt,{channelSelected:h,channelsCurrent:u,currentUser:a.props.currentUser}))},a.state={channelsRef:ze.database().ref("channels"),messagesRef:ze.database().ref("messages"),storageRef:ze.storage().ref(),isLoading:a.props.loading,messages:a.props.messages?a.props.messages:[],isSending:a.props.isSending,uploadModal:!1,uploadState:a.props.uploadState,uploadTask:null,dialog:!1,percentUploaded:0,errors:[],channelsCurrent:[],channelSelected:null,allMessages:[],messagesNew:[]},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.listenerChannels(),this.listenerMessages()}},{key:"componentDidUpdate",value:function(e,t){this.messagesEnd&&this.scrollToBottom()}}]),n}(o.a.Component),Pt=Object(p.b)((function(e){return{currentUser:e.user.currentUser}}))(It),Nt=(n(769),n(348)),_t=n(442);function Tt(){Tt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Ft=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsService=new ie,r.pendingPromises=[],r.appendPendingPromise=function(e){return r.pendingPromises=[].concat(Object(V.a)(r.pendingPromises),[e])},r.removePendingPromise=function(e){return r.pendingPromises=r.pendingPromises.filter((function(t){return t!==e}))},r.addListeners=function(){var e=[],t=[],n=[],o=[],i=r.props,l=i.currentUser,s=i.channel,c=i.currentChannel;s&&r.setState({modalOpen:!0}),r.setState({isLoading:!0});var u=le(r.whatsService.logged(l.token,0));r.appendPendingPromise(u),u.promise.then(function(){var i=Object(a.a)(Tt().mark((function a(i){return Tt().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.state.channelRef.on("value",(function(a){a.forEach((function(t){if(t.val().analyst)if(t.val().isTransfering){var a=e.filter((function(e){return e!==t.val().analyst}));e=a,n.push(t.val().analyst)}else e.push(t.val().analyst)}));var s=a?Object.values(a.val()):[],u=s.map((function(e){return e.analyst}));if(r.chkDuplicates(u)){var h,d=r.chkDuplicates(u),m=Object(Y.a)(d);try{var p=function(){var e=h.value;s.filter((function(t){return t.analyst===e})).length>2&&n.push(e)};for(m.s();!(h=m.n()).done;)p()}catch(g){m.e(g)}finally{m.f()}}r.state.pausasRef.on("value",(function(e){e.forEach((function(e){t.push(e.val().usuario.user_id)}))})),e=i.data.filter((function(t){return!e.includes(t.user_id)})),e=i.data.filter((function(e){return!t.includes(e.user_id)}));var f=(e=i.data.filter((function(e){return!n.includes(e.user_id)}))).slice(r.state.begin,r.state.end).filter((function(e){return e.user_id!==c.analyst&&e.user_id!==l.userId}));r.whatsService.queuesByTenant(l.token,c.user.tenant.tenant_id).then((function(e){null!==e.data&&(e.data.forEach((function(e){e.analysts=[],f.forEach((function(t){e.users.includes(t.user_id)&&e.analysts.push(t)})),o.push(e)})),r.setState({queues:o}))})),r.setState({analistas:f,allAnalistas:e,isLoading:!1})}));case 1:case"end":return a.stop()}}),a)})));return function(e){return i.apply(this,arguments)}}()).then((function(){return r.removePendingPromise(u)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(u))}))},r.removeListeners=function(){var e=r.state,t=e.channelRef,n=e.pausasRef;t.off(),n.off()},r.handleOpen=function(){return r.setState({modalOpen:!0})},r.handleClose=function(){r.props.cancelTransfering(),r.setState({modalOpen:!1})},r.toggleModalForm=function(){return r.setState({modalForm:!r.state.modalForm})},r.toggleQueueModalForm=function(){return r.setState({queueModalForm:!r.state.queueModalForm})},r.handleTransferir=function(e){r.setState({analistaTransferir:e}),r.toggleModalForm()},r.handleTransferirQueue=function(e){r.setState({queueTransferir:e}),r.toggleQueueModalForm()},r.confirmar=function(){r.toggleModalForm(),r.handleClose();var e=r.props.currentChannel;r.state.channelRef.child(r.props.channel).update({analyst:r.state.analistaTransferir.user_id,isTransfering:!0}).then((function(){var t={channel:e,analyst:r.state.user,messageAction:r.state.messageAction,analystAffected:r.state.analistaTransferir.user_id};r.props.transfering(t,"analyst")})).catch((function(e){}))},r.confirmarQueue=function(){r.toggleQueueModalForm(),r.handleClose();var e=r.props.currentChannel,t=r.state.queueTransferir;r.state.channelRef.child(r.props.channel).update({analyst:"",isTransfering:!1,isTransferingChannel:!0,queue:t.id,queueName:t.name}).then((function(){var n={channel:e,analyst:r.state.user,messageAction:r.state.messageAction,idQueueTransfering:t.id,nameQueueTransfering:t.name,analystAffected:""};r.props.transfering(n,"queue")})).catch((function(e){}))},r.ModalForm=function(){var e=r.state,t=e.analistaTransferir,n=e.messageAction;return o.a.createElement(xe.a,{style:{position:"relative",height:"auto"},open:r.state.modalForm,onClose:function(){return r.toggleModalForm()},closeIcon:{style:{top:"1.0535rem",right:"1rem"},color:"black",name:"close"}},o.a.createElement(xe.a.Header,null,"\xc1rea de transfer\xeancia"),o.a.createElement(xe.a.Content,null,o.a.createElement(Ee.a,{className:"attached fluid segment"},o.a.createElement(Ee.a.Input,{disabled:!0,label:"Analista afetado",placeholder:"Nome do analista",value:t.name,type:"text"}),o.a.createElement(Ee.a.TextArea,{required:!0,value:n,onChange:function(e){return r.setState({messageAction:e.target.value})},label:"Motivo",type:"text",placeholder:"Digite o motivo por que est\xe1 passando esse chamado"}))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{negative:!0,onClick:function(){return r.toggleModalForm()},color:"red"},"Cancelar"),o.a.createElement(we.a,{positive:!0,disabled:""===n,onClick:r.confirmar},"Confirmar")))},r.ModalFormQueue=function(){var e=r.state,t=e.queueTransferir,n=e.messageAction;return o.a.createElement(xe.a,{style:{position:"relative",height:"auto"},open:r.state.queueModalForm,onClose:function(){return r.toggleQueueModalForm()},closeIcon:{style:{top:"1.0535rem",right:"1rem"},color:"black",name:"close"}},o.a.createElement(xe.a.Header,null,"\xc1rea de transfer\xeancia"),o.a.createElement(xe.a.Content,null,o.a.createElement(Ee.a,{className:"attached fluid segment"},o.a.createElement(Ee.a.Input,{disabled:!0,label:"Fila afetada",placeholder:"Nome da fila",value:t.name,type:"text"}),o.a.createElement(Ee.a.TextArea,{required:!0,value:n,onChange:function(e){return r.setState({messageAction:e.target.value})},label:"Motivo",type:"text",placeholder:"Digite o motivo por que est\xe1 passando esse chamado"}))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{negative:!0,onClick:function(){return r.toggleQueueModalForm()},color:"red"},"Cancelar"),o.a.createElement(we.a,{positive:!0,disabled:""===n,onClick:r.confirmarQueue},"Confirmar")))},r.handleClick=function(e,t){var n=t.index,a=r.state.activeIndex===n?-1:n;r.setState({activeIndex:a})},r.state={user:r.props.currentUser,messageAction:"",queues:[],analistas:[],allAnalistas:[],analistaTransferir:null,queueTransferir:null,isLoading:!0,modalOpen:!1,modalForm:!1,queueModalForm:!1,activeIndex:0,pausasRef:ze.database().ref("pausas"),channelRef:ze.database().ref("channels")},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.pendingPromises.map((function(e){return e.cancel()})),this.removeListeners(),this.setState=function(e,t){}}},{key:"chkDuplicates",value:function(e,t){var n=e.length,a={},r=e.slice(),o=[];for(r.sort();n--;){var i=r[n];if(/nul|nan|infini/i.test(String(i))&&(i=String(i)),a[JSON.stringify(i)]){if(t)return!0;o.push(i)}a[JSON.stringify(i)]=!0}return!t&&(o.length?o:null)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=(t.analistas,t.modalForm),r=t.queueModalForm,i=t.queues,l=t.activeIndex;return o.a.createElement(o.a.Fragment,null,o.a.createElement(xe.a,{style:{position:"relative",height:"auto",width:"75%"},open:this.state.modalOpen,onClose:this.handleClose,size:"small"},o.a.createElement(ye.a,{attached:!0,as:"h3",icon:"browser",content:"Filas de atendimento",textAlign:"center"}),o.a.createElement(O.a,{attached:!0,loading:n},o.a.createElement(xe.a.Content,null,o.a.createElement(Oe.a,{divided:!0,verticalAlign:"middle",size:"big"},i.length?i.map((function(t,n){return o.a.createElement(_t.a,null,o.a.createElement(_t.a.Title,{active:l===n,index:n,onClick:e.handleClick,style:{display:"flex",width:"100%",alignItems:"center",borderRadius:"5px",backgroundColor:"#F6F6F6",padding:"1rem",marginTop:"15px",justifyContent:"space-between"}},o.a.createElement(Oe.a.Content,null,t.name),t.analysts.length>0&&o.a.createElement(we.a,{inverted:!0,color:"green",style:{marginLeft:"10px",borderWidth:"1px"},onClick:function(){return e.handleTransferirQueue(t)}},"Transferir para esta fila")),o.a.createElement(_t.a.Content,{active:l===n,style:{padding:"0px"}},o.a.createElement(Oe.a,{divided:!0,verticalAlign:"middle",size:"big",style:{padding:"0px"}},t.analysts.length?t.analysts.map((function(t,n){return o.a.createElement(Oe.a.Item,{key:t+n.toString()+Math.random(),style:{fontSize:"1.2rem",padding:"0px 30px"}},o.a.createElement(Oe.a.Content,{floated:"right"},o.a.createElement(we.a,{color:"green",onClick:function(){e.handleTransferir(t)}}," ","Transferir")),o.a.createElement($.a,{avatar:!0,src:"https://react.semantic-ui.com/images/avatar/large/chris.jpg"}),o.a.createElement(Oe.a.Content,null,t.name))})):o.a.createElement(be.a,{key:Math.random(),floating:!0,color:"red",style:{fontSize:"1.2rem",padding:"10px 15px",margin:"0px 30px"}},"Sem analista dispon\xedveis no momento!"))))})):n?o.a.createElement(o.a.Fragment,null):o.a.createElement(be.a,{key:Math.random(),floating:!0,color:"red"},"N\xe3o h\xe1 filas dispon\xedveis no momento")))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{color:"red",onClick:this.handleClose},"Cancelar"))),a?this.ModalForm():null,r?this.ModalFormQueue():null)}}]),n}(r.Component),Ut=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,usuariosLogados:e.usersLogged.usersLoggeds}}),{usersLoggeds:g,logout:v})(Ft),Mt=(n(776),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).shouldComponentUpdate=function(e,t){e.channel!==t.channel&&a.setState({channel:e.channel})},a.formatterNumber=function(e){if(12===e.length){var t=e.replace(/\D/g,"").match(/(\d{2})(\d{5})(\d{4})/);return e="("+t[1]+") "+t[2]+"-"+t[3]}return e},a.render=function(){return o.a.createElement("div",{className:"containerItem"},o.a.createElement("div",{className:"card-information",style:a.props.channel.analyst?{borderColor:"#db2828"}:{borderColor:"#16ab39"}},o.a.createElement("ul",{className:"animal-features"},o.a.createElement("li",{className:"detail-list-item"},o.a.createElement("span",{className:"detail-tag"},"Status"),": EM ATENDIMENTO"),o.a.createElement("li",{className:"detail-list-item"},o.a.createElement("span",{className:"detail-tag"},"Fila"),":"," ",a.props.channel.queueName),o.a.createElement("br",null),o.a.createElement("li",{className:"detail-list-item"},o.a.createElement("span",{className:"detail-tag"},"Nome"),":"," ",a.props.channel.user.name),o.a.createElement("li",{className:"detail-list-item"},o.a.createElement("span",{className:"detail-tag"},"Email"),":"," ",a.props.channel.user.email),o.a.createElement("li",{className:"detail-list-item"},o.a.createElement("span",{className:"detail-tag"},"Empresa"),":"," ",""!==a.props.channel.user.tenantName?"".concat(a.props.channel.user.tenantName):null),o.a.createElement("li",{className:"detail-list-item"},o.a.createElement("span",{className:"detail-tag"},"N\xfamero"),":"," ",a.formatterNumber(a.props.channel.user.numero)),a.props.channel.source.includes("BLIP:")&&o.a.createElement("li",{className:"detail-list-item"},o.a.createElement("span",{className:"detail-tag"},"Canal de acionamento"),":"," ",a.props.channel.source.replace("BLIP:","")),a.props.channel.analyst&&o.a.createElement("li",{className:"detail-list-item"},o.a.createElement("span",{className:"detail-tag"},"Inicio"),":"," ",a.props.channel.analyst?bt()(new Date(a.props.channel.createdAt)).format("DD/MM/YYYY hh:mm:ss"):"")),o.a.createElement("section",{className:"card__contact"},o.a.createElement("button",{title:"Atender chamado",onClick:function(){return a.props.channel.analyst?a.props.transfering():a.props.acceptAttending(a.props.channel)},style:a.props.channel.analyst?{backgroundColor:"#1e90ff"}:{backgroundColor:"#16ab39"}}," ",a.props.channel.analyst?o.a.createElement(Z.a,{name:"exchange"}):o.a.createElement(Z.a,{name:"phone"})),o.a.createElement("button",{title:"Encerrar chamado",onClick:function(){return a.props.finishAttendance(a.props.channel)}},o.a.createElement(Z.a,{name:"close"})))))},a.state={channel:null},a}return Object(c.a)(n)}(o.a.Component)),Dt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).shouldComponentUpdate=function(e,t){return e.attendingChannel!==t.attendingChannel&&a.setState({attendingChannel:e.attendingChannel}),!0},a.maskPhone=function(e){var t=e.replace(/\D/g,"").match(/(\d{2})(\d{5})(\d{4})/);return t&&(e="("+t[1]+") "+t[2]+"-"+t[3]),e},a.transferingToAnalyst=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"analyst";a.props.transferingToAnalyst(e,t)},a.transferingToChannel=function(e){a.props.transferingToChannel(e)},a.finishAttendance=function(e){a.props.finishAttendance(e)},a.acceptTransferingChannel=function(e){a.props.acceptTransferingChannel(e)},a.timeFromNow=function(e){return bt()(e).format("h:mm:ss a")},a.transfering=function(){return a.setState({isTransfering:!0})},a.render=function(){var e=a.state,t=e.attendingChannel,n=e.isTransfering;return o.a.createElement(o.a.Fragment,null,t&&!t.isTransfering?o.a.createElement("div",{style:{maxWidth:"96%",paddingLeft:"15px"},key:Math.random()+t.id},o.a.createElement(Mt,{channel:t,finishAttendance:a.finishAttendance,transfering:a.transfering}),n?o.a.createElement(Ut,{key:Math.random(),channel:t.id,currentChannel:t,transfering:a.transferingToAnalyst,transferingToChannel:a.transferingToChannel,cancelTransfering:function(){return a.setState({isTransfering:!1})}}):""):t&&t.isTransfering?o.a.createElement(O.a,{tertiary:!0,raised:!0,key:Math.random()+t.id,style:{maxWidth:"100%"}},o.a.createElement(Q.a,{as:"a",color:"blue",ribbon:!0,attached:"top left",style:{left:"-15px",top:"auto"}},"Transfer\xeancia"),o.a.createElement("span",{style:{fontWeight:"bold"}},a.timeFromNow(t.createdAt)),o.a.createElement(st.a,null),o.a.createElement("span",null,"Usu\xe1rio: ",o.a.createElement("b",null,t.user.name," ")," ",o.a.createElement("b",null,""!==t.user.tenantName?"- Inquilino: ".concat(t.user.tenantName):null),o.a.createElement("br",null)," foi transferido para voc\xea"),o.a.createElement(st.a,{horizontal:!0},o.a.createElement(ye.a,{as:"h4"},o.a.createElement(Z.a,{name:"angle double down"}),"Escolha uma das op\xe7\xf5es abaixo")),o.a.createElement(we.a.Group,{widths:"3"},o.a.createElement(we.a,{color:"red",onClick:function(){a.finishAttendance(t)}},"Encerrar"),o.a.createElement(we.a.Or,null),n?o.a.createElement(Ut,{key:Math.random(),channel:t.id,currentChannel:t,transfering:a.transferingToAnalyst,transferingToChannel:a.transferingToChannel,cancelTransfering:function(){return a.setState({isTransfering:!1})}}):"",o.a.createElement(we.a,{color:"green",onClick:function(){return a.setState({isTransfering:!0})}},"Transferir"),o.a.createElement(we.a.Or,null),o.a.createElement(we.a,{color:"blue",onClick:function(){return a.acceptTransferingChannel(t)}},"Aceitar"))):o.a.createElement(o.a.Fragment,null))},a.state={attendingChannel:null,isTransfering:!1},a}return Object(c.a)(n)}(o.a.Component),Rt=(n(777),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).shouldComponentUpdate=function(e,t){e.channel!==t.channel&&a.setState({channel:e.channel})},a.render=function(){var e;return o.a.createElement("div",{className:"row_container"},o.a.createElement("div",{className:"rowCard"},o.a.createElement("div",{className:"textCard"},o.a.createElement("div",{className:"textCard2"},o.a.createElement("b",null,"Nome: "),a.props.channel.user.name),o.a.createElement("div",{className:"textCard2",style:{marginTop:"5px"}},o.a.createElement("b",null,"Fila: "),(null===(e=a.props.channel)||void 0===e?void 0:e.queueName)||"Default")),o.a.createElement("div",{class:"wrapper-buttons"},o.a.createElement("button",{className:"button checkCard",onClick:function(){return a.props.acceptAttending(a.props.channel)}},o.a.createElement(Z.a,{name:"phone",color:"green",style:{paddingRight:"2px"}})),o.a.createElement("button",{title:"Encerrar chamado",onClick:function(){return a.props.finishAttendance(a.props.channel)},className:"button cancelCard"},o.a.createElement(Z.a,{name:"close",color:"red",style:{paddingRight:"2px"}})))))},a.state={channel:null},a}return Object(c.a)(n)}(o.a.Component)),qt=Object(c.a)((function e(){Object(s.a)(this,e),this.assignToChannel=function(e,t){var n={Authorization:"Bearer ".concat(t)};return ae.a.post("".concat(re,"/blip/attachedTicketAttendance"),{ticketId:e},{headers:n,withCredentials:!0})},this.sendMessage=function(e,t,n,a,r,o){var i={Authorization:"Bearer ".concat(r)};return ae.a.post("".concat(re,"/blip/sendMessage"),{to:t,message:n,imageUrl:a,channelId:e,ticketId:o},{headers:i,withCredentials:!0})},this.disableChannel=function(e,t,n){var a={Authorization:"Bearer ".concat(t)};return ae.a.post("".concat(re,"/blip/disableChannel"),{channelId:e,currentChannelInit:n},{headers:a,withCredentials:!0})}})),Bt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).whatsAppService=new ie,a.blipService=new qt,a.socket=te()("".concat(re),{reconnect:!0,transports:["websocket"]}),a.componentDidMount=function(){a.listenersChannels()},a.componentWillUnmount=function(){a.socket.off()},a.listenersChannels=function(){var e=a.props.currentUser;a.socket.on("firebase_value_child",(function(t){var n=t.filter((function(t){return t.users.includes(e.userId)}));a.setState({allChannels:n})})),a.socket.on("firebase_child_added",(function(t){var n=t,r=a.state.attendingChannels.filter((function(e){return e.channelDbId===n.channelDbId}));n.analyst!==e.userId||r.length?n.analyst!==e.userId&&r.length||n.analyst!==e.userId&&!r.length&&a.state.channelCurrent&&a.state.channelCurrent.channelDbId===n.channelDbId&&a.removeChannelCurrent(n):n.isTransfering?a.setState({channelCurrent:n}):(a.state.attendingChannels.push(n),a.setState({attendingChannels:a.state.attendingChannels,channelCurrent:n}))})),a.socket.on("firebase_child_changed",(function(t){var n=t,r=a.state.attendingChannels.filter((function(e){return e.channelDbId===n.channelDbId}));n.analyst!==e.userId||r.length?(n.analyst!==e.userId&&r.length||n.analyst!==e.userId&&!r.length&&a.state.channelCurrent&&a.state.channelCurrent.channelDbId===n.channelDbId)&&a.removeChannelCurrent(n):n.isTransfering?a.setState({channelCurrent:n}):(a.state.attendingChannels.push(n),a.setState({attendingChannels:a.state.attendingChannels,channelCurrent:n}))})),a.socket.on("firebase_child_removed",(function(e){var t=e;a.removeChannelCurrent(t)}))},a.removeChannelCurrent=function(e){var t=a.state.attendingChannels.filter((function(t){return t.channelDbId!==e.channelDbId}));t.length?t.length&&a.setState({channelCurrent:t.slice(0,1).shift(),attendingChannels:t}):a.setState({channelCurrent:null,attendingChannels:t})},a.assignToChannel=function(e,t){a.whatsAppService.assignToChannel(e,t).then((function(e){}))},a.updateChannel=function(e){var t=a.props.currentUser,n=a.state.channelsRef,r={};r=(e.isTransfering,Object(j.a)(Object(j.a)({},e),{},{analyst:t.userId,isTransfering:!1,isTransferingChannel:!1})),n.child(e.id).update(r).then((function(){e.isTransferingChannel||a.mensagemInitToChannel(e)})).catch((function(e){return console.error(e)}))},a.acceptTransferingChannel=function(e){a.state.channelsRef.child(e.id).update(Object(j.a)(Object(j.a)({},e),{},{isTransfering:!1})).then((function(){})).catch((function(e){return console.error(e)}))},a.transferingToAnalyst=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"analyst",n=a.props.currentUser,r=a.state.channelsRef;r.child(e.channel.id).set(Object(j.a)(Object(j.a)({},e.channel),{},{analyst:e.analystAffected,queue:"analyst"===t?e.channel.queue:e.idQueueTransfering,queueName:"analyst"===t?e.channel.queueName:e.nameQueueTransfering,isTransfering:"analyst"===t,isTransferingChannel:"analyst"!==t})).then((function(){a.whatsAppService.transferingChannel(e.channel.channelDbId,e.analyst,e.messageAction,e.analystAffected,e.idQueueTransfering,e.channel.queue,n.token).then((function(e){}))})).catch((function(e){console.error(e)}))},a.selectedChannelCurrent=function(e){a.state.channelCurrent&&!a.state.channelCurrent.isTransfering&&a.setState({channelCurrent:e})},a.mensagemInitToChannel=function(e){var t=a.props.currentUser,n=(new Date).getHours(),r="";n>=0&&(r="Boa noite"),n>6&&(r="Bom dia"),n>12&&(r="Boa tarde"),n>18&&(r="Boa noite"),n>22&&(r="Boa noite"),a.props.enviarMensagemWeb("Ol\xe1, meu nome \xe9 ".concat(t.email.replace(/@.*/,"").replace("."," ").toUpperCase(),", ").concat(r,". Em que posso ajudar?"),"",e)},a.assignToAnalyst=function(e,t){a.blipService.assignToChannel(e,t).then((function(e){}))},a.acceptAttending=function(e){var t=a.props.currentUser;a.state.attendingChannels.length<3?(e.ticketId&&a.assignToAnalyst(e.ticketId,t.token),y(e),a.updateChannel(e),a.assignToChannel(e.channelDbId,t.token),a.setState({channelCurrent:e})):setTimeout((function(){Object(Nt.toast)({type:"warning",icon:"envelope",title:"Aviso",description:"Voc\xea j\xe1 est\xe1 em atendimento",animation:"bounce",time:2e3,onClose:function(){},onClick:function(){},onDismiss:function(){}})}),300)},a.viewChannels=function(e){var t=a.props.channelsUser,n=e.user.tenant instanceof Object?e.user.tenant.tenant_id:e.user.tenant;return t.length&&t.includes(n)&&!e.analyst&&!e.isTransfering?o.a.createElement(Rt,{acceptAttending:a.acceptAttending,finishAttendance:a.finishAttendance,key:Math.random().toString()+e.id,channel:e}):o.a.createElement(o.a.Fragment,{key:Math.random().toString()+e.id})},a.finishAttendance=function(e){var t=a.props.currentUser;a.props.enviarMensagemWeb("O Analista ".concat(t.email.replace(/@.*/,"").replace("."," ").toUpperCase()," encerrou a conversa"),"",e,!0)},a.closeChannel=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.props.currentUser,o=a.state.channelsRef;o.child(t).remove().then((function(){a.props.removeChannelMessages(t),n.ticketId?a.disableChannelBlip(e,r.token,n):a.disableChannel(e,r.token)})).catch((function(e){console.error(e)}))},a.disableChannelBlip=function(e,t,n){a.blipService.disableChannel(e,t,n).then((function(e){}))},a.disableChannel=function(e,t){a.whatsAppService.disableChannel(e,t).then((function(e){}))},a.render=function(){var e=a.state,t=e.allChannels,n=e.channelCurrent;return o.a.createElement("div",null,o.a.createElement(Nt.SemanticToastContainer,null),o.a.createElement(Dt,{attendingChannel:n,acceptTransferingChannel:a.acceptTransferingChannel,transferingToAnalyst:a.transferingToAnalyst,transferingToChannel:a.removeChannelCurrent,finishAttendance:a.finishAttendance}),o.a.createElement(O.a,{basic:!0,loading:!t.length,style:{width:"100%",paddingTop:"0px"}},o.a.createElement("div",{className:"contentCard"},o.a.createElement("div",{className:"containerCard"},o.a.createElement("div",{className:"headerCard"},"Fila de espera"),t.length?t.map((function(e){return a.viewChannels(e)})):o.a.createElement(o.a.Fragment,null)))))},a.state={channelsRef:ze.database().ref("channels"),allChannels:[],channelCurrent:null,attendingChannels:[]},a}return Object(c.a)(n,[{key:"containsObject",value:function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}}]),n}(o.a.Component),Gt=Object(p.b)((function(e){return{currentUser:e.user.currentUser,channelsUser:e.channelsUser.channelsUser}}),{setCurrentChannel:y},null,{forwardRef:!0})(Bt),Wt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).whatsService=new ie,a.blipService=new qt,a.chatWebService=new Le,a.sendFileMessage=function(e,t,n){},a.addListeners=function(e,t){a.setState({isLoading:!0});var n=[];a.state.messagesRef.child(t).on("child_added",(function(e){n.push(e.val()),a.setState({messages:n,isLoading:!1})})),a.state.messagesRef.child(t).on("child_removed",(function(e){-1!==n.findIndex((function(t){return t.id===e.val().id}))&&(n=n.filter((function(t){return t.id!==e.val().id}))),a.setState({messages:n})}))},a.removeChannelMessages=function(e){a.state.messagesRef.child(e).remove().then((function(){})).catch((function(e){console.error(e)}))},a.removeListeners=function(){a.state.messagesRef.off(),a.state.channelsRef.off(),a.setState=function(e,t){}},a.scrollToBottom=function(){setTimeout((function(){var e=document.querySelector("#msg");e&&(e.scrollTop=e.scrollHeight,e.scrollIntoView({behavior:"smooth"}))}),100)},a.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=a.props,i=o.currentUser,l=o.currentChannel;a.setState({isSending:!0});var s="whatsapp:+5561933007022";if(""!==n){if(n.source.includes("BLIP:")){var c=n.name,u=n.channelDbId;a.blipService.sendMessage(u,c,e,t,i.token,n.ticketId).then((function(e){a.setState({isSending:!1}),""!==t&&a.setState({uploadState:"done"}),r&&a.child.current.closeChannel(u,n.id,n)}))}else if(n.name&&"WEB"!==n.source&&"CHATBOT_WEB"!==n.source){var h=n.name,d=n.channelDbId;a.whatsService.sendMessage(d,h,e,t,i.token,s).then((function(e){a.setState({isSending:!1}),""!==t&&a.setState({uploadState:"done"}),r&&a.child.current.closeChannel(d,n.id)}))}else if(n.name){var m=n.name,p=n.channelDbId;a.chatWebService.sendMessageWeb(p,m,e,t,i.token).then((function(e){a.setState({isSending:!1}),""!==t&&a.setState({uploadState:"done"}),r&&a.child.current.closeChannel(p,n.id)}))}}else if(l)if(l.name&&"WEB"!==l.source&&"CHATBOT_WEB"!==l.source){var f=l.name,g=l.channelDbId;a.whatsService.sendMessage(g,f,e,t,i.token,s).then((function(e){a.setState({isSending:!1}),""!==t&&a.setState({uploadState:"done"}),r&&a.child.current.closeChannel(g,l.id)}))}else if(l.name){var v=l.name,y=l.channelDbId;a.chatWebService.sendMessageWeb(y,v,e,t,i.token).then((function(e){a.setState({isSending:!1}),""!==t&&a.setState({uploadState:"done"}),r&&a.child.current.closeChannel(y,l.id)}))}},a.setMessages=function(e){a.setState({messages:e})},a.closeDialog=function(){a.setState({dialog:!1})},a.openDialog=function(){a.setState({dialog:!0})},a.selectedChannelCurrent=function(e){a.child.current.selectedChannelCurrent(e)},a.state={messages:[],channel:a.props.currentChannel,messagesRef:ze.database().ref("messages"),channelsRef:ze.database().ref("channels"),storageRef:ze.storage().ref(),isSending:!1,uploadModal:!1,uploadState:"",percentUploaded:0,isLoading:!1,dialog:!1,pesquisas:[]},a.child=o.a.createRef(),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(e,t){this.messagesEnd&&this.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentUser,a=t.currentChannel,r=this.state,i=r.messages,l=r.isSending,s=r.uploadState,c=r.isLoading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{basic:!0,id:"chat",onClick:function(){return e.closeDialog()}},o.a.createElement(ve.a,{columns:2,stackable:!0,celled:"internally"},o.a.createElement(ve.a.Column,{width:10,style:{paddingTop:"0em",paddingLeft:"0em"}},o.a.createElement(Pt,{messages:i,sendMessage:this.sendMessage,loading:c,currentChannel:a,isSending:l,uploadState:s,selectedChannelCurrent:this.selectedChannelCurrent})),o.a.createElement(ve.a.Column,{width:6},o.a.createElement(ve.a,{centered:!0,columns:3,stackable:!0,textAlign:"center"},o.a.createElement(Gt,{setMessages:this.setMessages,currentUser:n,currentChannel:a,changeChannel:this.addListeners,removeChannelMessages:this.removeChannelMessages,enviarMensagemWeb:this.sendMessage,ref:this.child}))))))}}]),n}(o.a.Component),zt=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel}}))(Wt),Ht=(n(778),n(877)),Yt=n(878),Vt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).whatsService=new ie,a.pendingPromises=[],a.componentDidMount=function(){a.addListeners()},a.componentWillUnmount=function(){a.removeListeners()},a.appendPendingPromise=function(e){return a.pendingPromises=[].concat(Object(V.a)(a.pendingPromises),[e])},a.removePendingPromise=function(e){return a.pendingPromises=a.pendingPromises.filter((function(t){return t!==e}))},a.addListeners=function(){var e=a.props.currentUser;a.props.dadosUser&&a.setState({modalOpen:!0});var t=le(a.whatsService.getTenantRelationUser(e.token,a.props.dadosUser.user_id));a.appendPendingPromise(t),t.promise.then((function(e){null!==e.data&&a.setState({listInquilinos:e.data})})).then((function(){return a.removePendingPromise(t)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),a.props.logout(),a.removePendingPromise(t))}))},a.removeListeners=function(){a.pendingPromises.map((function(e){return e.cancel()}))},a.modalClose=function(){a.setState({modalOpen:!1}),a.props.modalDataClose()},a.render=function(){var e=a.state,t=e.modalOpen,n=e.listInquilinos;return o.a.createElement(xe.a,{onClose:function(){return a.setState({modalOpen:!1})},open:t,style:{position:"relative",height:"auto",width:"auto"}},o.a.createElement(xe.a.Header,null,"Dados do Analista"),o.a.createElement(xe.a.Content,{image:!0,scrolling:!0},o.a.createElement($.a,{size:"tiny",src:"https://react.semantic-ui.com/images/avatar/small/jenny.jpg",wrapped:!0}),o.a.createElement(xe.a.Description,null,o.a.createElement(ye.a,null,"Nome: ",a.props.dadosUser.name),o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{horizontal:!0},o.a.createElement(ye.a,{as:"h4"},o.a.createElement(Z.a,{name:"bar chart"}),"Dados do Analista")),o.a.createElement(Yt.a,{definition:!0},o.a.createElement(Yt.a.Body,null,o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Tipo"),o.a.createElement(Yt.a.Cell,null,"1"===a.props.dadosUser.type?"Analista":"Administrador")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"E-mail"),o.a.createElement(Yt.a.Cell,null,a.props.dadosUser.email)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Ativo"),o.a.createElement(Yt.a.Cell,null,a.props.dadosUser.active?"Usu\xe1rio ativado":"Usu\xe1rio desativado")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Sexo"),o.a.createElement(Yt.a.Cell,null,"M"===a.props.dadosUser.sexo?"Masculino":"Feminino")))),o.a.createElement(st.a,{horizontal:!0},o.a.createElement(ye.a,{as:"h4"},o.a.createElement(Z.a,{name:"folder open"}),"Inquilinos")),n.length?o.a.createElement(Yt.a,{definition:!0},o.a.createElement(Yt.a.Body,null,n.map((function(e,t){return o.a.createElement(Yt.a.Row,{key:Math.random()+t.toString()},o.a.createElement(Yt.a.Cell,{width:2},"Inquilino"),o.a.createElement(Yt.a.Cell,null,e.m_nome_tenant))})))):o.a.createElement(be.a,{color:"red"},"N\xe3o tem inquilino vinculado a esse Usu\xe1rio")))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{primary:!0,onClick:function(){return a.modalClose()}},"OK")))},a.state={modalOpen:!1,listInquilinos:[]},a}return Object(c.a)(n)}(o.a.Component),Qt=Object(p.b)((function(e){return{currentUser:e.user.currentUser}}),{logout:v})(Vt),Jt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={modalOpen:!1,isLoading:!1,errors:[],form:{user_id:"",nome:"",senha:"",email:"",sexo:"M",ativo:1,type:2}},a.whatsService=new ie,a.cadastrar=function(){var e=a.props.currentUser,t=a.state.form,n=t.nome,r=t.senha,o=t.email,i=t.sexo,l=t.ativo,s=t.type;a.setState({isLoading:!0}),a.whatsService.createUser(e.token,o,n,r,i,l,s).then((function(e){a.setState({modalOpen:!1,isLoading:!1,form:{nome:"",senha:"",email:"",sexo:"M",ativo:1,type:2}}),a.props.reloadUsers()})).catch((function(e){e.response&&a.setState({errors:a.state.errors.concat(e.response.data),isLoading:!1})}))},a.editar=function(){var e=a.props.currentUser,t=a.state.form,n=t.user_id,r=t.nome,o=t.senha,i=t.email,l=t.sexo,s=t.ativo,c=t.type;a.setState({isLoading:!0}),a.whatsService.updateUser(e.token,n,i,r,o,l,s,c).then((function(e){a.setState({modalOpen:!1,isLoading:!1,form:{nome:"",senha:"",email:"",sexo:"M",ativo:1,type:2}}),a.props.reloadUsers()})).catch((function(e){e.response&&a.setState({errors:a.state.errors.concat(e.response.data),isLoading:!1})}))},a.addListeners=function(){a.props.editar&&a.setState({form:{user_id:a.props.user_id,nome:a.props.nome,senha:a.props.password,email:a.props.email,sexo:a.props.sexo,ativo:a.props.ativo,type:a.props.type}})},a.removeListeners=function(){},a.displayErros=function(e){return e.map((function(e,t){return o.a.createElement(be.a,{error:!0,key:t,header:"Algo deu errado :(",content:e})}))},a.dadosForm=a.dadosForm.bind(Object(qe.a)(a)),a.cadastrar=a.cadastrar.bind(Object(qe.a)(a)),a}return Object(c.a)(n,[{key:"dadosForm",value:function(e){var t=this.state.form;t[e.target.name]=e.target.value,this.setState({form:t})}},{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.errors;return o.a.createElement(xe.a,{onClose:function(){return e.setState({modalOpen:!1})},open:this.state.modalOpen,centered:!0,style:{height:"auto",position:"relative"},trigger:o.a.createElement(we.a,{onClick:function(){return e.setState({modalOpen:!0})},compact:!0,color:"green",size:"tiny",content:this.props.editar?"Editar":"Criar"}),closeIcon:!0},o.a.createElement(ye.a,{icon:"user",content:this.props.editar?"Editar":"Criar"}),o.a.createElement(xe.a.Content,null,this.displayErros(a),o.a.createElement(Ee.a,null,o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"nome",id:"form-input-control-nome",control:Ce.a,value:this.state.form.nome,label:"Nome",placeholder:"Digite o nome...",onChange:this.dadosForm}),o.a.createElement(Ee.a.Field,{value:this.state.form.sexo,name:"sexo",label:"Sexo do usu\xe1rio",control:"select",onChange:this.dadosForm},o.a.createElement("option",{value:"M"},"Masculino"),o.a.createElement("option",{value:"F"},"Feminino"))),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{value:this.state.form.type,name:"type",label:"Tipo",control:"select",onChange:this.dadosForm},o.a.createElement("option",{value:"1"},"Administrador"),o.a.createElement("option",{value:"2"},"Analista"),o.a.createElement("option",{value:"3"},"L\xedder de Equipe de Suporte")),o.a.createElement(Ee.a.Field,{name:"senha",id:"form-input-control-senha",control:Ce.a,type:"password",value:this.state.form.senha,label:"Senha",placeholder:"Digite a senha..",onChange:this.dadosForm})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"email",id:"form-input-control-email",control:Ce.a,value:this.state.form.email,label:"Email",placeholder:"email@email.com.br",type:"email",onChange:this.dadosForm}),o.a.createElement(Ee.a.Field,{value:this.state.form.ativo,name:"ativo",label:"Status do usu\xe1rio",control:"select",onChange:this.dadosForm},o.a.createElement("option",{value:"1"},"Ativo"),o.a.createElement("option",{value:"0"},"Inativo"))))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{onClick:function(){return e.setState({modalOpen:!1,errors:[],form:{nome:"",senha:"",email:"",sexo:"M",ativo:1,type:2}})},color:"red"},o.a.createElement(Z.a,{name:"remove"})," Cancelar"),this.props.editar?o.a.createElement(we.a,{onClick:this.editar,loading:n,color:"green"},o.a.createElement(Z.a,{name:"checkmark"})," Editar"):o.a.createElement(we.a,{onClick:this.cadastrar,loading:n,color:"green"},o.a.createElement(Z.a,{name:"checkmark"})," Criar")))}}]),n}(r.Component),Zt=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel}}))(Jt),Kt=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).modalDataClose=function(){return a.setState({openModalData:!1})},a.render=function(){var e=a.state.openModalData;return o.a.createElement(Oe.a,{animated:!0,verticalAlign:"middle",size:"large"},o.a.createElement(Oe.a.Item,null,o.a.createElement(Oe.a.Content,{floated:"right"},o.a.createElement(we.a.Group,{size:"medium"},e?o.a.createElement(Qt,{dadosUser:a.props.usuarios,modalDataClose:a.modalDataClose}):null,o.a.createElement(we.a,{onClick:function(){return a.setState({openModalData:!0})}},"Detalhes"),o.a.createElement(we.a.Or,null),o.a.createElement(Zt,{user_id:a.props.usuarios.user_id,nome:a.props.usuarios.name,email:a.props.usuarios.email,password:a.props.usuarios.password,sexo:a.props.usuarios.sexo,type:a.props.usuarios.type,reloadUsers:a.props.reloadUsers,ativo:a.props.usuarios.active,tenant:a.props.usuarios.tenant_name,editar:"Editar"}))),o.a.createElement($.a,{avatar:!0,src:"M"===a.props.usuarios.sexo?"https://react.semantic-ui.com/images/avatar/small/matt.jpg":"https://react.semantic-ui.com/images/avatar/small/helen.jpg"}),o.a.createElement(Oe.a.Content,null,o.a.createElement(Oe.a.Header,{as:"a"},a.props.usuarios.name),o.a.createElement(Oe.a.Description,null,"E-mail: ",a.props.usuarios.email," "," "))))},a.state={openModalData:!1,openModalUser:!1},a}return Object(c.a)(n)}(o.a.Component);function Xt(){Xt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var $t=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsService=new ie,r.pendingPromises=[],r.appendPendingPromise=function(e){return r.pendingPromises=[].concat(Object(V.a)(r.pendingPromises),[e])},r.removePendingPromise=function(e){return r.pendingPromises=r.pendingPromises.filter((function(t){return t!==e}))},r.handlePaginationChange=function(e,t){var n=t.activePage;r.setState({activePage:n}),r.loadUsers(n)},r.loadUsers=function(){var e=Object(a.a)(Xt().mark((function e(t){var n,a;return Xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.props.currentUser,a=le(r.whatsService.users(n.token,t,1)),r.appendPendingPromise(a),a.promise.then((function(e){null!==e.data&&r.setState({users:e.data[0],totalUsers:e.data[1],allUsers:e.data[0],isLoading:!1}),r.whatsService.users(n.token,0,0).then((function(e){null!==e.data&&r.setState({searchUsersAll:e.data})}))})).then((function(){return r.removePendingPromise(a)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(a))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addListeners=function(){var e=r.state.activePage;r.loadUsers(e)},r.removeListeners=function(){r.pendingPromises.map((function(e){return e.cancel()}))},r.pesquisaItem=function(){var e=[],t=r.state.pesquisa;""!==t?(r.state.searchUsersAll.forEach((function(n){n.name.toLowerCase().indexOf(t.toLowerCase())>=0&&e.push(Object(j.a)({id:n.user_id},n))})),r.setState({users:e})):r.setState({users:r.state.allUsers})},r.handlerOnChange=function(e){""===e.target.value&&r.setState({users:r.state.allUsers}),r.setState(Object(ge.a)({},e.target.name,e.target.value))},r.state={users:[],allUsers:[],searchUsersAll:[],isLoading:!0,pesquisa:"",totalUsers:0,activePage:1},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.pesquisa,r=t.users,i=t.totalUsers,l=t.activePage;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ve.a,{columns:1,id:"usuarios",stackable:!0},o.a.createElement(ve.a.Column,null,o.a.createElement(O.a,{clearing:!0,secondary:!0,size:"tiny"},o.a.createElement(ye.a,{floated:"right"},o.a.createElement(O.a.Inline,null,o.a.createElement(Zt,{reloadUsers:this.addListeners}),o.a.createElement(Ce.a,{value:a,onChange:this.handlerOnChange,name:"pesquisa",size:"mini",action:o.a.createElement(we.a,{color:"blue",content:"Pesquisar",size:"mini",onClick:this.pesquisaItem}),icon:"search",iconPosition:"left",placeholder:"Pesquisa por um analista.."}))),o.a.createElement(ye.a,{as:"h3",floated:"left"},o.a.createElement(Z.a,{name:"settings"}),o.a.createElement(ye.a.Content,null,"Configura\xe7\xf5es de Contas",o.a.createElement(ye.a.Subheader,null,"Crie e edite um analista")))),o.a.createElement(O.a,{loading:n,basic:!0,className:"segment-class"},r.length>0?r.map((function(t,n){return o.a.createElement(Kt,{key:Math.random().toString()+n.toString(),usuarios:t,reloadUsers:e.addListeners})})):o.a.createElement(be.a,{negative:!0},o.a.createElement(be.a.Header,null,"Usu\xe1rio n\xe3o encontrado"),o.a.createElement("p",null,"Por favor, verifique se o que digitou est\xe1 correto!"))),o.a.createElement(O.a,{basic:!0,textAlign:"center"},o.a.createElement(Ht.a,{defaultActivePage:l,firstItem:null,lastItem:null,onPageChange:this.handlePaginationChange,pointing:!0,secondary:!0,totalPages:Math.ceil(i/10)})))))}}]),n}(o.a.Component),en=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel}}),{logout:v})($t);n(779);function tn(){tn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var nn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).whatsService=new ie,e.pendingPromises=[],e.state={users:[],allUsers:[],usersPaused:[],activePage:1,begin:0,end:10,isLoading:!0,pausa:!1,channelsRef:ze.database().ref("channels"),pausasRef:ze.database().ref("pausas"),usersLoggeds:[],channelsAnalyst:[]},e.appendPendingPromise=function(t){return e.pendingPromises=[].concat(Object(V.a)(e.pendingPromises),[t])},e.removePendingPromise=function(t){return e.pendingPromises=e.pendingPromises.filter((function(e){return e!==t}))},e.componentDidMount=function(){e.addListeners()},e.componentWillUnmount=function(){e.pendingPromises.map((function(e){return e.cancel()})),e.removeListeners()},e.addListeners=function(){var t=[],n=e.props,a=n.currentUser,r=n.usersLoggeds,o=n.usuariosLogados,i=n.channelsUser;e.setState({isLoading:!0});var l=le(e.whatsService.users(a.token,0));e.appendPendingPromise(l),l.promise.then((function(n){if(t=n.data,o.length?e.setState({usersLoggeds:o}):e.whatsService.logged(a.token,0).then((function(e){r(e.data)})),e.state.channelsRef.on("child_added",(function(t){e.state.channelsAnalyst.push(t.val()),e.setState({channelsAnalyst:e.state.channelsAnalyst.filter((function(e){return e.analyst}))})})),e.state.channelsRef.on("child_removed",(function(t){e.setState({channelsAnalyst:e.state.channelsAnalyst.filter((function(e){return e.id!==t.val().id}))})})),e.state.channelsRef.on("child_changed",(function(t){t.val().analyst&&(e.state.channelsAnalyst.push(t.val()),e.setState({channelsAnalyst:e.state.channelsAnalyst.filter((function(e){return e.analyst}))}))})),e.state.pausasRef.on("child_added",(function(t){e.state.usersPaused.push(t.val().usuario.email),e.setState({usersPaused:e.state.usersPaused})})),e.state.pausasRef.on("child_removed",(function(t){e.setState({usersPaused:e.state.usersPaused.filter((function(e){return e!==t.val().usuario.email}))})})),1!==a.type){var l=[];i.length&&e.whatsService.getTenantById(a.token,i).then((function(n){n&&n.forEach((function(n,r){e.whatsService.getTenantRelation(a.token,n.data.nome_tenant).then((function(e){var t=e.data.filter((function(e){return i.includes(e.m_tenant_id)}));return l.push.apply(l,Object(V.a)(t.map((function(e){return e.u_user_id})))),Promise.all(l)})).then((function(n){var a=t.filter((function(e){return n.includes(e.user_id)}));e.changesUsers(a)}))}))}))}else e.changesUsers(t)})).then((function(){return e.removePendingPromise(l)})).catch((function(t){t.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),e.props.logout(),e.removePendingPromise(l))}))},e.changesUsers=function(t){var n,a,r=[],o=e.props.usuariosLogados,i=t.filter((function(e){var t=e.user_id;return!o.some((function(e){return e.user_id===t}))}));(n=r).push.apply(n,Object(V.a)(o)),(a=r).push.apply(a,Object(V.a)(i));var l=r.filter((function(e,t,n){return n.findIndex((function(t){return t.user_id===e.user_id}))===t})),s=l.slice(e.state.begin,e.state.end);r=r.splice(0,r.length),e.setState({users:s,allUsers:l,isLoading:!1})},e.componentDidUpdate=function(t,n){t.usuariosLogados!==e.props.usuariosLogados&&e.changesUsers(e.state.users)},e.removeListeners=function(){e.state.channelsRef.off()},e.displayAttending=function(t){return e.state.channelsAnalyst.filter((function(e){return e.analyst===t})).length?"EM ATENDIMENTO":"LIVRE"},e.displayRows=function(t){return t?t.length>0&&t.map((function(t,n){return o.a.createElement(Yt.a.Row,{key:t+Math.random()},o.a.createElement(Yt.a.Cell,null,t.name),o.a.createElement(Yt.a.Cell,null,o.a.createElement(Z.a,{color:e.getColor(t.user_id),name:"circle"})),o.a.createElement(Yt.a.Cell,null,e.displayAttending(t.user_id)))})):""},e.getColor=function(t){var n=e.props.usuariosLogados.filter((function(e){return e.user_id===t}));return n.filter((function(t){return e.state.usersPaused.includes(t.email)})).length?"yellow":"EM ATENDIMENTO"===e.displayAttending(t)?"red":n.length?"green":"grey"},e.handlePaginationChange=function(){var t=Object(a.a)(tn().mark((function t(n,a){var r;return tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.activePage,t.next=3,e.setState({activePage:r});case 3:return t.next=5,e.setState({begin:10*e.state.activePage-10});case 5:return t.next=7,e.setState({end:10*e.state.activePage});case 7:e.setState({users:e.state.allUsers.slice(e.state.begin,e.state.end)});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(c.a)(n,[{key:"objectsAreSame",value:function(e,t){var n=[],a=e.filter((function(e){var n=e.user_id;return!t.some((function(e){return e.user_id===n}))}));n.push.apply(n,Object(V.a)(t)),n.push.apply(n,Object(V.a)(a));var r=n.filter((function(e,t,n){return n.findIndex((function(t){return t.user_id===e.user_id}))===t}));return n.splice(0,n.length),r}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.users,a=e.activePage;return o.a.createElement(O.a,{id:"fila",basic:!0},o.a.createElement(O.a,{color:"teal",loading:t},o.a.createElement(be.a,null,o.a.createElement(be.a.Header,null,"Fila de Atendimento"),o.a.createElement(be.a.List,null,o.a.createElement(be.a.Item,null,"Lista atualizada em tempo real"),o.a.createElement(be.a.Item,null,"Aviso: Antes de realizar a Pausa, verifique se existe outro Analista dispon\xedvel"))),o.a.createElement(Yt.a,{celled:!0,stackable:!0,size:"small"},o.a.createElement(Yt.a.Header,null,o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.HeaderCell,null,"Nome"),o.a.createElement(Yt.a.HeaderCell,null,"Status"),o.a.createElement(Yt.a.HeaderCell,null,"Atendendo"))),o.a.createElement(Yt.a.Body,{className:"segment-class"},this.displayRows(n)))),o.a.createElement(O.a,{basic:!0,textAlign:"center"},o.a.createElement(Ht.a,{defaultActivePage:a,firstItem:{content:o.a.createElement(Z.a,{name:"angle double left"}),icon:!0},lastItem:{content:o.a.createElement(Z.a,{name:"angle double right"}),icon:!0},prevItem:null,nextItem:null,totalPages:Math.ceil(this.state.allUsers.length/10),ellipsisItem:null,onPageChange:this.handlePaginationChange})))}}]),n}(o.a.Component),an=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel,usuariosLogados:e.usersLogged.usersLoggeds,channelsAnalysts:e.channelsAnalysts.channelsAnalysts,channelsUser:e.channelsUser.channelsUser}}),{usersLoggeds:g,logout:v,setChannelsAnalysts:b})(nn),rn=(n(780),n(492)),on=n.n(rn),ln=n(493);function sn(){sn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var cn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsService=new ie,r.pendingPromises=[],r.appendPendingPromise=function(e){return r.pendingPromises=[].concat(Object(V.a)(r.pendingPromises),[e])},r.removePendingPromise=function(e){return r.pendingPromises=r.pendingPromises.filter((function(t){return t!==e}))},r.timeFromNow=function(e){return bt()(e).fromNow()},r.addListeners=Object(a.a)(sn().mark((function e(){var t;return sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.activePage,r.loadChannels(t);case 2:case"end":return e.stop()}}),e)}))),r.loadChannels=function(){var e=Object(a.a)(sn().mark((function e(t){var n,a,o,i;return sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.props,a=n.currentUser,o=n.channelsUser,r.setState({isLoading:!0}),i=le(r.whatsService.getAllChannels(a.token)),r.appendPendingPromise(i),i.promise.then((function(e){var t=e.data.reduce((function(e,t){return e[t.c_channel_id]||(e[t.c_channel_id]=[]),e[t.c_channel_id].push(t),e}),{}),n=Object.entries(t);if(null!==e.data){var i=n.reduce((function(e,t){return e.push({key:t[0],d:t[1][0]}),e}),[]);if(1!==a.type){if(o.length){var l=i.filter((function(e){return o.includes(e.d.tn_tenant_id)}));l.length&&r.setState({channels:l.slice(r.state.begin,r.state.end),pagChannels:l,allChannels:n,isLoading:!1})}}else 1===a.type&&r.setState({channels:i.slice(r.state.begin,r.state.end),pagChannels:i,allChannels:n,isLoading:!1})}})).then((function(){return r.removePendingPromise(i)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(i))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeListeners=function(){r.pendingPromises.map((function(e){return e.cancel()}))},r.handleOpen=function(e){r.setState({modalOpen:!0}),r.setState({messages:e})},r.handlePaginationChange=function(){var e=Object(a.a)(sn().mark((function e(t,n){var a;return sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.activePage,e.next=3,r.setState({activePage:a});case 3:return e.next=5,r.setState({begin:10*r.state.activePage-10});case 5:return e.next=7,r.setState({end:10*r.state.activePage});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.handleClose=function(){return r.setState({modalOpen:!1})},r.downloadTxtFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=bt()(new Date(e[0].c_createdAt)).format("DD/MM/YYYY");e.forEach((function(e){t.push("[".concat(bt()(new Date(e.m_createdAt)).format("DD/MM/YYYY hh:mm:ss"),"] - ").concat("CHATBOT_WEB"===e.m_type?"ChatBot":"ANL"===e.m_type?e.u_name:e.cl_name," : ").concat(e.m_content))}));var a=JSON.stringify(t,void 0,2),r=document.createElement("a"),o=new Blob([a],{type:"text/plain"});r.href=URL.createObjectURL(o),r.download="conversa".concat(n,".txt"),document.body.appendChild(r),r.click()},r.downloadCsvFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[["data","nome_usuario","mensagem"]];return e.forEach((function(e){t.push(["".concat(bt()(new Date(e.m_createdAt)).format("DD/MM/YYYY hh:mm:ss")),"".concat("CHATBOT_WEB"===e.m_type?"ChatBot":"ANL"===e.m_type?e.u_name:e.cl_name),"".concat(e.m_content)])})),o.a.createElement(ln.CSVLink,{color:"red",filename:"conversa.csv",className:"buttonLink",separator:";",data:t},o.a.createElement(Z.a,{name:"file excel",color:"green"}))},r.ModalConversa=function(e){var t=r.state.allChannels.filter((function(t){return t[0]===e}));return e=t[0][1],o.a.createElement(xe.a,{id:"historic-modal",open:r.state.modalOpen,onClose:r.handleClose,size:"large"},o.a.createElement(O.a,{clearing:!0},o.a.createElement(ye.a,{floated:"right"},o.a.createElement(we.a.Group,null,o.a.createElement(lt.a,{content:"Download Conversa TXT",inverted:!0,trigger:o.a.createElement(we.a,{icon:!0,onClick:function(){return r.downloadTxtFile(e)},color:"red"},o.a.createElement(Z.a,{name:"text width"}))}),o.a.createElement(lt.a,{content:"Download Conversa CSV",inverted:!0,trigger:r.downloadCsvFile(e)}))),o.a.createElement(ye.a,{style:{marginTop:"7px"},as:"h3",icon:"wechat",content:"HIST\xd3RICO DA CONVERSA",floated:"left"})),o.a.createElement(xe.a.Content,{style:{height:"460px",overflowY:"scroll"}},o.a.createElement(Et.a.Group,{size:"large"},e?e.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:Math.random().toString()+t.toString()},"CHATBOT_WEB"===e.m_type?o.a.createElement(Et.a,{style:{clear:"left"}},o.a.createElement(Et.a.Avatar,{as:"a",src:"https://react.semantic-ui.com/images/avatar/small/jenny.jpg"}),o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a"},"ChatBot LIA"),o.a.createElement(Et.a.Metadata,null,o.a.createElement("span",null,bt()(new Date(e.c_createdAt)).format("DD/MM/YYYY hh:mm:ss"))),""!==e.m_content?o.a.createElement(o.a.Fragment,{key:Math.random().toString()+t.toString()},o.a.createElement(Et.a.Text,null,o.a.createElement("p",null,e.m_content))):o.a.createElement(o.a.Fragment,{key:Math.random().toString()+t.toString()},o.a.createElement(st.a,{hidden:!0}),o.a.createElement(xe.a,{trigger:o.a.createElement($.a,{src:e.m_image,className:"message__image"}),centered:!1,closeIcon:{style:{top:"1.0535rem",right:"1rem",color:"white"},name:"close"}},o.a.createElement(xe.a.Header,{style:{background:"rgb(25, 45, 62)",color:"white"}},"Foto anexada"),o.a.createElement(xe.a.Content,{image:!0},o.a.createElement($.a,{style:{width:"auto"},src:e.m_image,className:"message__image"})))))):"ANL"===e.m_type?o.a.createElement(Et.a,{style:{clear:"left"}},o.a.createElement(Et.a.Avatar,{as:"a",src:"https://react.semantic-ui.com/images/avatar/small/jenny.jpg"}),o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a"},e.u_name),o.a.createElement(Et.a.Metadata,null,o.a.createElement("span",null,bt()(new Date(e.m_createdAt)).format("DD/MM/YYYY hh:mm:ss"))),""!==e.m_content?o.a.createElement(o.a.Fragment,{key:Math.random().toString()+t.toString()},o.a.createElement(Et.a.Text,null,o.a.createElement("p",null,e.m_content))):o.a.createElement(o.a.Fragment,{key:Math.random().toString()+t.toString()},o.a.createElement(st.a,{hidden:!0}),o.a.createElement(xe.a,{trigger:o.a.createElement($.a,{src:e.m_image,className:"message__image"}),centered:!1,closeIcon:{style:{top:"1.0535rem",right:"1rem",color:"white"},name:"close"}},o.a.createElement(xe.a.Header,{style:{background:"rgb(25, 45, 62)",color:"white"}},"Foto anexada"),o.a.createElement(xe.a.Content,{image:!0},o.a.createElement($.a,{style:{width:"auto"},src:e.m_image,className:"message__image"})))))):o.a.createElement(Et.a,{style:{clear:"both"}},o.a.createElement(Et.a.Avatar,{as:"a",src:on.a}),o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a"},e.cl_name?e.cl_name:"Cliente"),o.a.createElement(Et.a.Metadata,null,o.a.createElement("span",null,bt()(new Date(e.m_createdAt)).format("DD/MM/YYYY hh:mm:ss"))),""!==e.m_content?o.a.createElement(o.a.Fragment,{key:Math.random().toString()+t.toString()},o.a.createElement(Et.a.Text,null,o.a.createElement("p",null,e.m_content))):o.a.createElement(o.a.Fragment,{key:Math.random().toString()+t.toString()},o.a.createElement(st.a,{hidden:!0}),o.a.createElement(xe.a,{trigger:o.a.createElement($.a,{src:e.m_image,className:"message__image"}),centered:!1,closeIcon:{style:{top:"1.0535rem",right:"1rem",color:"white"},name:"close"}},o.a.createElement(xe.a.Header,{style:{background:"rgb(25, 45, 62)",color:"white"}},"Foto anexada"),o.a.createElement(xe.a.Content,{image:!0},o.a.createElement($.a,{style:{width:"auto"},src:e.m_image,size:"large"})))),o.a.createElement(Et.a.Avatar,null))))})):[])),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{color:"red",onClick:r.handleClose,inverted:!0},o.a.createElement(Z.a,{name:"close"})," Fechar")))},r.filterChannels=function(e,t){var n=r.state.pagChannels;r.state.pesquisa&&(n=r.pesquisaItem(n)),n=r.pesquisaItemDate(e,t,n),r.setState({channels:n})},r.pesquisaItem=function(e){var t=r.state.pesquisa;return e.filter((function(e){if(!e.d.cl_name)return null;var n=e.d.cl_numero.toLowerCase().indexOf(t.toLowerCase());return e.d.cl_name.toLowerCase().indexOf(t.toLowerCase())>=0||n>=0?e:null}))},r.pesquisaItemDate=function(e,t,n){var a="initialDate"===e?t:r.state.initialDate,o="endDate"===e?t:r.state.endDate;return n.filter((function(e){var t=bt()(e.d.c_createdAt).format("YYYY-MM-DD");return bt()(t).isBetween(a,o,void 0,"[]")?e:null}))},r.handlerOnChange=function(e){r.setState(Object(ge.a)({},e.target.name,e.target.value)),"initialDate"!==e.target.name&&"endDate"!==e.target.name||r.filterChannels(e.target.name,e.target.value)},r.state={modalOpen:!1,pesquisa:"",initialDate:bt()().format("YYYY-MM-DD"),endDate:bt()().format("YYYY-MM-DD"),channels:[],messages:[],allChannels:[],pagChannels:[],isLoading:!1,activePage:1,begin:0,end:10},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){console.log("AQUI carrewgou"),this.addListeners(),this.filterChannels(null,null)}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.channels,a=t.messages,r=t.isLoading,i=t.activePage,l=t.pesquisa,s=t.initialDate,c=t.endDate;return o.a.createElement(O.a,{loading:r,id:"historic",basic:!0},o.a.createElement(K.a,{attached:"top",stackable:!0},o.a.createElement(Z.a,{style:{margin:"40px"},size:"big",name:"stack exchange"}),o.a.createElement(be.a,{header:"Hist\xf3rico",content:"Vis\xe3o Geral de todas as conversas atendidas por Analistas com Usu\xe1rios",floating:!0,size:"large"}),o.a.createElement("div",{style:{display:"flex",alignItems:"end",flexDirection:"column",justifyContent:"right",width:"100%",padding:"1rem 1rem",marginLeft:"auto"}},o.a.createElement(K.a.Menu,{position:"right"},o.a.createElement(Ce.a,{className:"inputRight",size:"small",value:l,onChange:this.handlerOnChange,name:"pesquisa",action:o.a.createElement(we.a,{color:"teal",content:"Pesquisar",onClick:this.filterChannels}),icon:"search",iconPosition:"left",placeholder:"Pesquisar conversa.."})),o.a.createElement(K.a.Menu,{position:"",style:{marginTop:"5px"}},o.a.createElement(Ce.a,{type:"date",className:"inputRight",size:"small",value:s,onChange:this.handlerOnChange,name:"initialDate",iconPosition:"left",placeholder:"Data inicial"}),o.a.createElement(Ce.a,{type:"date",className:"inputRight",size:"small",value:c,onChange:this.handlerOnChange,name:"endDate",iconPosition:"left",placeholder:"Data final"})))),o.a.createElement(O.a,{attached:"bottom"},o.a.createElement(ot.a.Group,{fluid:!0,vertical:!0,className:"segment-class"},n.length>0?n.map((function(t,n){return n>=e.state.begin&&n<e.state.end?t.d&&o.a.createElement(o.a.Fragment,{key:Math.random().toString()+n.toString()},o.a.createElement(ot.a,{onClick:function(){return e.handleOpen(t.key)}},o.a.createElement(Z.a,{name:"wechat",color:"green"}),o.a.createElement(ot.a.Content,null,o.a.createElement(ot.a.Title,null,t.d.cl_name?t.d.cl_name:"Cliente"," -"," ",t.d.cl_numero),o.a.createElement(ot.a.Description,null,"Conversa iniciada em"," ",bt()(new Date(t.d.c_createdAt)).format("DD/MM/YYYY - hh:mm:ss"))))):o.a.createElement(o.a.Fragment,null)})):o.a.createElement(be.a,{negative:!0},o.a.createElement(be.a.Header,null,"Conversa n\xe3o encontrada"),o.a.createElement("p",null,"Por favor, verifique se o que digitou est\xe1 correto!"))),this.state.modalOpen?this.ModalConversa(a):"",o.a.createElement(O.a,{basic:!0,textAlign:"center"},o.a.createElement(Ht.a,{defaultActivePage:i,firstItem:{content:o.a.createElement(Z.a,{name:"angle double left"}),icon:!0},lastItem:{content:o.a.createElement(Z.a,{name:"angle double right"}),icon:!0},prevItem:null,nextItem:null,totalPages:Math.ceil(this.state.channels.length/10),ellipsisItem:null,onPageChange:this.handlePaginationChange}))))}}]),n}(r.Component),un=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel,currentPadding:e.padding.currentPadding,channelsUser:e.channelsUser.channelsUser}}),{logout:v})(cn),hn=(n(784),n(879)),dn=n(132),mn=n.n(dn),pn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).whatsService=new ie,a.cadastrar=function(){var e=a.props.currentUser,t=a.state.form,n=t.nome,r=t.email,o=t.numero,i=t.sexo,l=t.ativo,s=t.inquilino,c=o.match(/\d/g);c=c.join(""),a.setState({isLoading:!0}),a.whatsService.createClient(e.token,r,n,c,i,l,s).then((function(e){a.setState({modalOpen:!1,isLoading:!1,errors:[],form:{nome:"",email:"",numero:"",sexo:"M",ativo:1}}),a.props.reloadClients()})).catch((function(e){e.response&&a.setState({errors:a.state.errors.concat(e.response.data),isLoading:!1})}))},a.editar=function(){var e=a.props,t=e.currentUser,n=e.cliente_id,r=a.state.form,o=r.nome,i=r.email,l=r.numero,s=r.sexo,c=r.ativo,u=r.inquilino,h=l.match(/\d/g);h=h.join(""),a.setState({isLoading:!0}),a.whatsService.updateClient(t.token,n,i,o,h,s,c,u).then((function(e){a.setState({modalOpen:!1,isLoading:!1,errors:[],form:{nome:"",email:"",numero:"",sexo:"M",ativo:1}}),a.props.reloadClients()})).catch((function(e){e.response&&a.setState({errors:a.state.errors.concat(e.response.data),isLoading:!1})}))},a.addListeners=function(){var e=a.props.currentUser;a.whatsService.getAllTenants(e.token).then((function(e){a.setState({inquilinos:e.data})})),a.props.editar&&a.setState({modalOpen:!0,form:{client_id:a.props.client_id,nome:a.props.nome,email:a.props.email,numero:a.props.numero,sexo:a.props.sexo,ativo:a.props.ativo,inquilino:a.props.tenant}}),a.props.criar&&a.setState({modalOpen:!0})},a.removeListeners=function(){},a.displayErros=function(e){return e.map((function(e,t){return o.a.createElement(be.a,{error:!0,key:t,header:"Algo deu errado :(",content:e})}))},a.reloadClients=function(){a.setState({modalOpen:!1,errors:[],form:{nome:"",email:"",numero:"",sexo:"M",ativo:1}}),a.props.reloadClients()},a.disabledButton=function(){var e=a.state,t=e.nome,n=e.email,r=e.numero;return""===t||""===n||""===r},a.dadosForm=a.dadosForm.bind(Object(qe.a)(a)),a.cadastrar=a.cadastrar.bind(Object(qe.a)(a)),a.state={modalOpen:!1,isLoading:!1,errors:[],inquilinos:[],form:{client_id:"",nome:"",email:"",numero:"",sexo:"M",ativo:1,inquilino:"LANLINK"}},a}return Object(c.a)(n,[{key:"dadosForm",value:function(e){var t=this.state.form;t[e.target.name]=e.target.value,this.setState({form:t})}},{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.errors,r=t.inquilinos;return o.a.createElement(xe.a,{onClose:function(){e.setState({modalOpen:!1}),e.props.reloadClients()},open:this.state.modalOpen,centered:!0,style:{height:"auto",position:"relative"},closeIcon:!0},o.a.createElement(ye.a,{icon:"user",content:this.props.editar?"Editar":"Criar"}),o.a.createElement(xe.a.Content,null,this.displayErros(a),o.a.createElement(Ee.a,null,o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"nome",id:"form-input-control-nome",control:Ce.a,value:this.state.form.nome,label:"Nome",placeholder:"Digite o nome...",onChange:this.dadosForm,required:!0})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"email",id:"form-input-control-email",control:Ce.a,value:this.state.form.email,label:"Email",placeholder:"nome.sobrenome@lanlink.com.br",type:"email",onChange:this.dadosForm,required:!0}),o.a.createElement(Ee.a.Field,{value:this.state.form.sexo,name:"sexo",label:"Sexo do cliente",required:!0,control:"select",onChange:this.dadosForm},o.a.createElement("option",{value:"M"},"Masculino"),o.a.createElement("option",{value:"F"},"Feminino")),o.a.createElement(Ee.a.Field,{value:this.state.form.inquilino,name:"inquilino",label:"Inquilino do usu\xe1rio",required:!0,control:"select",onChange:this.dadosForm},o.a.createElement("option",{key:String(Math.random()),value:""}),r.length?r.map((function(e,t){return o.a.createElement("option",{key:t.toString()+Math.random()+t,value:e.nome_tenant},e.nome_tenant)})):[])),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,null,o.a.createElement("label",null,"N\xfamero de contato"),o.a.createElement(mn.a,{name:"numero",id:"form-input-control-numero",onChange:this.dadosForm,placeholder:"Digite o n\xfamero de contato..",value:this.state.form.numero,mask:"+55\\ (99) 99999 9999",maskChar:" "})),o.a.createElement(Ee.a.Field,{value:this.state.form.ativo,name:"ativo",required:!0,label:"Status do cliente",control:"select",onChange:this.dadosForm},o.a.createElement("option",{value:"1"},"Ativo"),o.a.createElement("option",{value:"0"},"Inativo"))))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{onClick:function(){return e.reloadClients()},color:"red"},o.a.createElement(Z.a,{name:"remove"})," Cancelar"),this.props.editar?o.a.createElement(we.a,{disabled:this.disabledButton(),onClick:this.editar,loading:n,color:"green"},o.a.createElement(Z.a,{name:"checkmark"})," Editar"):o.a.createElement(we.a,{disabled:this.disabledButton(),onClick:this.cadastrar,loading:n,color:"green"},o.a.createElement(Z.a,{name:"checkmark"})," Criar")))}}]),n}(r.Component),fn=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel}}))(pn);function gn(){gn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var vn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsService=new ie,r.pendingPromises=[],r.appendPendingPromise=function(e){return r.pendingPromises=[].concat(Object(V.a)(r.pendingPromises),[e])},r.removePendingPromise=function(e){return r.pendingPromises=r.pendingPromises.filter((function(t){return t!==e}))},r.ModalForm=function(){var e=r.state.analista;return o.a.createElement(xe.a,{style:{position:"relative",height:"auto",width:"auto"},open:r.state.modalForm,onClose:function(){return r.toggleModalForm()},closeIcon:{style:{top:"1.0535rem",right:"1rem"},color:"black",name:"close"}},o.a.createElement(xe.a.Header,null,"Detalhes do Cliente"),o.a.createElement(xe.a.Content,null,o.a.createElement(Yt.a,{basic:"very",celled:!0,collapsing:!0},o.a.createElement(Yt.a.Header,null,o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.HeaderCell,null,"Dados"),o.a.createElement(Yt.a.HeaderCell,null,"Cliente: ",e.name))),o.a.createElement(Yt.a.Body,null,o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,o.a.createElement(ye.a,{as:"h4",image:!0},o.a.createElement(ye.a.Content,null,"Nome"))),o.a.createElement(Yt.a.Cell,null,e.name)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,o.a.createElement(ye.a,{as:"h4",image:!0},o.a.createElement(ye.a.Content,null,"N\xfamero"))),o.a.createElement(Yt.a.Cell,null,e.numero)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,o.a.createElement(ye.a,{as:"h4",image:!0},o.a.createElement(ye.a.Content,null,"Sexo"))),o.a.createElement(Yt.a.Cell,null,"M"===e.sexo?"Masculino":"Feminino")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,o.a.createElement(ye.a,{as:"h4",image:!0},o.a.createElement(ye.a.Content,null,"Email"))),o.a.createElement(Yt.a.Cell,null,e.email)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,o.a.createElement(ye.a,{as:"h4",image:!0},o.a.createElement(ye.a.Content,null,"Criado em"))),o.a.createElement(Yt.a.Cell,null,new Date(e.createdAt).toLocaleDateString())),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,o.a.createElement(ye.a,{as:"h4",image:!0},o.a.createElement(ye.a.Content,null,"Ativo"))),o.a.createElement(Yt.a.Cell,null,1===e.ativo?"Usu\xe1rio ativo":"Usu\xe1rio desativado")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,o.a.createElement(ye.a,{as:"h4",image:!0},o.a.createElement(ye.a.Content,null,"Inquilino"))),o.a.createElement(Yt.a.Cell,null,e.tenant.nome_tenant))))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{negative:!0,onClick:function(){return r.toggleModalForm()},color:"red"},"Cancelar"),o.a.createElement(we.a,{positive:!0,onClick:function(){return r.toggleModalForm()}},"Confirmar")))},r.handleAnalyst=function(e){r.setState({analista:e}),r.toggleModalForm()},r.toggleModalForm=function(){return r.setState({modalForm:!r.state.modalForm})},r.addListeners=Object(a.a)(gn().mark((function e(){var t,n;return gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.currentUser,r.setState({isLoading:!0,abrirClient:!1,abrirClientCriar:!1}),n=le(r.whatsService.clientes(t.token)),r.appendPendingPromise(n),n.promise.then((function(e){var t=e.data.slice(r.state.begin,r.state.end);r.setState({clientes:t,allClientes:e.data,isLoading:!1})})).then((function(){return r.removePendingPromise(n)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.login(null),r.removePendingPromise(n))}));case 5:case"end":return e.stop()}}),e)}))),r.removeListeners=function(){r.pendingPromises.map((function(e){return e.cancel()}))},r.handlerOnChange=function(e){""===e.target.value&&r.setState({clientes:r.state.allClientes}),r.setState(Object(ge.a)({},e.target.name,e.target.value))},r.handlePaginationChange=function(){var e=Object(a.a)(gn().mark((function e(t,n){var a;return gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.activePage,e.next=3,r.setState({activePage:a});case 3:return e.next=5,r.setState({begin:10*r.state.activePage-10});case 5:return e.next=7,r.setState({end:10*r.state.activePage});case 7:r.setState({clientes:r.state.allClientes.slice(r.state.begin,r.state.end)});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.pesquisaItem=function(){var e=[],t=r.state.pesquisa;""!==t?(r.state.allClientes.forEach((function(n){n.name.toLowerCase().indexOf(t.toLowerCase())>=0&&e.push(Object(j.a)({id:n.user_id},n))})),r.setState({clientes:e})):r.setState({clientes:r.state.allClientes})},r.state={allClientes:[],clientes:[],modalForm:!1,analista:null,pesquisa:"",isLoading:!1,activePage:1,begin:0,end:10,abrirClient:!1,abrirClientCriar:!1,cliente:null},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.clientes,a=t.modalForm,r=t.pesquisa,i=t.isLoading,l=t.activePage,s=t.abrirClient,c=t.cliente,u=t.abrirClientCriar;return o.a.createElement(ve.a,{columns:1,id:"listusers",stackable:!0},o.a.createElement(ve.a.Column,null,o.a.createElement(hn.a,{context:this.contextRef},o.a.createElement(K.a,{attached:"top",tabular:!0,style:{backgroundColor:"#fff",paddingTop:"1em",flexWrap:"wrap"},stackable:!0},o.a.createElement(K.a.Item,{as:"a",active:!0,color:"green",name:"clientes"}),o.a.createElement(K.a.Menu,{position:"right"},o.a.createElement(K.a.Item,null,u?o.a.createElement(fn,{criar:"Criar",reloadClients:this.addListeners}):"",o.a.createElement(we.a,{onClick:function(){e.setState({abrirClientCriar:!0})},inverted:!0,color:"red"},"Criar")),o.a.createElement(K.a.Item,null,o.a.createElement(Ce.a,{icon:{name:"search",link:!0,onClick:this.pesquisaItem},placeholder:"Procurar...",onChange:this.handlerOnChange,value:r,name:"pesquisa"}))))),s?o.a.createElement(fn,{cliente_id:c.cliente_id,nome:c.name,email:c.email,numero:c.numero,sexo:c.sexo,ativo:c.ativo,tenant:c.tenant.nome_tenant,reloadClients:this.addListeners,editar:"Editar"}):null,o.a.createElement(O.a,{loading:i,attached:"bottom"},o.a.createElement(Oe.a,{divided:!0,verticalAlign:"middle",size:"large",className:"segment-class"},n.length>0?n.map((function(t,n){return o.a.createElement(Oe.a.Item,{key:Math.random().toString()+n.toString(),style:{paddingRight:"5px"}},o.a.createElement(Oe.a.Content,{floated:"right"},o.a.createElement(we.a.Group,null,o.a.createElement(we.a,{onClick:function(){e.setState({abrirClient:!0,cliente:t})},inverted:!0,color:"red"},"Editar"),o.a.createElement(we.a,{onClick:function(){e.handleAnalyst(t)},inverted:!0,color:"green"},"Ver Detalhes"))),o.a.createElement($.a,{avatar:!0,src:"M"===t.sexo?"https://react.semantic-ui.com/images/avatar/small/christian.jpg":"https://react.semantic-ui.com/images/avatar/small/helen.jpg"}),o.a.createElement(Oe.a.Content,null,t.name))})):o.a.createElement(be.a,{negative:!0},o.a.createElement(be.a.Header,null,"Usu\xe1rio n\xe3o encontrado"),o.a.createElement("p",null,"Por favor, verifique se o que digitou est\xe1 correto!")))),o.a.createElement(O.a,{basic:!0,textAlign:"center"},o.a.createElement(Ht.a,{defaultActivePage:l,firstItem:{content:o.a.createElement(Z.a,{name:"angle double left"}),icon:!0},lastItem:{content:o.a.createElement(Z.a,{name:"angle double right"}),icon:!0},prevItem:null,nextItem:null,totalPages:Math.ceil(this.state.allClientes.length/10),ellipsisItem:null,onPageChange:this.handlePaginationChange})),a?this.ModalForm():null))}}]),n}(o.a.Component),yn=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel}}),{login:f})(vn),En=(n(786),n(880)),wn=n(200);n(807);function bn(){bn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Cn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsService=new ie,r.pendingPromises=[],r.appendPendingPromise=function(e){return r.pendingPromises=[].concat(Object(V.a)(r.pendingPromises),[e])},r.removePendingPromise=function(e){return r.pendingPromises=r.pendingPromises.filter((function(t){return t!==e}))},r.handlePaginationChange=function(e,t){var n=t.activePage;r.setState({activePage:n}),r.loadUsers(n)},r.componentDidMount=function(){r.addListeners()},r.addListeners=function(){var e=r.state.activePage;r.loadUsers(e)},r.componentWillUnmount=function(){r.removeListeners()},r.removeListeners=function(){r.pendingPromises.map((function(e){return e.cancel()}))},r.loadUsers=function(){var e=Object(a.a)(bn().mark((function e(t){var n,a,o,i,l;return bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.props,a=n.currentUser,o=n.inquilino,3===a.type&&r.setState({blockedViewUsers:!0}),i=[],r.state.users.length?r.setState({isLoading:!1}):(l=le(r.whatsService.users(a.token,t,0)),r.appendPendingPromise(l),l.promise.then((function(e){null!==e.data&&r.whatsService.getTenantRelation(a.token,o.nome_tenant).then((function(t){if(null!==t.data){for(var n=0;n<t.data.length;n++){var a=t.data[n];i.push(a.u_user_id)}var o=e.data.filter((function(e){return i.includes(e.user_id)})),l=e.data.filter((function(e){return!i.includes(e.user_id)}));r.setState({usersInTenant:o,usersNotTenant:l}),r.state.allUsersSelected.length||r.setState({users:l,allUsersSelected:o,totalUsers:e.data.length,allUsers:e.data,isLoading:!1})}else r.state.allUsersSelected.length||r.setState({users:e.data,totalUsers:e.data.length,allUsers:e.data,isLoading:!1})}))})).then((function(){return r.removePendingPromise(l)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(l))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.pesquisaItem=function(){var e=[],t=r.state.pesquisa;""!==t?(r.state.allUsers.forEach((function(n){n.name.toLowerCase().indexOf(t.toLowerCase())>=0&&e.push(Object(j.a)({id:n.user_id},n))})),r.setState({users:e})):r.setState({users:r.state.allUsers})},r.handlerOnChange=function(e){""===e.target.value&&r.setState({users:r.state.allUsers}),r.setState(Object(ge.a)({},e.target.name,e.target.value))},r.handleUser=function(e){r.setState({userActived:e,userExist:!0})},r.addUser=function(){var e=r.state,t=e.allUsersSelected,n=e.userActived,a=e.users,o=e.userExist,i=e.totalUsers,l=e.usersInTenant,s=e.usersNotTenant,c=t.findIndex((function(e){return e.email===n.email})),u=a.filter((function(e){return e.email!==n.email}));c<0&&o&&r.setState({users:u,allUsersSelected:[].concat(Object(V.a)(t),[n]),userActived:{},userExist:!1}),r.props.addUsers(u,[].concat(Object(V.a)(t),[n]),i,l,s)},r.handleUserRemoved=function(e){r.setState({userActivedRemoved:e,userExistRemoved:!0})},r.removeUser=function(){var e=r.state,t=e.allUsersSelected,n=e.users,a=e.userExistRemoved,o=e.userActivedRemoved,i=e.totalUsers,l=e.usersInTenant,s=e.usersNotTenant,c=t.filter((function(e){return e.email!==o.email}));t.findIndex((function(e){return e.email===o.email}))>=0&&a&&r.setState({users:[].concat(Object(V.a)(n),[o]),allUsersSelected:c,userExistRemoved:!1}),r.props.addUsers([].concat(Object(V.a)(n),[o]),c,i,l,s)},r.render=function(){r.props.currentUser;var e=r.state,t=e.userActivedRemoved,n=e.isLoading,a=e.users,i=e.userActived,l=e.allUsersSelected,s=e.blockedViewUsers;return o.a.createElement(ve.a,{columns:"equal"},!s&&o.a.createElement(ve.a.Column,{width:6},o.a.createElement("div",null,o.a.createElement(ye.a,{textAlign:"center",as:"h3",attached:"top"},"TODOS ANALISTAS"),o.a.createElement(O.a,{loading:n,size:"large",attached:!0},o.a.createElement(Oe.a,{divided:!0,style:{maxHeight:"270px",overflowY:"scroll"},selection:!0,verticalAlign:"middle"},a?a.map((function(e,t){return o.a.createElement(Oe.a.Item,{active:e.email===i.email,onClick:function(){return r.handleUser(e)},key:t.toString()+Math.random()+t},o.a.createElement(Oe.a.Content,{floated:"right"},o.a.createElement(Z.a,{name:"circle",color:1===e.active?"green":"red"})),o.a.createElement($.a,{avatar:!0,src:"M"===e.sexo?"https://react.semantic-ui.com/images/avatar/small/matt.jpg":"https://react.semantic-ui.com/images/avatar/small/helen.jpg"}),o.a.createElement(Oe.a.Content,null,o.a.createElement(Oe.a.Header,null,e.name)))})):[])))),!s&&o.a.createElement(ve.a.Column,{width:4,textAlign:"center"},o.a.createElement(be.a,{color:"red"},o.a.createElement(be.a.Header,null,"AVISO:"),o.a.createElement(be.a.List,null,o.a.createElement(be.a.Item,null,"Selecione os analistas e clique no bot\xe3o"),o.a.createElement(be.a.Item,null,"Antes de clicar em confirmar. Verifique se est\xe1 correto"))),o.a.createElement(we.a,{onClick:function(){return r.addUser()},color:"linkedin",content:"ADICIONAR",icon:"right arrow",labelPosition:"right"}),o.a.createElement(st.a,{horizontal:!0},"Ou"),o.a.createElement(we.a,{onClick:function(){return r.removeUser()},color:"red",content:"REMOVER",icon:"left arrow",labelPosition:"left"})),o.a.createElement(ve.a.Column,{width:s?18:6},o.a.createElement("div",null,o.a.createElement(ye.a,{textAlign:"center",as:"h3",attached:"top"},"ANALISTAS ATRIBUIDOS"),o.a.createElement(O.a,{attached:!0},o.a.createElement(Oe.a,{selection:!0,divided:!0,style:{maxHeight:"270px",overflowY:"scroll"},size:"large",verticalAlign:"middle"},l?l.map((function(e,n){return o.a.createElement(Oe.a.Item,{active:e.email===t.email,onClick:function(){return r.handleUserRemoved(e)},key:n.toString+Math.random()+n.toString()},o.a.createElement($.a,{avatar:!0,src:"M"===e.sexo?"https://react.semantic-ui.com/images/avatar/small/matt.jpg":"https://react.semantic-ui.com/images/avatar/small/helen.jpg"}),o.a.createElement(Oe.a.Content,null,o.a.createElement(Oe.a.Header,null,e.name)))})):[])))))},r.state={usersInTenant:[],blockedViewUsers:!1,usersNotTenant:[],allUsersSelected:r.props.allUsersSelected.length?r.props.allUsersSelected:[],userActivedRemoved:{},userActived:{},userExist:!1,userExistRemoved:!1,users:r.props.users.length?r.props.users:[],usersActivatedTenant:[],allUsers:[],isLoading:!0,pesquisa:"",totalUsers:0!==r.props.totalUsers?r.props.totalUsers:0,activePage:1,verifyExist:r.props.users.filter((function(e){return r.props.allUsersSelected.filter((function(t){return t.user_id===e.user_id}))})).length>0},r}return Object(c.a)(n)}(r.Component),Sn=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel}}),{logout:v})(Cn),xn=n(199),Ln="data:image/svg+xml;utf8,<svg width='398' height='81' viewBox='0 0 398 81' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M65.7222 30.375C65.7222 16.3899 51.0137 5.06252 32.8611 5.06252C14.7085 5.06252 0 16.3899 0 30.375C0 35.8014 2.2276 40.8006 6.00347 44.9297C3.88646 49.7074 0.394965 53.5043 0.347569 53.5518C0 53.9156 -0.0947917 54.4535 0.11059 54.9281C0.315972 55.4028 0.758333 55.6875 1.26389 55.6875C7.04618 55.6875 11.8332 53.7416 15.2773 51.7324C20.3644 54.2162 26.3837 55.6875 32.8611 55.6875C51.0137 55.6875 65.7222 44.3602 65.7222 30.375ZM84.9965 65.1797C88.7724 61.0664 91 56.0514 91 50.625C91 40.0412 82.5477 30.9762 70.5724 27.1951C70.7146 28.2393 70.7778 29.2992 70.7778 30.375C70.7778 47.1287 53.7627 60.75 32.8611 60.75C31.1549 60.75 29.496 60.6235 27.853 60.4494C32.8295 69.5461 44.5205 75.9375 58.1389 75.9375C64.6163 75.9375 70.6356 74.482 75.7227 71.9824C79.1668 73.9916 83.9538 75.9375 89.7361 75.9375C90.2417 75.9375 90.6998 75.6369 90.8894 75.1781C91.0948 74.7194 91 74.1815 90.6524 73.8018C90.605 73.7543 87.1135 69.9733 84.9965 65.1797Z' fill='%23C8D131'/><path d='M124 60.1811V22.8935C125.13 22.6751 126.587 22.5659 128.373 22.5659C130.159 22.5659 131.635 22.6751 132.801 22.8935V60.1811C131.635 60.3995 130.159 60.5087 128.373 60.5087C126.587 60.5087 125.13 60.3995 124 60.1811Z' fill='%23FAFAFA'/><path d='M163.871 42.1651V53.3569C163.871 55.759 164.308 57.5606 165.183 58.7616C163.798 59.9991 162.14 60.6178 160.209 60.6178C158.314 60.6178 157.02 60.1811 156.327 59.3076C155.635 58.4341 155.289 57.1056 155.289 55.3222V43.6937C155.289 42.4563 155.125 41.5464 154.797 40.964C154.469 40.3817 153.831 40.0905 152.884 40.0905C152.337 40.0905 151.717 40.2361 151.025 40.5273C150.333 40.8185 149.622 41.2916 148.893 41.9467V60.1811C148.274 60.2903 147.599 60.3631 146.871 60.3995C146.142 60.4723 145.395 60.5087 144.629 60.5087C143.864 60.5087 143.117 60.4723 142.388 60.3995C141.659 60.3631 140.985 60.2903 140.366 60.1811V32.9387L140.748 32.5566H143.973C146.196 32.5566 147.691 33.6485 148.456 35.8322C151.007 33.5757 153.54 32.4474 156.054 32.4474C158.605 32.4474 160.537 33.3391 161.849 35.1225C163.197 36.8695 163.871 39.217 163.871 42.1651Z' fill='%23FAFAFA'/><path d='M180.1 39.217V60.1811C179.48 60.2903 178.806 60.3631 178.077 60.3995C177.348 60.4723 176.601 60.5087 175.836 60.5087C175.07 60.5087 174.305 60.4723 173.54 60.3995C172.811 60.3631 172.137 60.2903 171.517 60.1811V42.1105C171.517 39.9996 170.661 38.9441 168.948 38.9441H168.128C167.909 38.2526 167.8 37.2881 167.8 36.0506C167.8 34.8495 167.909 33.8304 168.128 32.9933C169.076 32.9206 169.95 32.866 170.752 32.8296C171.554 32.7568 172.283 32.7204 172.939 32.7204H174.141C176 32.7204 177.457 33.3027 178.514 34.4674C179.571 35.632 180.1 37.2153 180.1 39.217ZM170.533 21.9654C171.59 21.383 172.957 21.0919 174.633 21.0919C176.346 21.0919 177.676 21.383 178.624 21.9654C179.061 22.9481 179.28 24.0036 179.28 25.1318C179.28 26.2601 179.061 27.3156 178.624 28.2983C177.567 28.8442 176.182 29.1172 174.469 29.1172C172.756 29.1172 171.444 28.8442 170.533 28.2983C170.096 27.3156 169.877 26.2601 169.877 25.1318C169.877 24.0036 170.096 22.9481 170.533 21.9654Z' fill='%23FAFAFA'/><path d='M200.153 45.004V44.2943C200.153 42.2561 199.935 40.7821 199.497 39.8722C199.06 38.9259 198.24 38.4527 197.037 38.4527C195.762 38.4527 194.869 39.0897 194.359 40.3635C193.849 41.601 193.593 43.6755 193.593 46.5872C193.593 48.0431 193.685 49.2623 193.867 50.245C194.085 51.2277 194.377 52.0284 194.741 52.6471C195.142 53.2295 195.634 53.6662 196.217 53.9574C196.8 54.2122 197.493 54.3395 198.295 54.3395C199.133 54.3395 200.062 54.1576 201.082 53.7936C202.103 53.4296 203.196 52.8473 204.362 52.0466C204.69 52.2286 205.018 52.5016 205.346 52.8655C205.711 53.1931 206.039 53.5752 206.33 54.012C206.622 54.4487 206.877 54.9219 207.096 55.4314C207.314 55.9046 207.478 56.3595 207.588 56.7963C206.385 58.0701 204.818 59.0892 202.886 59.8535C200.955 60.6178 198.987 61 196.983 61C193.083 61 190.095 59.7261 188.018 57.1784C185.941 54.6307 184.902 51.0093 184.902 46.3142C184.902 43.9121 185.23 41.8194 185.886 40.036C186.578 38.2526 187.471 36.7785 188.564 35.6138C189.694 34.4492 190.97 33.5757 192.391 32.9933C193.849 32.411 195.361 32.1198 196.928 32.1198C198.531 32.1198 199.989 32.3382 201.301 32.775C202.65 33.2117 203.797 33.8304 204.745 34.6312C205.729 35.4319 206.476 36.3964 206.986 37.5246C207.533 38.6165 207.806 39.8358 207.806 41.1824C207.806 42.7111 207.351 43.7847 206.44 44.4035C205.565 45.0222 204.472 45.3316 203.16 45.3316C202.066 45.3316 201.064 45.2224 200.153 45.004Z' fill='%23FAFAFA'/><path d='M222.859 39.217V60.1811C222.24 60.2903 221.566 60.3631 220.837 60.3995C220.108 60.4723 219.361 60.5087 218.596 60.5087C217.83 60.5087 217.065 60.4723 216.3 60.3995C215.571 60.3631 214.897 60.2903 214.277 60.1811V42.1105C214.277 39.9996 213.421 38.9441 211.708 38.9441H210.888C210.669 38.2526 210.56 37.2881 210.56 36.0506C210.56 34.8495 210.669 33.8304 210.888 32.9933C211.835 32.9206 212.71 32.866 213.512 32.8296C214.314 32.7568 215.042 32.7204 215.698 32.7204H216.901C218.76 32.7204 220.217 33.3027 221.274 34.4674C222.331 35.632 222.859 37.2153 222.859 39.217ZM213.293 21.9654C214.35 21.383 215.717 21.0919 217.393 21.0919C219.106 21.0919 220.436 21.383 221.383 21.9654C221.821 22.9481 222.039 24.0036 222.039 25.1318C222.039 26.2601 221.821 27.3156 221.383 28.2983C220.327 28.8442 218.942 29.1172 217.229 29.1172C215.516 29.1172 214.204 28.8442 213.293 28.2983C212.856 27.3156 212.637 26.2601 212.637 25.1318C212.637 24.0036 212.856 22.9481 213.293 21.9654Z' fill='%23FAFAFA'/><path d='M252.479 56.2503C252.297 57.0146 251.951 57.8336 251.441 58.7071C250.93 59.5806 250.402 60.2175 249.855 60.6178C247.304 60.545 245.336 59.5806 243.952 57.7244C241.583 59.9081 239.014 61 236.244 61C234.823 61 233.584 60.7634 232.527 60.2903C231.47 59.8535 230.577 59.253 229.848 58.4887C229.119 57.7244 228.573 56.8509 228.208 55.8682C227.844 54.8491 227.662 53.7936 227.662 52.7017C227.662 51.1367 227.935 49.7719 228.482 48.6072C229.065 47.4061 229.848 46.4234 230.832 45.6591C231.816 44.8584 232.964 44.2579 234.276 43.8575C235.588 43.4572 236.991 43.257 238.485 43.257C239.323 43.257 240.052 43.2752 240.672 43.3116C241.328 43.3116 241.893 43.3298 242.366 43.3662V42.3289C242.366 40.036 241.182 38.8895 238.813 38.8895C237.283 38.8895 234.604 39.4718 230.778 40.6365C229.684 39.3626 228.992 37.3791 228.7 34.6858C229.575 34.3582 230.541 34.0488 231.597 33.7577C232.691 33.4665 233.802 33.2117 234.932 32.9933C236.062 32.775 237.173 32.6112 238.267 32.502C239.36 32.3564 240.344 32.2836 241.218 32.2836C242.494 32.2836 243.715 32.4656 244.881 32.8296C246.084 33.1935 247.122 33.7577 247.997 34.522C248.908 35.2499 249.618 36.2144 250.129 37.4154C250.675 38.5801 250.949 39.9814 250.949 41.6192V52.7017C250.949 54.3759 251.459 55.5588 252.479 56.2503ZM235.971 52.1558C235.971 53.8664 236.955 54.7217 238.922 54.7217C239.943 54.7217 241.091 54.194 242.366 53.1385V48.771C241.637 48.7346 241.018 48.7164 240.508 48.7164C240.034 48.68 239.67 48.6618 239.414 48.6618C237.119 48.6618 235.971 49.8265 235.971 52.1558Z' fill='%23FAFAFA'/><path d='M255.688 36.8695C255.87 36.1416 256.216 35.3409 256.726 34.4674C257.237 33.5575 257.747 32.9024 258.257 32.502C261.61 32.7568 263.942 34.4128 265.254 37.47C266.639 34.1944 268.916 32.5566 272.087 32.5566C273.035 32.5566 274.237 32.7022 275.695 32.9933C275.695 34.1216 275.494 35.4683 275.094 37.0333C274.729 38.5619 274.219 39.8722 273.563 40.964C272.943 40.7457 272.014 40.5637 270.775 40.4181C268.953 40.4181 267.459 41.3462 266.293 43.2024V60.1811C265.09 60.3995 263.669 60.5087 262.029 60.5087C260.425 60.5087 259.004 60.3995 257.765 60.1811V42.5473C257.765 39.8176 257.073 37.925 255.688 36.8695Z' fill='%23FAFAFA'/><path d='M311.455 37.743V37.0879C311.455 31.7013 309.451 29.008 305.442 29.008C303.147 29.008 301.488 30.0635 300.468 32.1744C299.448 34.249 298.937 37.3245 298.937 41.4008C298.937 45.4407 299.575 48.4434 300.851 50.4088C302.126 52.3742 303.985 53.3569 306.426 53.3569C307.702 53.3569 309.105 53.0657 310.636 52.4834C312.203 51.8646 313.897 50.9001 315.719 49.5899C316.63 50.2086 317.469 51.0639 318.234 52.1558C319.036 53.2113 319.528 54.2304 319.71 55.213C318.872 56.0138 317.888 56.7781 316.758 57.506C315.665 58.1975 314.462 58.798 313.15 59.3076C311.875 59.8171 310.526 60.2175 309.105 60.5087C307.72 60.8362 306.317 61 304.896 61C302.09 61 299.721 60.4723 297.789 59.4168C295.858 58.3249 294.291 56.8873 293.088 55.1039C291.922 53.3205 291.066 51.2641 290.519 48.9348C290.009 46.6054 289.754 44.1851 289.754 41.6738C289.754 38.3981 290.155 35.5411 290.956 33.1025C291.795 30.6276 292.906 28.5712 294.291 26.9334C295.712 25.2956 297.37 24.0763 299.265 23.2756C301.16 22.4385 303.183 22.02 305.333 22.02C307.52 22.02 309.506 22.3111 311.291 22.8935C313.077 23.4758 314.59 24.2765 315.829 25.2956C317.104 26.3147 318.07 27.5158 318.726 28.8988C319.418 30.2818 319.764 31.7741 319.764 33.3755C319.764 36.6147 318.106 38.2344 314.79 38.2344C313.806 38.2344 312.695 38.0706 311.455 37.743Z' fill='%23FAFAFA'/><path d='M347.664 42.1651V53.3569C347.664 55.7954 348.119 57.597 349.03 58.7616C347.645 59.9991 345.969 60.6178 344.001 60.6178C342.106 60.6178 340.812 60.1811 340.12 59.3076C339.428 58.4341 339.081 57.1056 339.081 55.3222V43.6937C339.081 42.4563 338.917 41.5464 338.589 40.964C338.261 40.3817 337.624 40.0905 336.676 40.0905C336.13 40.0905 335.51 40.2361 334.818 40.5273C334.125 40.8185 333.415 41.2916 332.686 41.9467V60.1811C331.483 60.3995 330.098 60.5087 328.531 60.5087C326.964 60.5087 325.579 60.3995 324.377 60.1811V20.3822L324.759 20H328.039C329.788 20 330.991 20.3822 331.647 21.1465C332.339 21.9108 332.686 23.2392 332.686 25.1318V35.4501C335.127 33.4483 337.569 32.4474 340.011 32.4474C342.452 32.4474 344.329 33.3391 345.641 35.1225C346.989 36.8695 347.664 39.217 347.664 42.1651Z' fill='%23FAFAFA'/><path d='M377.235 56.2503C377.053 57.0146 376.707 57.8336 376.197 58.7071C375.686 59.5806 375.158 60.2175 374.611 60.6178C372.06 60.545 370.092 59.5806 368.708 57.7244C366.339 59.9081 363.77 61 361 61C359.579 61 358.34 60.7634 357.283 60.2903C356.226 59.8535 355.333 59.253 354.604 58.4887C353.875 57.7244 353.329 56.8509 352.964 55.8682C352.6 54.8491 352.418 53.7936 352.418 52.7017C352.418 51.1367 352.691 49.7719 353.238 48.6072C353.821 47.4061 354.604 46.4234 355.588 45.6591C356.572 44.8584 357.72 44.2579 359.032 43.8575C360.344 43.4572 361.747 43.257 363.241 43.257C364.079 43.257 364.808 43.2752 365.428 43.3116C366.084 43.3116 366.649 43.3298 367.122 43.3662V42.3289C367.122 40.036 365.938 38.8895 363.569 38.8895C362.039 38.8895 359.36 39.4718 355.534 40.6365C354.44 39.3626 353.748 37.3791 353.456 34.6858C354.331 34.3582 355.297 34.0488 356.354 33.7577C357.447 33.4665 358.558 33.2117 359.688 32.9933C360.818 32.775 361.929 32.6112 363.023 32.502C364.116 32.3564 365.1 32.2836 365.974 32.2836C367.25 32.2836 368.471 32.4656 369.637 32.8296C370.84 33.1935 371.878 33.7577 372.753 34.522C373.664 35.2499 374.375 36.2144 374.885 37.4154C375.431 38.5801 375.705 39.9814 375.705 41.6192V52.7017C375.705 54.3759 376.215 55.5588 377.235 56.2503ZM360.727 52.1558C360.727 53.8664 361.711 54.7217 363.679 54.7217C364.699 54.7217 365.847 54.194 367.122 53.1385V48.771C366.394 48.7346 365.774 48.7164 365.264 48.7164C364.79 48.68 364.426 48.6618 364.171 48.6618C361.875 48.6618 360.727 49.8265 360.727 52.1558Z' fill='%23FAFAFA'/><path d='M397.672 32.8842C397.891 33.9032 398 34.9223 398 35.9414C398 36.9605 397.891 37.9614 397.672 38.9441L391.167 38.8349V51.3915C391.167 53.1021 391.969 53.9574 393.572 53.9574H396.633C397.107 55.2676 397.344 56.4687 397.344 57.5606C397.344 58.6525 397.271 59.435 397.125 59.9081C394.429 60.2721 391.95 60.4541 389.691 60.4541C385.099 60.4541 382.803 57.9245 382.803 52.8655V38.8895L378.54 38.9441C378.284 38.0342 378.157 37.0515 378.157 35.996C378.157 34.9041 378.284 33.8668 378.54 32.8842L382.803 32.9933V29.8269C382.803 27.9707 383.15 26.6605 383.842 25.8961C384.571 25.0954 385.773 24.6951 387.45 24.6951H390.784L391.167 25.0772V32.9933L397.672 32.8842Z' fill='%23FAFAFA'/></svg>",kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"%23C8D131",t=Ln.replace(/%23C8D131/g,e);return t},On="data:image/svg+xml;utf8,<svg width='91' height='81' viewBox='0 0 91 81' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M65.7222 30.375C65.7222 16.3899 51.0137 5.06252 32.8611 5.06252C14.7085 5.06252 0 16.3899 0 30.375C0 35.8014 2.2276 40.8006 6.00347 44.9297C3.88646 49.7074 0.394965 53.5043 0.347569 53.5518C0 53.9156 -0.0947917 54.4535 0.11059 54.9281C0.315972 55.4028 0.758333 55.6875 1.26389 55.6875C7.04618 55.6875 11.8332 53.7416 15.2773 51.7324C20.3644 54.2162 26.3837 55.6875 32.8611 55.6875C51.0137 55.6875 65.7222 44.3602 65.7222 30.375ZM84.9965 65.1797C88.7724 61.0664 91 56.0514 91 50.625C91 40.0412 82.5477 30.9762 70.5724 27.1951C70.7146 28.2393 70.7778 29.2992 70.7778 30.375C70.7778 47.1287 53.7627 60.75 32.8611 60.75C31.1549 60.75 29.496 60.6235 27.853 60.4494C32.8295 69.5461 44.5205 75.9375 58.1389 75.9375C64.6163 75.9375 70.6356 74.482 75.7227 71.9824C79.1668 73.9916 83.9538 75.9375 89.7361 75.9375C90.2417 75.9375 90.6998 75.6369 90.8894 75.1781C91.0948 74.7194 91 74.1815 90.6524 73.8018C90.605 73.7543 87.1135 69.9733 84.9965 65.1797Z' fill='%23C8D131'/></svg>",An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"%23C8D131",t=On.replace(/%23C8D131/g,e);return t},jn=(n(815),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.props.stylesInquilino&&a.props.open&&a.setState({modalOpen:a.props.open,primaryColor:a.props.stylesInquilino.primaryColor,secondaryColor:a.props.stylesInquilino.secondaryColor,conversaUser:a.props.stylesInquilino.conversaUser,conversaAnalyst:a.props.stylesInquilino.conversaAnalyst,logoSize:a.props.stylesInquilino.logoSize,logo:a.props.stylesInquilino.logo,iconChat:a.props.stylesInquilino.iconChat})},a.handleChangePrimary=function(e){a.setState({primaryColor:e.hex})},a.handleChangeSecondary=function(e){a.setState({secondaryColor:e.hex})},a.handleChangeConversaUser=function(e){a.setState({conversaUser:e.hex})},a.handleChangeConversaAnalyst=function(e){a.setState({conversaAnalyst:e.hex})},a.handleChange=function(e){a.setState(Object(ge.a)({},e.target.name,e.target.value))},a.confirmarNewStyle=function(){a.setState({modalOpen:!1}),a.props.onChangeStyles(a.state)},a.closeModal=function(){a.setState({modalOpen:!1}),a.props.onChangeStyles(null)},a.validButton=function(){var e=a.state,t=e.logo,n=e.logoSize,r=e.conversaUser,o=e.conversaAnalyst,i=e.iconChat;return""===t||""===n||""===r||""===o||""===i},a.render=function(){var e=a.state,t=e.primaryColor,n=e.secondaryColor,r=e.logo,i=e.logoSize,l=e.conversaUser,s=e.conversaAnalyst,c=e.modalOpen;return o.a.createElement(xe.a,{open:c,onClose:function(){return a.closeModal()},size:"fullscreen",closeIcon:!0,style:{marginTop:"20px",marginLeft:"3vw"}},o.a.createElement(ye.a,{icon:"wechat",content:"Defina CORES para o CHAT"}),o.a.createElement(xe.a.Content,{id:"stylesChat"},c&&o.a.createElement(ve.a,null,o.a.createElement(ve.a.Row,{columns:4},o.a.createElement(ve.a.Column,null,o.a.createElement(O.a.Group,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"PRIM\xc1RIA"),o.a.createElement(xn.a,{color:a.state.primaryColor,onChangeComplete:a.handleChangePrimary})),o.a.createElement(O.a.Group,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"LOGO"),o.a.createElement("input",{type:"text",name:"logo",value:a.state.logo,onChange:a.handleChange}))))),o.a.createElement(ve.a.Column,null,o.a.createElement(O.a.Group,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"SECUND\xc1RIA"),o.a.createElement(xn.a,{color:a.state.secondaryColor,onChangeComplete:a.handleChangeSecondary})),o.a.createElement(O.a.Group,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"LOGO TAMANHO"),o.a.createElement("input",{name:"logoSize",type:"text",value:a.state.logoSize,onChange:a.handleChange}))))),o.a.createElement(ve.a.Column,null,o.a.createElement(O.a.Group,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"BAL\xc3O USU\xc1RIO"),o.a.createElement(xn.a,{color:a.state.conversaUser,onChangeComplete:a.handleChangeConversaUser})))),o.a.createElement(ve.a.Column,null,o.a.createElement(O.a.Group,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"BAL\xc3O ANALISTA"),o.a.createElement(xn.a,{color:a.state.conversaAnalyst,onChangeComplete:a.handleChangeConversaAnalyst})),o.a.createElement(O.a.Group,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"LOGO ICONE DO CHAT"),o.a.createElement("input",{name:"iconChat",type:"text",value:a.state.iconChat,onChange:a.handleChange})))))),o.a.createElement(ve.a.Row,{columns:3},o.a.createElement(ve.a.Column,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"LOGO"),o.a.createElement("div",{className:"chatView"},o.a.createElement("div",{className:"header",style:{backgroundColor:t}},o.a.createElement("div",{className:"util"},o.a.createElement("div",{className:"close"}," ",o.a.createElement("img",{alt:""})," "),o.a.createElement("div",{className:"minize"}," ",o.a.createElement("img",{alt:""})," "))),o.a.createElement("div",{className:"logo"},o.a.createElement("img",{style:{content:'url("'.concat(r,'")'),maxWidth:"".concat(i,"px"),maxHeight:"100px"},alt:""})),o.a.createElement("div",{className:"form"},o.a.createElement("input",{type:"text",className:"inputField",autoComplete:"false",placeholder:"Nome",style:{borderColor:"".concat(t)}}),o.a.createElement("input",{type:"text",className:"inputField",autoComplete:"false",placeholder:"Email",style:{borderColor:"".concat(t)}}),o.a.createElement("input",{type:"text",className:"inputField",autoComplete:"false",placeholder:"Telefone",style:{borderColor:"".concat(t)}}),o.a.createElement("input",{type:"button",value:"Login",className:"submit",style:{backgroundColor:"".concat(n)}}))))),o.a.createElement(ve.a.Column,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"BAL\xc3O MENSAGENS"),o.a.createElement("div",{className:"chatView"},o.a.createElement("div",{className:"header",style:{backgroundColor:t,flexDirection:"row",justifyContent:"space-between",display:"inline-flex"}},o.a.createElement("div",{style:{content:'url("'.concat(a.state.iconChat,'")'),width:"30px",height:"30px",marginLeft:"5px",marginTop:"5px"}}),o.a.createElement("div",{style:{flexDirection:"row",display:"flex"}},o.a.createElement("div",{className:"minize",style:{paddingTop:"10px",marginRight:"0px"}}," ",o.a.createElement("img",{alt:""})," "),o.a.createElement("div",{className:"close",style:{paddingTop:"10px"}}," ",o.a.createElement("img",{alt:""})," "))),o.a.createElement("div",{className:"chatInfo"},o.a.createElement("span",null,"Analista: Ian Oliveira de Medeiros"),o.a.createElement("div",{className:"clienteData"},o.a.createElement("span",{style:{marginRight:"10px"}},"Cliente: IAN"),o.a.createElement("span",null,"Telefone: 111111111111"))),o.a.createElement("div",{className:"chatMsg",style:{backgroundColor:l}},o.a.createElement("div",{className:"listaMensagem"},o.a.createElement("div",{className:"texto"}," ",o.a.createElement("div",null,"Est\xe1 \xe9 uma mensagem do Usu\xe1rio")))),o.a.createElement("div",{style:{content:'url("'.concat(a.state.iconChat,'")'),width:"30px",height:"30px",marginLeft:"5px",marginBottom:"5px"}}),o.a.createElement("div",{className:"chatMsgAnalyst",style:{backgroundColor:s}},o.a.createElement("div",{className:"listaMensagem"},o.a.createElement("div",{className:"texto"}," ",o.a.createElement("div",null,"Est\xe1 \xe9 uma mensagem do Analista"))))))),o.a.createElement(ve.a.Column,null,o.a.createElement(O.a,{padded:!0},o.a.createElement(Q.a,{attached:"top"},"BOT\xc3O INICIAL"),o.a.createElement("div",{className:"chatView"},o.a.createElement("div",{className:"posicaoBotao"},o.a.createElement("p",null,"Bot\xe3o Inicial"),o.a.createElement("div",{className:"backgroundButton",style:{backgroundColor:"".concat(t)}},o.a.createElement("div",{className:"botaoInicial",style:{background:'url("'.concat(An(n.replace("#","%23")),'") center/45px 35px no-repeat')}}))),o.a.createElement("div",{className:"posicaoBotao"},o.a.createElement("p",null,"Bot\xe3o Hover"),o.a.createElement("div",{className:"backgroundButtonFinal",style:{backgroundColor:"".concat(t)}},o.a.createElement("div",{className:"botaoFinal",style:{background:'url("'.concat(kn(n.replace("#","%23")),'") center/80% 45px no-repeat')}}))),o.a.createElement("div",{className:"posicaoBotao"},o.a.createElement("p",null,"Tela de Agradecimento"),o.a.createElement("div",{className:"contentAgradecimento"},o.a.createElement("img",{alt:"agradecimento",style:{content:'url("'.concat(r,'")'),maxWidth:"".concat(i,"px"),maxHeight:"100px"}}),o.a.createElement("span",{style:{fontSize:"18px",marginLeft:"7%",color:"#203F66"}},"Obrigado pela sua opini\xe3o!"))))))))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{color:"red",onClick:function(){return a.closeModal()}},o.a.createElement(Z.a,{name:"remove"})," Cancelar"),o.a.createElement(we.a,{disabled:a.validButton(),color:"green",onClick:function(){return a.confirmarNewStyle()}},o.a.createElement(Z.a,{name:"checkmark"})," Salvar")))},a.state={modalOpen:!1,primaryColor:"#274e7f",secondaryColor:"#C8D131",conversaUser:"#205ea1",conversaAnalyst:"#7D90AB",logoSize:"80",logo:"data:image/svg+xml;utf8,<svg width='168' height='224' viewBox='0 0 168 224' fill='none' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M83.4663 0C47.0974 0 17.3562 29.0913 17.3562 64.6492V129.298H83.4663C119.835 129.298 149.576 100.207 149.576 64.6492C149.576 29.0913 119.819 0 83.4663 0Z' fill='%231F5EA0'/><path d='M27.6491 207.62C23.9838 207.62 20.5695 207.771 17.356 208.057V168.148V164.487V160.338C17.356 151.335 13.9752 146.851 7.16333 146.851H0.76989L0 147.758V164.487V168.148V212.558C0 215.682 0.903784 218.168 2.71135 219.999C4.53566 221.83 7.0127 222.753 10.1425 222.753H34.7957C37.9924 222.753 40.5699 221.998 42.5448 220.503C44.5197 219.008 45.6579 217.211 46.0261 215.128C46.3943 213.045 46.5784 210.559 46.5784 207.637H27.6491V207.62Z' fill='%23264D7E'/><path d='M81.6921 158.003V164.487H64.3528V147.59L65.1227 146.834H71.5161C78.3112 146.834 81.6921 150.546 81.6921 158.003Z' fill='%23C7D030'/><path d='M64.2356 222.585V168.619C66.4951 168.3 69.4073 168.148 72.9722 168.148C76.5371 168.148 79.4828 168.3 81.8092 168.619V222.585C79.4828 222.905 76.5371 223.056 72.9722 223.056C69.4073 223.056 66.4951 222.905 64.2356 222.585Z' fill='%23264D7E'/><path d='M124.823 206.746C122.864 206.746 121.408 206.713 120.454 206.629L115.768 222.518C114.027 222.955 111.584 223.173 108.454 223.173C104.956 223.173 102.128 222.77 99.9351 221.964L99.3828 221.091L123.4 147.606C126.245 147.17 129.542 146.951 133.325 146.951C137.61 146.951 141.041 147.203 143.585 147.724L167.167 221.326C164.623 222.72 161.744 223.408 158.547 223.408C154.765 223.408 152.104 222.753 150.581 221.443C149.057 220.133 147.735 217.614 146.647 213.885L144.572 206.662C143.618 206.73 142.212 206.78 140.321 206.78H124.823V206.746ZM124.488 192.94L128.856 192.822H136.823C137.191 192.822 137.827 192.839 138.731 192.873C139.635 192.906 140.321 192.923 140.756 192.923L138.898 186.137C137.158 180.007 135.149 172.482 132.89 163.58H132.237C131.651 166.721 129.911 173.691 126.998 184.491L124.488 192.94Z' fill='%23264D7E'/><path d='M150.045 11.1192L145.526 6.58417L144.137 6.8865L81.5749 69.6545V45.2662C81.5749 38.6988 78.1773 35.4067 71.3822 35.4067H64.9888L64.2356 36.0786V93.371C64.2356 96.1424 64.4699 98.6283 66.1938 100.325C67.2482 101.366 68.0348 101.87 69.2399 102.105C71.332 102.743 73.6919 102.256 75.3488 100.61L93.6755 82.2014L93.6588 82.1846L144.89 30.7709C153.141 22.4903 154.865 15.9397 150.045 11.1192Z' fill='%23C7D030'/></svg>",iconChat:"data:image/svg+xml;utf8,<svg width='25' height='25' viewBox='0 0 25 25' fill='none' xmlns='http://www.w3.org/2000/svg'><g clip-path='url(%23clip0)'><path fill-rule='evenodd' clip-rule='evenodd' d='M12.2093 0.0484619C5.5264 0.0484619 0.0614014 5.65001 0.0614014 12.4967V24.945H12.2093C18.8921 24.945 24.3571 19.3434 24.3571 12.4967C24.3571 5.65001 18.8891 0.0484619 12.2093 0.0484619Z' fill='%231F5EA0'/><path d='M24.4434 2.18951L23.613 1.31628L23.3578 1.3745L11.8619 13.4605V8.76454C11.8619 7.49998 11.2376 6.86609 9.98898 6.86609H8.81417L8.67578 6.99546V18.0272C8.67578 18.5608 8.71884 19.0394 9.0356 19.3661C9.22936 19.5666 9.3739 19.6636 9.59533 19.7089C9.97976 19.8318 10.4134 19.738 10.7179 19.4211L14.0854 15.8764L14.0824 15.8732L23.4962 5.97346C25.0124 4.37903 25.3291 3.11771 24.4434 2.18951Z' fill='%23C7D030'/></g><defs><clipPath id='clip0'><rect width='25' height='25' fill='white'/></clipPath></defs></svg>"},a}return Object(c.a)(n)}(o.a.Component));function In(){In=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Pn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){r.addListeners()},r.addListeners=Object(a.a)(In().mark((function e(){var t,n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!(n=r.props.respostas).length){e.next=6;break}return e.next=5,n.forEach((function(e){t.push(JSON.parse(e))}));case 5:r.setState({listRespostas:t});case 6:case"end":return e.stop()}}),e)}))),r.componentWillUnmount=function(){r.removeListeners()},r.removeListeners=function(){},r.dadosForm=function(e){var t=r.state.form;t[e.target.name]=e.target.value,r.setState({form:t})},r.addResposta=function(){},r.removerResposta=function(e){var t=r.state.listRespostas.filter((function(t){return t.uid!==e.uid}));r.setState({listRespostas:t}),r.props.changeRespostas(t)},r.uid=function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)},r.cadastrar=function(){var e=r.state,t=e.listRespostas,n=e.objectEdit,a=e.itemEdit,o=r.state.form,i=o.titulo,l=o.resposta;if(a){if(a){var s=t.filter((function(e){return e.uid!==n.uid}));s.push({titulo:i,resposta:l,uid:r.uid()}),r.setState({itemEdit:!1,objectEdit:{},listRespostas:s,form:{resposta:"",titulo:""}}),r.props.changeRespostas(s)}}else t.push({titulo:i,resposta:l,uid:r.uid()}),r.setState({listRespostas:t,form:{resposta:"",titulo:""}}),r.props.changeRespostas(t)},r.update=function(e){r.setState({itemEdit:!0,objectEdit:e,form:{resposta:e.resposta,titulo:e.titulo}})},r.clean=function(){r.setState({itemEdit:!1,objectEdit:{},form:{resposta:"",titulo:""}})},r.render=function(){var e=r.state,t=e.listRespostas,n=e.itemEdit,a=r.state.form,i=a.resposta,l=a.titulo;return o.a.createElement(O.a,{basic:!0},o.a.createElement(ve.a,{columns:2,relaxed:"very"},o.a.createElement(ve.a.Column,{textAlign:"left"},o.a.createElement(Ee.a,null,o.a.createElement(Ee.a.Input,{value:l,name:"titulo",icon:"edit",iconPosition:"left",label:"Titulo",placeholder:"Titulo..",onChange:r.dadosForm}),o.a.createElement(Ee.a.TextArea,{rows:8,value:i,name:"resposta",label:"Resposta",placeholder:"Digite aqui a resposta personalizada...",onChange:r.dadosForm}),o.a.createElement(we.a.Group,{floated:"right"},o.a.createElement(we.a,{onClick:function(){return r.clean()}},"Limpar"),o.a.createElement(we.a.Or,null),o.a.createElement(we.a,{positive:!0,onClick:function(){return r.cadastrar()}},n?"Editar":"Cadastrar")))),o.a.createElement(ve.a.Column,null,o.a.createElement(O.a,{style:{overflowY:"scroll",minHeight:"50vh",maxHeight:"50vh"}},o.a.createElement(be.a,{color:"green",floating:!0,content:"Respostas Cadastradas"}),o.a.createElement(ot.a.Group,{vertical:!0,fluid:!0},t.length>0&&t.map((function(e,t){return o.a.createElement(ot.a,{key:Math.random()+t.toString(),onClick:function(){return r.update(e)}},o.a.createElement(lt.a,{size:"mini",content:"Remover resposta",trigger:o.a.createElement(Z.a,{color:"red",name:"remove circle"})}),o.a.createElement(ot.a.Content,null,o.a.createElement(ot.a.Title,null,e.titulo),o.a.createElement(ot.a.Description,null,"Clique se deseja editar")))})))))),o.a.createElement(st.a,{vertical:!0}))},r.state={listRespostas:[],objectEdit:{},itemEdit:!1,form:{resposta:"",titulo:""}},r.dadosForm=r.dadosForm.bind(Object(qe.a)(r)),r}return Object(c.a)(n)}(r.Component),Nn=Object(p.b)((function(e){return{currentUser:e.user.currentUser,currentChannel:e.channel.currentChannel}}))(Pn);function _n(){_n=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Tn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){r.addListeners()},r.addListeners=Object(a.a)(_n().mark((function e(){var t;return _n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=r.props.inquilino)&&r.setState({inquilino:t});case 2:case"end":return e.stop()}}),e)}))),r.render=function(){var e=r.state.inquilino;return o.a.createElement(O.a,{basic:!0},o.a.createElement(ve.a,{columns:2,relaxed:"very"},o.a.createElement(ve.a.Column,{textAlign:"left"},o.a.createElement(Ee.a,null,o.a.createElement(Q.a,null,"URI"),o.a.createElement("input",{value:null===e||void 0===e?void 0:e.uriLDAP,style:{backgroundColor:"white",color:"#CCC",width:"100%",padding:"10px 20px",border:"1px solid #CCC",borderRadius:"5px",marginBottom:"15px"},name:"uriLDAP",disabled:!0}),o.a.createElement(Q.a,null,"Search Base"),o.a.createElement("input",{value:null===e||void 0===e?void 0:e.searchBaseLDAP,style:{backgroundColor:"white",color:"#CCC",width:"100%",padding:"10px 20px",border:"1px solid #CCC",borderRadius:"5px"},name:"searchBaseLDAP",disabled:!0}))),o.a.createElement(ve.a.Column,{textAlign:"left"},o.a.createElement(o.a.Fragment,null,o.a.createElement(Q.a,null,"Atributo de autentica\xe7\xe3o"),o.a.createElement("input",{value:null===e||void 0===e?void 0:e.attributeAuthLDAP,style:{backgroundColor:"white",color:"#CCC",width:"100%",padding:"10px 20px",border:"1px solid #CCC",borderRadius:"5px"},name:"attributeAuthLDAP",label:"Atributo de autentica\xe7\xe3o",disabled:!0})))),o.a.createElement(st.a,{vertical:!0}))},r.state={inquilino:null},r}return Object(c.a)(n)}(r.Component),Fn=Object(p.b)((function(e){return{}}))(Tn);function Un(){Un=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Mn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsService=new ie,r.pendingPromises=[],r.appendPendingPromise=function(e){return r.pendingPromises=[].concat(Object(V.a)(r.pendingPromises),[e])},r.removePendingPromise=function(e){return r.pendingPromises=r.pendingPromises.filter((function(t){return t!==e}))},r.componentDidMount=function(){r.addListeners()},r.addListeners=function(){var e=r.state.activePage;r.loadUsers(e),r.loadQueuesAttendence(e)},r.componentWillUnmount=function(){r.removeListeners()},r.removeListeners=function(){r.pendingPromises.map((function(e){return e.cancel()}))},r.loadUsers=function(){var e=Object(a.a)(Un().mark((function e(t){var n,a,o,i,l;return Un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.props,a=n.currentUser,o=n.inquilino,i=[],r.state.users.length?r.setState({isLoading:!1}):(l=le(r.whatsService.users(a.token,t,0)),r.appendPendingPromise(l),l.promise.then((function(e){null!==e.data&&r.whatsService.getTenantRelation(a.token,o.nome_tenant).then((function(t){if(null!==t.data){for(var n=0;n<t.data.length;n++){var a=t.data[n];i.push(a.u_user_id)}var o=e.data.filter((function(e){return i.includes(e.user_id)}));r.state.allUsersSelected.length||r.setState({allUsersSelected:o,isLoading:!1})}}))})).then((function(){return r.removePendingPromise(l)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(l))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.loadQueuesAttendence=function(){var e=Object(a.a)(Un().mark((function e(t){var n,a,o,i;return Un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.props,a=n.currentUser,o=n.inquilino,r.state.queues.length?r.setState({isLoading:!1}):(i=le(r.whatsService.queuesByTenant(a.token,o.tenant_id)),r.appendPendingPromise(i),i.promise.then((function(e){null!==e.data&&r.setState({queues:e.data,isLoading:!1})})).then((function(){return r.removePendingPromise(i)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(i))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleAddUserToQueue=function(){var e=Object(a.a)(Un().mark((function e(t,n){var a,o;return Un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.props.currentUser,t&&n?(o=le(r.whatsService.createRelationQueueUser(a.token,t,n)),r.appendPendingPromise(o),o.promise.then((function(e){var t=e.data.relation,n=t.queue,a=t.user,o=r.state.queues,i=o.findIndex((function(e){return e.id===n}));o[i].users.push(a),r.setState({queues:o,isLoading:!1})})).then((function(){return r.removePendingPromise(o)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(o))}))):r.setState({isLoading:!1});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.handleDeleteUserRelationQueue=function(){var e=Object(a.a)(Un().mark((function e(t,n){var a,o;return Un().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.props.currentUser,t&&n?(o=le(r.whatsService.removeRelationQueueUser(a.token,t,n)),r.appendPendingPromise(o),o.promise.then((function(e){var a=r.state.queues,o=a.findIndex((function(e){return e.id===t}));a[o].users=Object(V.a)(a[o].users.filter((function(e){return e!==n}))),r.setState({queues:a,isLoading:!1})})).then((function(){return r.removePendingPromise(o)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(o))}))):r.setState({isLoading:!1});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.handleSelectUser=function(e){r.setState({userActivedRemoved:e})},r.render=function(){var e=r.state,t=e.userActivedRemoved,n=e.isLoading,a=e.queues,i=e.allUsersSelected;return o.a.createElement(ve.a,{columns:"equal"},o.a.createElement(ve.a.Column,{width:8},o.a.createElement("div",null,o.a.createElement(ye.a,{textAlign:"center",as:"h3",attached:"top"},"Analistas"),o.a.createElement(O.a,{attached:!0},o.a.createElement(Oe.a,{selection:!0,divided:!0,style:{maxHeight:"270px",overflowY:"scroll"},size:"large",verticalAlign:"middle"},i?i.map((function(e,n){return o.a.createElement(Oe.a.Item,{active:e.email===t.email,onClick:function(){return r.handleSelectUser(e)},key:n.toString+Math.random()+n.toString()},o.a.createElement($.a,{avatar:!0,src:"M"===e.sexo?"https://react.semantic-ui.com/images/avatar/small/matt.jpg":"https://react.semantic-ui.com/images/avatar/small/helen.jpg"}),o.a.createElement(Oe.a.Content,null,o.a.createElement(Oe.a.Header,null,e.name)))})):[])))),o.a.createElement(ve.a.Column,{width:8},o.a.createElement("div",null,o.a.createElement(ye.a,{textAlign:"center",as:"h3",attached:"top"},"Filas"),o.a.createElement(O.a,{loading:n,size:"large",attached:!0},o.a.createElement(Oe.a,{divided:!0,style:{maxHeight:"270px",minHeight:"100px",overflowY:"scroll"},verticalAlign:"middle"},!(null===t||void 0===t?void 0:t.user_id)&&o.a.createElement("span",null,"Selecione um usu\xe1rio"),a&&(null===t||void 0===t?void 0:t.user_id)?a.map((function(e,n){return o.a.createElement(Oe.a.Item,{key:n.toString()+Math.random()+n},o.a.createElement(Oe.a.Content,null,o.a.createElement(Oe.a.Header,{style:{width:"100%",display:"flex",alignItems:"center"}},e.users.includes(t.user_id)?o.a.createElement("button",{style:{fontSize:"1.4rem",padding:0,display:"flex",borderRadius:"100%",border:"none",cursor:"pointer",marginRight:"10px"},onClick:function(){return r.handleDeleteUserRelationQueue(e.id,t.user_id)}},o.a.createElement(Z.a,{name:"arrow alternate circle up",color:"green",style:{margin:0}})):o.a.createElement("button",{style:{fontSize:"1.4rem",padding:0,display:"flex",borderRadius:"100%",border:"none",cursor:"pointer",marginRight:"10px"},onClick:function(){return r.handleAddUserToQueue(e.id,t.user_id)}},o.a.createElement(Z.a,{name:"arrow alternate circle down",color:"red",style:{margin:0}})),o.a.createElement("span",null,e.name))))})):[])))))},r.state={queues:[],allUsersSelected:r.props.allUsersSelected.length?r.props.allUsersSelected:[],userActivedRemoved:{},users:r.props.users.length?r.props.users:[],isLoading:!0,activePage:1},r}return Object(c.a)(n)}(r.Component),Dn=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel}}),{logout:v})(Mn),Rn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).whatsService=new ie,a.componentDidMount=function(){a.addListeners()},a.addListeners=function(){a.props.editar?a.setState({modalOpen:!0,respostas:a.props.inquilino.respostas,dateInit:bt()(a.props.inquilino.dateInit).toDate(),dateEnd:bt()(a.props.inquilino.dateEnd).toDate(),stylesInquilino:{primaryColor:a.props.inquilino.primary_color,secondaryColor:a.props.inquilino.secundary_color,conversaUser:a.props.inquilino.ballon_user,conversaAnalyst:a.props.inquilino.ballon_analyst,logo:a.props.inquilino.logo,logoSize:a.props.inquilino.tamanho_logo,iconChat:a.props.inquilino.icon_chat},form:{inquilino_id:a.props.inquilino.tenant_id,nome:a.props.inquilino.nome_tenant,email:a.props.inquilino.email_tenant,numero:a.props.inquilino.numero_tenant,nomeRepresentante:a.props.inquilino.nome_representante,emailRepresentante:a.props.inquilino.email_representante,numeroRepresentante:a.props.inquilino.numero_representante,ativo:a.props.inquilino.status_tenant,chatWeb:a.props.inquilino.chat_web,chatBotWeb:a.props.inquilino.chatBot_web,chatWhatsApp:a.props.inquilino.chat_whatsApp,blipChat:a.props.inquilino.blip_chat,chatbotWhatsApp:a.props.inquilino.chatbot_whatsApp,workspaceIDWeb:a.props.inquilino.workspace_idWeb,urlWeb:a.props.inquilino.urlWeb,versionWeb:a.props.inquilino.versionWeb,apiKeyWeb:a.props.inquilino.api_keyWeb,workspaceIDWhatsApp:a.props.inquilino.workspace_idWhatsApp}}):a.props.create&&a.setState({modalOpen:!0})},a.handleChangeDateInit=function(e,t){a.setState({dateInit:t.value})},a.handleChangeDateEnd=function(e,t){a.setState({dateEnd:t.value})},a.dadosCheckBox=function(e){var t=a.state.form;t[e.target.name]=e.target.checked,a.setState({form:t})},a.dadosForm=function(e){var t=a.state.form;t[e.target.name]=e.target.value,a.setState({form:t})},a.cadastrar=function(){var e=a.props.currentUser,t=a.state,n=t.dateInit,r=t.dateEnd,o=a.state.stylesInquilino,i=o.primaryColor,l=o.secondaryColor,s=o.conversaUser,c=o.conversaAnalyst,u=o.logo,h=o.logoSize,d=a.state.form,m=d.nome,p=d.email,f=d.numero,g=d.nomeRepresentante,v=d.emailRepresentante,y=d.numeroRepresentante,E=d.ativo,w=d.chatWeb,b=d.chatBotWeb,C=d.chatWhatsApp,S=d.blipChat,x=d.chatbotWhatsApp,L=d.workspaceIDWeb,k=d.urlWeb,O=d.versionWeb,A=d.apiKeyWeb,j=d.workspaceIDWhatsApp;a.setState({isLoading:!0});var I=f.match(/\d/g);I=I.join("");var P=y.match(/\d/g);P=P.join(""),a.whatsService.createTenant(e.token,n,r,m,p,g,v,P,I,E,w,b,C,S,x,L,k,O,A,j,i,l,s,c,u,h).then((function(e){a.setState({modalOpen:!1,isLoading:!1}),a.props.reloadInquilinos()})).catch((function(e){e.response&&a.setState({errors:a.state.errors.concat(e.response.data),isLoading:!1})}))},a.editar=function(){var e=a.props,t=e.currentUser,n=e.inquilino,r=a.state,o=r.dateInit,i=r.dateEnd,l=r.respostas,s=a.state.stylesInquilino,c=s.primaryColor,u=s.secondaryColor,h=s.conversaUser,d=s.conversaAnalyst,m=s.logo,p=s.logoSize,f=s.iconChat,g=a.state.analistas,v=g.users,y=g.allUsersSelected,E=g.usersInTenant,w=g.usersNotTenant,b=g.addAnalist,C=a.state.form,S=C.nome,x=C.email,L=C.numero,k=C.nomeRepresentante,O=C.emailRepresentante,A=C.numeroRepresentante,j=C.ativo,I=C.chatWeb,P=C.chatBotWeb,N=C.chatWhatsApp,_=C.blipChat,T=C.chatbotWhatsApp,F=C.workspaceIDWeb,U=C.urlWeb,M=C.versionWeb,D=C.apiKeyWeb,R=C.workspaceIDWhatsApp;a.setState({isLoading:!0});var q=[],B=L.match(/\d/g);B=B.join("");var G=A.match(/\d/g);G=G.join(""),b&&(a.arraysEqual(E,y)||a.whatsService.relationUserTenant(t.token,y,n.nome_tenant).then((function(e){})),a.arraysEqual(v,w)||a.whatsService.relationDeleteUserTenant(t.token,v,n.nome_tenant).then((function(e){}))),a.whatsService.getTenantRelationUser(t.token,t.userId).then((function(e){for(var r=0;r<e.data.length;r++){var s=e.data[r];q.push(s.m_tenant_id)}a.props.setChannelsUser(q),a.whatsService.updateTenant(t.token,n.tenant_id,o,i,S,x,k,O,G,B,j,I,P,N,_,T,F,U,M,D,R,c,u,h,d,m,p,f,l).then((function(e){a.setState({modalOpen:!1,isLoading:!1}),a.props.reloadInquilinos()})).catch((function(e){e.response&&a.setState({errors:a.state.errors.concat(e.response.data),isLoading:!1})}))}))},a.handleUsersTenant=function(e,t){var n={usersInTenant:e,usersNotTenant:t};a.setState({analistas:n})},a.displayErros=function(e){return e.map((function(e,t){return o.a.createElement(be.a,{error:!0,key:t,header:"Algo deu errado :(",content:e})}))},a.changeRespostas=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log("changeResposta",e),a.setState({respostas:e})},a.addAnalists=function(e,t,n,r,o){a.setState({analistas:{users:e,allUsersSelected:t,totalUsers:n,addAnalist:!0,usersInTenant:r,usersNotTenant:o}})},a.addUsers=function(e){a.setState({usuarios:{usersAdd:e}})},a.onChangeStyles=function(e){var t=a.props,n=t.currentUser,r=t.inquilino,o=a.state,i=o.dateInit,l=o.dateEnd,s=a.state.form,c=s.nome,u=s.email,h=s.numero,d=s.nomeRepresentante,m=s.emailRepresentante,p=s.numeroRepresentante,f=s.ativo,g=s.chatWeb,v=s.chatBotWeb,y=s.chatWhatsApp,E=s.blipChat,w=s.chatbotWhatsApp,b=s.workspaceIDWeb,C=s.urlWeb,S=s.versionWeb,x=s.apiKeyWeb,L=s.workspaceIDWhatsApp;if(null!==e){var k=e.primaryColor,O=e.secondaryColor,A=e.conversaUser,j=e.conversaAnalyst,I=e.logo,P=e.logoSize,N=e.iconChat;a.whatsService.updateTenant(n.token,r.tenant_id,i,l,c,u,d,m,p,h,f,g,v,y,E,w,b,C,S,x,L,k,O,A,j,I,P,N).then((function(t){a.setState({modalStyles:!1,stylesInquilino:e})})).catch((function(e){e.response&&a.setState({errors:a.state.errors.concat(e.response.data),isLoading:!1})}))}else a.setState({modalStyles:!1})},a.panesCreate=function(){return[{menuItem:"Adicionar detalhes",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(xe.a.Description,{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement(ye.a,{style:{marginTop:"4px"}},"Data Inicio:"),o.a.createElement(wn.a,{type:"basic",format:"DD-MM-YYYY",value:a.state.dateInit,onChange:a.handleChangeDateInit}),o.a.createElement(ye.a,{style:{marginTop:"6px"}},"Data Termino:"),o.a.createElement(wn.a,{format:"DD-MM-YYYY",value:a.state.dateEnd,onChange:a.handleChangeDateEnd}),o.a.createElement(st.a,{hidden:!0,clearing:!0})),o.a.createElement(Ee.a,null,o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"nome",id:"form-input-control-nome",control:Ce.a,value:a.state.form.nome,label:"Nome da empresa",placeholder:"Digite o nome da empresa...",onChange:a.dadosForm})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"email",id:"form-input-control-email",control:Ce.a,value:a.state.form.email,label:"Email da empresa",placeholder:"f...@dominio.com.br",type:"email",onChange:a.dadosForm})),o.a.createElement(st.a,{hidden:!0,clearing:!0}),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"nomeRepresentante",id:"form-input-control-nomeRepresentante",control:Ce.a,value:a.state.form.nomeRepresentante,label:"Nome do representante",placeholder:"Digite o nome do representante...",onChange:a.dadosForm}),o.a.createElement(Ee.a.Field,{name:"emailRepresentante",id:"form-input-control-emailRepresentante",control:Ce.a,value:a.state.form.emailRepresentante,label:"Email do representante",placeholder:"Digite o email do representante...",onChange:a.dadosForm}),o.a.createElement(Ee.a.Field,null,o.a.createElement("label",null,"N\xfamero do Representante"),o.a.createElement(mn.a,{name:"numeroRepresentante",id:"form-input-control-numeroRepresentante",onChange:a.dadosForm,placeholder:"N\xfamero do Representante..",value:a.state.form.numeroRepresentante,mask:"+55\\ (99) 99999 9999",maskChar:" "}))),o.a.createElement(st.a,{hidden:!0,clearing:!0}),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,null,o.a.createElement("label",null,"N\xfamero de contato"),o.a.createElement(mn.a,{name:"numero",id:"form-input-control-numero",onChange:a.dadosForm,placeholder:"N\xfamero do Respons\xe1vel",value:a.state.form.numero,mask:"+55\\ (99) 99999 9999",maskChar:" "})),o.a.createElement(Ee.a.Field,{value:a.state.form.ativo,name:"ativo",label:"Status do cliente",control:"select",onChange:a.dadosForm},o.a.createElement("option",{value:"1"},"Ativo"),o.a.createElement("option",{value:"0"},"Inativo"))),o.a.createElement(Ee.a.Group,{inline:!0},o.a.createElement(Ee.a.Checkbox,{name:"chatBotWeb",id:"form-input-control-chatBotWeb",checked:a.state.form.chatBotWeb,label:"ChatBot Web",onChange:a.dadosCheckBox}),o.a.createElement(Ee.a.Checkbox,{name:"chatWeb",id:"form-input-control-chatWeb",checked:a.state.form.chatWeb,label:"Chat WEB",onChange:a.dadosCheckBox}),o.a.createElement(Ee.a.Checkbox,{name:"chatbotWhatsApp",id:"form-input-control-chatbotWhatsApp",checked:a.state.form.chatbotWhatsApp,label:"ChatBot WhatsApp",onChange:a.dadosCheckBox}),o.a.createElement(Ee.a.Checkbox,{name:"chatWhatsApp",id:"form-input-control-chatWhatsApp",checked:a.state.form.chatWhatsApp,label:"Chat WhatsApp",onChange:a.dadosCheckBox}),o.a.createElement(Ee.a.Checkbox,{name:"blipChat",id:"form-input-control-blipChat",checked:a.state.form.blipChat,label:"Chat Customizado",onChange:a.dadosCheckBox})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatBotWeb,name:"workspaceIDWeb",id:"form-input-control-workspaceIDWeb",control:Ce.a,value:a.state.form.workspaceIDWeb,label:"Workspace ID para ChatBot Web",placeholder:"6bbda3b3-d572-45e1-8c54-22d6ed9e52c2",onChange:a.dadosForm,error:a.state.form.chatBotWeb&&""===a.state.form.workspaceIDWeb?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null}),o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatbotWhatsApp,name:"workspaceIDWhatsApp",id:"form-input-control-workspaceIDWhatsApp",control:Ce.a,value:a.state.form.workspaceIDWhatsApp,label:"Workspace ID para ChatBot WhatsApp",placeholder:"6bbda3b3-d572-45e1-8c54-22d6ed9e52c2",onChange:a.dadosForm,error:a.state.form.chatbotWhatsApp&&""===a.state.form.workspaceIDWhatsApp?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatBotWeb,name:"urlWeb",id:"form-input-control-urlWeb",control:Ce.a,value:a.state.form.urlWeb,label:"URL para ChatBot Web",placeholder:"https://api.us-east.assistant.watson.cloud.ibm.com",onChange:a.dadosForm,error:a.state.form.chatBotWeb&&""===a.state.form.urlWeb?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatBotWeb,name:"versionWeb",id:"form-input-control-versionWeb",control:Ce.a,value:a.state.form.versionWeb,label:"Vers\xe3o do ChatBot Web",placeholder:"2020-09-24",onChange:a.dadosForm,error:a.state.form.chatBotWeb&&""===a.state.form.versionWeb?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatBotWeb,name:"apiKeyWeb",id:"form-input-control-apiKeyWeb",control:Ce.a,value:a.state.form.apiKeyWeb,label:"Chave API para ChatBot Web",placeholder:"efEGzb4anUQP7m1d5jtX3VDNV2PpItRcFgxQ0GrVsAAb",onChange:a.dadosForm,error:a.state.form.chatBotWeb&&""===a.state.form.apiKeyWeb?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null}))))}}]},a.panesEdit=function(){var e=a.props.currentUser,t=a.state,n=t.modalStyles,r=t.respostas,i=a.state.analistas,l=i.users,s=i.allUsersSelected,c=i.totalUsers;return 1===e.type?[{menuItem:"Adicionar detalhes",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(xe.a.Description,{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement(ye.a,{style:{marginTop:"4px"}},"Data Inicio:"),o.a.createElement(wn.a,{type:"basic",format:"DD-MM-YYYY",value:a.state.dateInit,onChange:a.handleChangeDateInit}),o.a.createElement(ye.a,{style:{marginTop:"6px"}},"Data Termino:"),o.a.createElement(wn.a,{format:"DD-MM-YYYY",value:a.state.dateEnd,onChange:a.handleChangeDateEnd}),o.a.createElement(st.a,{hidden:!0,clearing:!0})),o.a.createElement(Ee.a,null,o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"nome",id:"form-input-control-nome",control:Ce.a,value:a.state.form.nome,label:"Nome da empresa",placeholder:"Digite o nome da empresa...",onChange:a.dadosForm})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"email",id:"form-input-control-email",control:Ce.a,value:a.state.form.email,label:"Email da empresa",placeholder:"f...@dominio.com.br",type:"email",onChange:a.dadosForm})),o.a.createElement(st.a,{hidden:!0,clearing:!0}),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{name:"nomeRepresentante",id:"form-input-control-nomeRepresentante",control:Ce.a,value:a.state.form.nomeRepresentante,label:"Nome do representante",placeholder:"Digite o nome do representante...",onChange:a.dadosForm}),o.a.createElement(Ee.a.Field,{name:"emailRepresentante",id:"form-input-control-emailRepresentante",control:Ce.a,value:a.state.form.emailRepresentante,label:"Email do representante",placeholder:"Digite o email do representante...",onChange:a.dadosForm}),o.a.createElement(Ee.a.Field,null,o.a.createElement("label",null,"N\xfamero do Representante"),o.a.createElement(mn.a,{name:"numeroRepresentante",id:"form-input-control-numeroRepresentante",onChange:a.dadosForm,placeholder:"N\xfamero do Representante..",value:a.state.form.numeroRepresentante,mask:"+55\\ (99) 99999 9999",maskChar:" "}))),o.a.createElement(st.a,{hidden:!0,clearing:!0}),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,null,o.a.createElement("label",null,"N\xfamero de contato"),o.a.createElement(mn.a,{name:"numero",id:"form-input-control-numero",onChange:a.dadosForm,placeholder:"N\xfamero do Respons\xe1vel",value:a.state.form.numero,mask:"+55\\ (99) 99999 9999",maskChar:" "})),o.a.createElement(Ee.a.Field,{value:a.state.form.ativo,name:"ativo",label:"Status do cliente",control:"select",onChange:a.dadosForm},o.a.createElement("option",{value:"1"},"Ativo"),o.a.createElement("option",{value:"0"},"Inativo"))),o.a.createElement(Ee.a.Group,{inline:!0},o.a.createElement(Ee.a.Checkbox,{name:"chatBotWeb",id:"form-input-control-chatBotWeb",checked:a.state.form.chatBotWeb,label:"ChatBot Web",onChange:a.dadosCheckBox}),o.a.createElement(Ee.a.Checkbox,{name:"chatWeb",id:"form-input-control-chatWeb",checked:a.state.form.chatWeb,label:"Chat WEB",onChange:a.dadosCheckBox}),o.a.createElement(Ee.a.Checkbox,{name:"chatbotWhatsApp",id:"form-input-control-chatbotWhatsApp",checked:a.state.form.chatbotWhatsApp,label:"ChatBot WhatsApp",onChange:a.dadosCheckBox}),o.a.createElement(Ee.a.Checkbox,{name:"chatWhatsApp",id:"form-input-control-chatWhatsApp",checked:a.state.form.chatWhatsApp,label:"Chat WhatsApp",onChange:a.dadosCheckBox}),o.a.createElement(Ee.a.Checkbox,{name:"blipChat",id:"form-input-control-blipChat",checked:a.state.form.blipChat,label:"Chat Customizado",onChange:a.dadosCheckBox})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatBotWeb,name:"workspaceIDWeb",id:"form-input-control-workspaceIDWeb",control:Ce.a,value:a.state.form.workspaceIDWeb,label:"Workspace ID para ChatBot Web",placeholder:"6bbda3b3-d572-45e1-8c54-22d6ed9e52c2",onChange:a.dadosForm,error:a.state.form.chatBotWeb&&""===a.state.form.workspaceIDWeb?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null}),o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatbotWhatsApp||e,name:"workspaceIDWhatsApp",id:"form-input-control-workspaceIDWhatsApp",control:Ce.a,value:a.state.form.workspaceIDWhatsApp,label:"Workspace ID para ChatBot WhatsApp",placeholder:"6bbda3b3-d572-45e1-8c54-22d6ed9e52c2",onChange:a.dadosForm,error:a.state.form.chatbotWhatsApp&&""===a.state.form.workspaceIDWhatsApp?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatBotWeb,name:"urlWeb",id:"form-input-control-urlWeb",control:Ce.a,value:a.state.form.urlWeb,label:"URL para ChatBot Web",placeholder:"https://api.us-east.assistant.watson.cloud.ibm.com",onChange:a.dadosForm,error:a.state.form.chatBotWeb&&""===a.state.form.urlWeb?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatBotWeb,name:"versionWeb",id:"form-input-control-versionWeb",control:Ce.a,value:a.state.form.versionWeb,label:"Vers\xe3o do ChatBot Web",placeholder:"2020-09-24",onChange:a.dadosForm,error:a.state.form.chatBotWeb&&""===a.state.form.versionWeb?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null})),o.a.createElement(Ee.a.Group,{widths:"equal"},o.a.createElement(Ee.a.Field,{disabled:!a.state.form.chatBotWeb,name:"api_keyWeb",id:"form-input-control-api_keyWeb",control:Ce.a,value:a.state.form.api_keyWeb,label:"Chave API para ChatBot Web",placeholder:"efEGzb4anUQP7m1d5jtX3VDNV2PpItRcFgxQ0GrVsAAb",onChange:a.dadosForm,error:a.state.form.chatBotWeb&&""===a.state.form.api_keyWeb?{content:"O campo est\xe1 v\xe1zio",pointing:"below"}:null}))),o.a.createElement(we.a,{inverted:!0,color:"orange",onClick:function(){return a.setState({modalStyles:!0})}},"Definir Estilos"),n?o.a.createElement(jn,{stylesInquilino:a.state.stylesInquilino,onChangeStyles:a.onChangeStyles,open:n}):null)}},{menuItem:"Adicionar Analistas",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(Sn,{addUsers:a.addAnalists,users:l,totalUsers:c,allUsersSelected:s,inquilino:a.props.inquilino,handleUsersTenant:a.handleUsersTenant}))}},{menuItem:"Respostas Personalizadas",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(Nn,{respostas:r,changeRespostas:a.changeRespostas}))}},{menuItem:"Autentica\xe7\xe3o LDAP",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(Fn,{inquilino:a.props.inquilino}))}},{menuItem:"Filas de atendimento",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(Dn,{addUsers:a.addAnalists,users:l,totalUsers:c,allUsersSelected:s,inquilino:a.props.inquilino,handleUsersTenant:a.handleUsersTenant}))}}]:3===e.type?[{menuItem:"Analistas",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(Sn,{addUsers:a.addAnalists,users:l,totalUsers:c,allUsersSelected:s,inquilino:a.props.inquilino,handleUsersTenant:a.handleUsersTenant}))}},{menuItem:"Respostas Personalizadas",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(Nn,{respostas:r,changeRespostas:a.changeRespostas}))}},{menuItem:"Autentica\xe7\xe3o LDAP",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(Fn,{inquilino:a.props.inquilino}))}},{menuItem:"Filas de atendimento",render:function(){return o.a.createElement(En.a.Pane,{style:{backgroundColor:"whitesmoke"}},o.a.createElement(Dn,{addUsers:a.addAnalists,users:l,totalUsers:c,allUsersSelected:s,inquilino:a.props.inquilino,handleUsersTenant:a.handleUsersTenant}))}}]:void 0},a.validDataButton=function(){var e=a.state.stylesInquilino,t=e.logo,n=e.logoSize,r=e.conversaAnalyst,o=e.conversaUser,i=e.iconChat,l=a.state.form,s=l.nome,c=l.email,u=l.numero,h=l.emailRepresentante,d=l.nomeRepresentante,m=l.numeroRepresentante,p=l.chatBotWeb,f=l.chatbotWhatsApp,g=l.workspaceIDWeb,v=l.urlWeb,y=l.versionWeb,E=l.apiKeyWeb,w=l.workspaceIDWhatsApp;return!!(""===s||""===c||""===u||""===h||""===d||""===m||p&&""===g||f&&""===w||""===t||""===n||""===r||""===o||""===i||""===v||""===y||""===E)},a.closeModal=function(){a.setState({modalOpen:!1,errors:[],form:{inquilino_id:"",nome:"",email:"",numero:"",nomeRepresentante:"",emailRepresentante:"",numeroRepresentante:"",ativo:1},analistas:{addAnalist:!1,users:[],allUsersSelected:[],totalUsers:0,usersInTenant:[],usersNotTenant:[]}}),a.props.reloadInquilinos()},a.onClose=function(){a.setState({modalOpen:!1}),a.props.onClose()},a.state={respostas:[],analistas:{addAnalist:!1,users:[],allUsersSelected:[],totalUsers:0,usersInTenant:[],usersNotTenant:[]},usuarios:{usersAdd:[]},dateInit:bt()().toDate(),dateEnd:bt()().toDate(),modalOpen:!1,errors:[],isLoading:!1,modalStyles:!1,stylesInquilino:{primaryColor:"#274e7f",secondaryColor:"#C8D131",conversaUser:"#205ea1",conversaAnalyst:"#7D90AB",logoSize:"80",logo:"data:image/svg+xml;utf8,<svg width='168' height='224' viewBox='0 0 168 224' fill='none' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' clip-rule='evenodd' d='M83.4663 0C47.0974 0 17.3562 29.0913 17.3562 64.6492V129.298H83.4663C119.835 129.298 149.576 100.207 149.576 64.6492C149.576 29.0913 119.819 0 83.4663 0Z' fill='%231F5EA0'/><path d='M27.6491 207.62C23.9838 207.62 20.5695 207.771 17.356 208.057V168.148V164.487V160.338C17.356 151.335 13.9752 146.851 7.16333 146.851H0.76989L0 147.758V164.487V168.148V212.558C0 215.682 0.903784 218.168 2.71135 219.999C4.53566 221.83 7.0127 222.753 10.1425 222.753H34.7957C37.9924 222.753 40.5699 221.998 42.5448 220.503C44.5197 219.008 45.6579 217.211 46.0261 215.128C46.3943 213.045 46.5784 210.559 46.5784 207.637H27.6491V207.62Z' fill='%23264D7E'/><path d='M81.6921 158.003V164.487H64.3528V147.59L65.1227 146.834H71.5161C78.3112 146.834 81.6921 150.546 81.6921 158.003Z' fill='%23C7D030'/><path d='M64.2356 222.585V168.619C66.4951 168.3 69.4073 168.148 72.9722 168.148C76.5371 168.148 79.4828 168.3 81.8092 168.619V222.585C79.4828 222.905 76.5371 223.056 72.9722 223.056C69.4073 223.056 66.4951 222.905 64.2356 222.585Z' fill='%23264D7E'/><path d='M124.823 206.746C122.864 206.746 121.408 206.713 120.454 206.629L115.768 222.518C114.027 222.955 111.584 223.173 108.454 223.173C104.956 223.173 102.128 222.77 99.9351 221.964L99.3828 221.091L123.4 147.606C126.245 147.17 129.542 146.951 133.325 146.951C137.61 146.951 141.041 147.203 143.585 147.724L167.167 221.326C164.623 222.72 161.744 223.408 158.547 223.408C154.765 223.408 152.104 222.753 150.581 221.443C149.057 220.133 147.735 217.614 146.647 213.885L144.572 206.662C143.618 206.73 142.212 206.78 140.321 206.78H124.823V206.746ZM124.488 192.94L128.856 192.822H136.823C137.191 192.822 137.827 192.839 138.731 192.873C139.635 192.906 140.321 192.923 140.756 192.923L138.898 186.137C137.158 180.007 135.149 172.482 132.89 163.58H132.237C131.651 166.721 129.911 173.691 126.998 184.491L124.488 192.94Z' fill='%23264D7E'/><path d='M150.045 11.1192L145.526 6.58417L144.137 6.8865L81.5749 69.6545V45.2662C81.5749 38.6988 78.1773 35.4067 71.3822 35.4067H64.9888L64.2356 36.0786V93.371C64.2356 96.1424 64.4699 98.6283 66.1938 100.325C67.2482 101.366 68.0348 101.87 69.2399 102.105C71.332 102.743 73.6919 102.256 75.3488 100.61L93.6755 82.2014L93.6588 82.1846L144.89 30.7709C153.141 22.4903 154.865 15.9397 150.045 11.1192Z' fill='%23C7D030'/></svg>",iconChat:"data:image/svg+xml;utf8,<svg width='25' height='25' viewBox='0 0 25 25' fill='none' xmlns='http://www.w3.org/2000/svg'><g clip-path='url(%23clip0)'><path fill-rule='evenodd' clip-rule='evenodd' d='M12.2093 0.0484619C5.5264 0.0484619 0.0614014 5.65001 0.0614014 12.4967V24.945H12.2093C18.8921 24.945 24.3571 19.3434 24.3571 12.4967C24.3571 5.65001 18.8891 0.0484619 12.2093 0.0484619Z' fill='%231F5EA0'/><path d='M24.4434 2.18951L23.613 1.31628L23.3578 1.3745L11.8619 13.4605V8.76454C11.8619 7.49998 11.2376 6.86609 9.98898 6.86609H8.81417L8.67578 6.99546V18.0272C8.67578 18.5608 8.71884 19.0394 9.0356 19.3661C9.22936 19.5666 9.3739 19.6636 9.59533 19.7089C9.97976 19.8318 10.4134 19.738 10.7179 19.4211L14.0854 15.8764L14.0824 15.8732L23.4962 5.97346C25.0124 4.37903 25.3291 3.11771 24.4434 2.18951Z' fill='%23C7D030'/></g><defs><clipPath id='clip0'><rect width='25' height='25' fill='white'/></clipPath></defs></svg>"},form:{inquilino_id:"",nome:"",email:"",numero:"",nomeRepresentante:"",emailRepresentante:"",numeroRepresentante:"",ativo:1,chatWeb:!1,chatBotWeb:!1,chatWhatsApp:!1,blipChat:!1,chatbotWhatsApp:!1,workspaceIDWeb:"",urlWeb:"",versionWeb:"",apiKeyWeb:"",workspaceIDWhatsApp:""}},a.dadosForm=a.dadosForm.bind(Object(qe.a)(a)),a.cadastrar=a.cadastrar.bind(Object(qe.a)(a)),a.handleUsersTenant=a.handleUsersTenant.bind(Object(qe.a)(a)),a}return Object(c.a)(n,[{key:"arraysEqual",value:function(e,t){if(e.length!==t.length)return!1;for(var n=e.length;n--;)if(e[n]!==t[n])return!1;return!0}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.errors;return o.a.createElement(xe.a,{onClose:function(){return e.onClose()},open:this.state.modalOpen,closeIcon:!0},this.displayErros(a),o.a.createElement(xe.a.Header,null,this.props.editar?"Editar Inquilino":"Criar Inquilino"),o.a.createElement(xe.a.Content,null,o.a.createElement(En.a,{panes:this.props.editar?this.panesEdit():this.panesCreate()})),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{onClick:function(){return e.closeModal()},color:"red"},o.a.createElement(Z.a,{name:"remove"})," Cancelar"),this.props.editar?o.a.createElement(we.a,{loading:n,disabled:this.validDataButton(),onClick:this.editar,color:"green"},o.a.createElement(Z.a,{name:"checkmark"})," Editar"):o.a.createElement(we.a,{loading:n,disabled:this.validDataButton(),onClick:this.cadastrar,color:"green"},o.a.createElement(Z.a,{name:"checkmark"})," Criar")))}}]),n}(r.Component),qn=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel}}),{setChannelsUser:w})(Rn);function Bn(){Bn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Gn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsService=new ie,r.pendingPromises=[],r.appendPendingPromise=function(e){return r.pendingPromises=[].concat(Object(V.a)(r.pendingPromises),[e])},r.removePendingPromise=function(e){return r.pendingPromises=r.pendingPromises.filter((function(t){return t!==e}))},r.removeListeners=function(){},r.addListeners=function(){var e=r.props,t=e.currentUser,n=e.channelsUser;r.setState({isLoading:!0,openModalInquilinoEdit:!1,openModalInquilinoCreate:!1,inquilinoCurrent:null});var a=le(r.whatsService.getAllTenants(t.token));r.appendPendingPromise(a),a.promise.then((function(e){if(3===t.type){var a=e.data.filter((function(e){return n.includes(e.tenant_id)})),o=a.slice(r.state.begin,r.state.end);r.setState({inquilinos:o,allInquilinos:a,isLoading:!1})}else if(1===t.type){var i=e.data.slice(r.state.begin,r.state.end);r.setState({inquilinos:i,allInquilinos:e.data,isLoading:!1})}})).then((function(){return r.removePendingPromise(a)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(a))}))},r.handlePaginationChange=function(){var e=Object(a.a)(Bn().mark((function e(t,n){var a;return Bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.activePage,e.next=3,r.setState({activePage:a});case 3:return e.next=5,r.setState({begin:10*r.state.activePage-10});case 5:return e.next=7,r.setState({end:10*r.state.activePage});case 7:r.setState({inquilinos:r.state.allInquilinos.slice(r.state.begin,r.state.end)});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.getUsersTenant=function(e){var t=r.props.currentUser;r.setState({isLoading:!0});var n=le(r.whatsService.clientes(t.token));r.appendPendingPromise(n),n.promise.then((function(t){var n=t.data.filter((function(t){return t.tenant.tenant_id===e.tenant_id})),a={users:n.slice(r.state.begin,r.state.end),allUsers:n};r.setState({users:a,isLoading:!1})})).then((function(){return r.removePendingPromise(n)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(n))}))},r.getAnalystTenants=function(e){var t=r.props.currentUser;r.setState({isLoading:!0});var n=le(r.whatsService.getTenantRelation(t.token,e.nome_tenant));r.appendPendingPromise(n),n.promise.then((function(e){var t={analysts:e.data.slice(r.state.begin,r.state.end),allAnalysts:e.data};r.setState({analysts:t})})).then((function(){return r.removePendingPromise(n)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),r.props.logout(),r.removePendingPromise(n))}))},r.open=function(){return r.setState({open:!0})},r.close=function(){return r.setState({open:!1})},r.ModalExampleMultiple=function(){var e=r.state.open,t=r.state.users.allUsers,n=r.state.analysts.allAnalysts;return o.a.createElement(xe.a,{open:e,onOpen:r.open,onClose:r.close,size:"large",style:{marginTop:"5vh"},closeIcon:!0},o.a.createElement(xe.a.Header,null,"Detalhes do atendimento"),o.a.createElement(xe.a.Content,null,o.a.createElement(ve.a,{columns:"equal"},o.a.createElement(ve.a.Column,{width:6},o.a.createElement("div",null,o.a.createElement(ye.a,{textAlign:"center",as:"h3",attached:"top"},"ANALISTAS"),o.a.createElement(O.a,{size:"large",attached:!0},o.a.createElement(Oe.a,{divided:!0,animated:!0,verticalAlign:"middle"},n?n.length?n.map((function(e,t){return o.a.createElement(Oe.a.Item,{key:t.toString()+Math.random()},o.a.createElement($.a,{avatar:!0,src:"https://react.semantic-ui.com/images/avatar/large/jenny.jpg"}),o.a.createElement(Oe.a.Content,null,o.a.createElement(Oe.a.Header,null,e.u_name)))})):[]:"")))),o.a.createElement(ve.a.Column,{width:4,textAlign:"center"},o.a.createElement(be.a,{color:"red"},o.a.createElement(be.a.Header,null,"Aviso:"),o.a.createElement(be.a.List,null,o.a.createElement(be.a.Item,null,"Ao lado esquerdo ANALISTAS desse contrato"),o.a.createElement(be.a.Item,null,"Do lado direito os CLIENTES desse contrato")))),o.a.createElement(ve.a.Column,{width:6},o.a.createElement("div",null,o.a.createElement(ye.a,{textAlign:"center",as:"h3",attached:"top"},"CLIENTES"),o.a.createElement(O.a,{attached:!0,style:{maxHeight:"50vh",overflow:"auto"}},o.a.createElement(Oe.a,{divided:!0,size:"large",animated:!0,verticalAlign:"middle"},t?t.length?t.map((function(e,t){return o.a.createElement(Oe.a.Item,{key:Math.random()+e+t.toString()},o.a.createElement($.a,{avatar:!0,src:"F"===e.sexo?"https://react.semantic-ui.com/images/avatar/small/helen.jpg":"https://react.semantic-ui.com/images/avatar/large/chris.jpg"}),o.a.createElement(Oe.a.Content,null,o.a.createElement(Oe.a.Header,null,e.name)))})):[]:"")))))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{color:"red",content:"Voltar",onClick:r.close})))},r.handleInquilino=function(e){console.log("INQ",e),r.setState({inquilino:e}),r.getUsersTenant(e),r.getAnalystTenants(e),r.toggleModalForm()},r.toggleModalForm=function(){return r.setState({modalForm:!r.state.modalForm})},r.maskPhone=function(e){var t=e.replace(/\D/g,"").match(/(\d{2})(\d{5})(\d{4})/);return e="("+t[1]+") "+t[2]+"-"+t[3]},r.ModalForm=function(){var e=r.state.inquilino;return o.a.createElement(xe.a,{dimmer:"blurring",size:"large",style:{position:"relative",height:"auto",marginLeft:"auto"},open:r.state.modalForm,onClose:function(){return r.toggleModalForm()},closeIcon:{style:{top:"1.0535rem",right:"1rem"},color:"black",name:"close"}},o.a.createElement(xe.a.Header,{as:"h5"},"Detalhes do Inquilino"),o.a.createElement(xe.a.Content,{style:{paddingBottom:"0px",paddingTop:"0px"}},o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{horizontal:!0},o.a.createElement(ye.a,{as:"h4"},o.a.createElement(Z.a,{name:"tag"}),"Descri\xe7\xe3o da empresa")),o.a.createElement(ve.a,null,o.a.createElement(ve.a.Row,null,o.a.createElement(ve.a.Column,{width:8},o.a.createElement(Yt.a,{definition:!0},o.a.createElement(Yt.a.Body,null,o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,{width:2},"Nome da Empresa"),o.a.createElement(Yt.a.Cell,null,e.nome_tenant)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,{width:2},"N\xfamero da Empresa"),o.a.createElement(Yt.a.Cell,null,e.numero_tenant)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Status do contrato:"),o.a.createElement(Yt.a.Cell,null,1===e.status_tenant?"Ativo":"Desativado")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"E-mail oficial do Inquilino"),o.a.createElement(Yt.a.Cell,null,e.email_tenant)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Chat Web com Analista"),o.a.createElement(Yt.a.Cell,null,e.chat_web?"PERMITIDO":"N\xc3O PERMITIDO")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"ChatBot Web"),o.a.createElement(Yt.a.Cell,null,e.chatBot_web?"PERMITIDO":"N\xc3O PERMITIDO")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Chat WhatsApp com Analista"),o.a.createElement(Yt.a.Cell,null,e.chat_whatsApp?"PERMITIDO":"N\xc3O PERMITIDO")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Chat Bot WhatsApp"),o.a.createElement(Yt.a.Cell,null,e.chatbot_whatsApp?"PERMITIDO":"N\xc3O PERMITIDO")),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"WorskpaceID ChatBotWeb"),o.a.createElement(Yt.a.Cell,null,e.workspace_idWeb)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"WorskpaceID ChatBotWhatsApp"),o.a.createElement(Yt.a.Cell,null,e.workspace_idWhatsApp)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Iniciado em:"),o.a.createElement(Yt.a.Cell,null,new Date(e.dateInit).toLocaleDateString())),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"V\xe1lido at\xe9:"),o.a.createElement(Yt.a.Cell,null,new Date(e.dateEnd).toLocaleDateString()))))),o.a.createElement(ve.a.Column,{width:8},o.a.createElement(Yt.a,{definition:!0},o.a.createElement(Yt.a.Header,null,o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.HeaderCell,null),o.a.createElement(Yt.a.HeaderCell,null,"Dados do Representante"))),o.a.createElement(Yt.a.Body,null,o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,{width:2},"Nome do Representante"),o.a.createElement(Yt.a.Cell,null,e.nome_representante)),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"N\xfamero de contato do Representante"),o.a.createElement(Yt.a.Cell,null,e.numero_representante)))),o.a.createElement(st.a,{horizontal:!0},o.a.createElement(ye.a,{as:"h4"},o.a.createElement(Z.a,{name:"chart pie"}),"Cores para o CHAT")),o.a.createElement(Yt.a,{definition:!0},o.a.createElement(Yt.a.Body,null,o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,{width:2},"Cor Prim\xe1ria"),o.a.createElement(Yt.a.Cell,null,o.a.createElement("div",{style:{width:"20px",height:"20px",backgroundColor:e.primary_color}},o.a.createElement("div",{style:{paddingLeft:"30px"}},e.primary_color)))),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Cor Secund\xe1ria"),o.a.createElement(Yt.a.Cell,null,o.a.createElement("div",{style:{width:"20px",height:"20px",backgroundColor:e.secundary_color}},o.a.createElement("div",{style:{paddingLeft:"30px"}},e.secundary_color)))),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Cor do Bal\xe3o para Usu\xe1rio"),o.a.createElement(Yt.a.Cell,null,o.a.createElement("div",{style:{width:"20px",height:"20px",backgroundColor:e.ballon_user}},o.a.createElement("div",{style:{paddingLeft:"30px"}},e.ballon_user)))),o.a.createElement(Yt.a.Row,null,o.a.createElement(Yt.a.Cell,null,"Cor do Bal\xe3o para Analista"),o.a.createElement(Yt.a.Cell,null,o.a.createElement("div",{style:{width:"20px",height:"20px",backgroundColor:e.ballon_analyst}},o.a.createElement("div",{style:{paddingLeft:"30px"}},e.ballon_analyst)))))),o.a.createElement(st.a,{horizontal:!0},o.a.createElement(ye.a,{as:"h4"},"Outras informa\xe7\xf5es")),o.a.createElement(ve.a,null,o.a.createElement(ve.a.Row,null,null===e||void 0===e?void 0:e.links.map((function(e){return o.a.createElement(ve.a.Column,{width:8},o.a.createElement("div",{style:{padding:"10px"}},o.a.createElement(we.a,{as:"a",href:e.uri,target:"_blank",rel:"noopener noreferrer",style:{paddingLeft:"20px",paddingRight:"20px",width:"100%",textAlign:"center"}},o.a.createElement(Z.a,{className:"linkify"}),e.title)))}))))))),o.a.createElement(st.a,{horizontal:!0},o.a.createElement(ye.a,{as:"h4"},o.a.createElement(we.a,{color:"linkedin",onClick:r.open},o.a.createElement(Z.a,{name:"users"}),"Analistas e Usu\xe1rios"))))),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{negative:!0,onClick:function(){return r.toggleModalForm()},color:"red"},"Cancelar"),o.a.createElement(we.a,{positive:!0,onClick:function(){return r.toggleModalForm()}},"Confirmar")))},r.onClose=function(){r.setState({openModalInquilinoEdit:!1,openModalInquilinoCreate:!1,inquilinoCurrent:null})},r.state={allInquilinos:[],inquilinos:[],modalForm:!1,inquilino:null,pesquisa:"",isLoading:!1,open:!1,inquilinoCurrent:null,openModalInquilinoCreate:!1,openModalInquilinoEdit:!1,activePage:1,begin:0,end:10,users:{users:[],allUsers:[]},analysts:{analysts:[],allAnalysts:[]}},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.modalForm,a=t.open,r=t.isLoading,i=t.activePage,l=t.inquilinos,s=t.openModalInquilinoEdit,c=t.openModalInquilinoCreate,u=t.inquilinoCurrent,h=this.props.currentUser;return o.a.createElement(ve.a,{id:"inquilinos",stackable:!0},o.a.createElement(ve.a.Column,{width:16},o.a.createElement("div",null,o.a.createElement(O.a,{clearing:!0,attached:!0,color:"green"},o.a.createElement(ye.a,{as:"h2",floated:"right"},1===h.type&&o.a.createElement(we.a,{color:"teal",onClick:function(){return e.setState({openModalInquilinoCreate:!0})}},"Cadastrar"),c&&o.a.createElement(qn,{reloadInquilinos:this.addListeners,onClose:this.onClose,create:"create"})),o.a.createElement(ye.a,{as:"h1",attached:"top",floated:"left"},o.a.createElement(Z.a,{name:"copy"}),o.a.createElement(ye.a.Content,null,"INQUILINOS DO SISTEMA",o.a.createElement(ye.a.Subheader,null,"Configure o seu Inquilino de acordo com as prefer\xeancias exigida por seus representantes"))))),o.a.createElement(O.a,{loading:r,clearing:!0,secondary:!0,attached:"bottom"},o.a.createElement(ke.a.Group,{itemsPerRow:2,stackable:!0},l.length?l.map((function(t,n){return o.a.createElement(ke.a,{key:n.toString()+Math.random(),color:1===t.status_tenant?"green":"red",fluid:!0},o.a.createElement(ke.a.Content,null,o.a.createElement(Q.a,{as:"a",color:1===t.status_tenant?"green":"red",ribbon:"right"},1===t.status_tenant?"Ativo":"Desativado"),o.a.createElement(ke.a.Header,{style:{marginTop:"-27px"}},t.nome_tenant),o.a.createElement(ke.a.Meta,null,"Email empresarial: ",t.email_tenant),o.a.createElement(ke.a.Description,null,"N\xfamero para contato: ",t.numero_tenant)),o.a.createElement(ke.a.Content,{extra:!0},o.a.createElement("div",{style:{color:"#007bff"}},o.a.createElement(Z.a,{name:"user"}),t.clientes.length," ",t.clientes.length>1?"Clientes":1===t.clientes.length?"Cliente":"Clientes"),o.a.createElement("div",{style:{marginTop:"10px"},className:"ui two buttons"},o.a.createElement(we.a,{inverted:!0,color:"green",onClick:function(){return e.handleInquilino(t)}},"Ver Detalhes"),o.a.createElement(we.a,{inverted:!0,color:"red",onClick:function(){return e.setState({openModalInquilinoEdit:!0,inquilinoCurrent:t})}},"Editar"))))})):o.a.createElement(o.a.Fragment,null)),s&&o.a.createElement(qn,{editar:"editar",onClose:this.onClose,inquilino:u,reloadInquilinos:this.addListeners})),n?this.ModalForm():null,a?this.ModalExampleMultiple():null,o.a.createElement(O.a,{loading:r,basic:!0,textAlign:"center"},o.a.createElement(Ht.a,{defaultActivePage:i,firstItem:{content:o.a.createElement(Z.a,{name:"angle double left"}),icon:!0},lastItem:{content:o.a.createElement(Z.a,{name:"angle double right"}),icon:!0},prevItem:null,nextItem:null,totalPages:Math.ceil(this.state.allInquilinos.length/10),ellipsisItem:null,onPageChange:this.handlePaginationChange}))))}}]),n}(o.a.Component),Wn=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,currentChannel:e.channel.currentChannel,channelsUser:e.channelsUser.channelsUser}}),{logout:v})(Gn),zn=n(284),Hn=n.n(zn),Yn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;e.currentUser;return Object(s.a)(this,n),(a=t.call(this)).whatsService=new ie,a.componentDidMount=function(){},a.handleSubmit=function(e){if(a.isFormValid(a.state)){e.preventDefault(),a.setState({errors:[],loading:!0});var t=a.state.email;a.whatsService.sendEmail(t).then((function(e){a.setState({success:["Um e-mail de redefini\xe7\xe3o de senha foi enviado, por favor verifique sua caixa de entrada."],loading:!1,email:""})})).catch((function(e){a.setState({errors:["E-mail n\xe3o autorizado, por favor informe um e-mail v\xe1lido!"],loading:!1})}))}},a.isFormValid=function(e){return!!e.email||(a.setState({errors:["Email n\xe3o pode ser v\xe1zio"]}),!1)},a.handlerInputError=function(e,t){return e.some((function(e){return e.toLowerCase().includes(t)}))?"error":""},a.displayErros=function(e){return e.map((function(e,t){return o.a.createElement("p",{key:t}," ",e)}))},a.handleChange=function(e){a.setState(Object(ge.a)({},e.target.name,e.target.value))},a.state={email:"",errors:[],success:[],loading:!1},a}return Object(c.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.currentUser&&this.props.history.push("/home")}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.errors,a=e.success,r=e.loading;return o.a.createElement(ve.a,{textAlign:"center",style:{height:"100vh",margin:"0"},verticalAlign:"middle"},o.a.createElement(ve.a.Column,{style:{maxWidth:450,height:"600px"}},o.a.createElement("div",{style:{width:"100%",alignItems:"center",display:"flex",alignContent:"center",justifyContent:"center"}},o.a.createElement($.a,{src:Hn.a,size:"small"})),o.a.createElement(ye.a,{as:"h2",style:{color:"white"},textAlign:"center"}),o.a.createElement(Ee.a,{size:"large",onSubmit:this.handleSubmit},o.a.createElement(O.a,{stacked:!0},o.a.createElement(ye.a,{style:{color:"#192d3e"},as:"h5"},"Insira seu e-mail no campo abaixo"),o.a.createElement(Ee.a.Input,{onChange:this.handleChange,fluid:!0,icon:"user",type:"email",name:"email",value:t,className:this.handlerInputError(n,"email"),iconPosition:"left",placeholder:"E-mail"}),o.a.createElement("br",null),o.a.createElement(m.b,{className:"font-lage",to:"/login",style:{color:"#192d3e"}},"Voltar para o login"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(we.a,{disabled:r,style:{backgroundColor:"#192d3e"},className:r?"loading":"",color:"teal",fluid:!0,size:"large"},"Recuperar senha"))),a.length>0&&o.a.createElement(be.a,{success:!0},o.a.createElement("h3",null,"E-mail enviado com sucesso!"),this.displayErros(a)),n.length>0&&o.a.createElement(be.a,{error:!0},o.a.createElement("h3",null,"Error"),this.displayErros(n))))}}]),n}(o.a.Component),Vn=Object(p.b)((function(e){return{currentUser:e.user.currentUser}}),{})(Yn),Qn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;e.currentUser;return Object(s.a)(this,n),(a=t.call(this)).whatsService=new ie,a.closeConfigShow=function(e,t){return function(){var n=a.state,r=n.password1,o=n.password2;if(a.isFormValid(a.state)){a.setState({errors:[],loading:!0});var i=a.props.location.search.split("&")[0].replace("?params=","");r===o&&(""!==r||""!==o)&&r.length>=4&&o.length>=4&&a.whatsService.updatePassword(r,o,i).then((function(n){a.setState({closeOnEscape:e,closeOnDimmerClick:t,open:!0})})).catch((function(e){console.error("Error: ",e),a.setState({errors:["Conex\xe3o com servidor n\xe3o estabelecida, por favor entre em contato com a equipe t\xe9cnica."],loading:!1})}))}}},a.open=function(){return a.setState({open:!0})},a.close=function(){a.props.history.push("/login")},a.isFormValid=function(e){var t=e.password1,n=e.password2;return t&&n?t.length<4?(a.setState({errors:["Senha n\xe3o pode ter menos que 4 caracteres"]}),!1):t===n||(a.setState({errors:["As senhas n\xe3o s\xe3o iguais."]}),!1):(a.setState({errors:["Senha n\xe3o pode ser vazia"]}),!1)},a.handlerInputError=function(e,t){return e.some((function(e){return e.toLowerCase().includes(t)}))?"error":""},a.displayErros=function(e){return e.map((function(e,t){return o.a.createElement("p",{key:t}," ",e)}))},a.handleChange=function(e){a.setState(Object(ge.a)({},e.target.name,e.target.value))},a.state={password1:"",password2:"",errors:[],loading:!1,open:!1},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search.split("&")[0].replace("?params=","");fetch("https://chatwhatsapp.lanlink.com.br/updatePassword?params=".concat(t)).then((function(t){var n=t.url.replace("?params=","").replace("https://chatwhatsapp.lanlink.com.br/updatePassword","");e.whatsService.getTokenInfo(n).then((function(t){if(200!==t.status||""===t.data.data||t.data.data===[])return alert("Sess\xe3o expirada! Se o token expirou por favor tente recuperar sua senha novamente."),e.props.history.push("/login")}))})).catch((function(e){}))}},{key:"render",value:function(){var e=this.state,t=e.password1,n=e.password2,a=e.errors,r=e.loading,i=e.open,l=e.closeOnEscape,s=e.closeOnDimmerClick;return o.a.createElement(ve.a,{textAlign:"center",style:{height:"100vh",margin:"0"},verticalAlign:"middle"},o.a.createElement(ve.a.Column,{style:{maxWidth:450,height:"600px"}},o.a.createElement("div",{style:{width:"100%",alignItems:"center",display:"flex",alignContent:"center",justifyContent:"center"}},o.a.createElement($.a,{src:Hn.a,size:"small"})),o.a.createElement(ye.a,{as:"h2",style:{color:"white"},textAlign:"center"}),o.a.createElement(Ee.a,{size:"large",onSubmit:this.handleSubmit},o.a.createElement(O.a,{stacked:!0},o.a.createElement(ye.a,{style:{color:"#192d3e"},as:"h5"},"Insira sua nova senha abaixo"),o.a.createElement(Ee.a.Input,{onChange:this.handleChange,name:"password1",value:t,className:this.handlerInputError(a,"password1"),fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Nova senha",type:"password"}),o.a.createElement(Ee.a.Input,{onChange:this.handleChange,name:"password2",value:n,className:this.handlerInputError(a,"password2"),fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirme sua senha",type:"password"}),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement(we.a,{onClick:this.closeConfigShow(!0,!1),disabled:r,style:{backgroundColor:"#192d3e"},className:r?"loading":"",color:"teal",fluid:!0,size:"large"},"Resetar senha")),o.a.createElement("div",null,o.a.createElement(xe.a,{trigger:o.a.createElement(m.b,{to:"/login"}),open:i,closeOnEscape:l,closeOnDimmerClick:s,onClose:this.close},o.a.createElement(xe.a.Header,null,"Senha redefinida com sucesso!"),o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{onClick:this.close,positive:!0,labelPosition:"right",icon:"checkmark",content:"Voltar para o login"})))))),a.length>0&&o.a.createElement(be.a,{error:!0},o.a.createElement("h3",null,"Error"),this.displayErros(a))))}}]),n}(o.a.Component),Jn=Object(p.b)((function(e){return{currentUser:e.user.currentUser}}),{})(Qn);n(816),n(817);function Zn(){Zn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var Kn=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).whatsService=new ie,r.blipService=new qt,r.chatWebService=new Le,r.componentDidMount=function(){r.addListeners()},r.componentDidUpdate=function(){r.scrollToBottom()},r.componentWillUnmount=function(){var e=r.state,t=e.channelsRef,n=e.messagesRef;t.off(),n.off()},r.addListeners=function(){var e=r.props,t=e.open,n=e.channel,a=r.state,o=a.messagesRef,i=a.allMessages;t&&o.child(n.id).on("child_added",(function(e){i.push(e.val()),r.setState({allMessages:i,openModal:!0})}))},r.timeFromNow=function(e){return bt()(e).format("h:mm:ss a")},r.closeModal=function(){r.setState({openModal:!1}),r.props.closeModal()},r.scrollToBottom=function(){setTimeout((function(){var e=document.querySelector("#msg");e&&(e.scrollTop=e.scrollHeight,e.scrollIntoView({behavior:"smooth"}))}),100)},r.sendMessage=function(){var e=r.state.inputMensagem,t=r.props,n=t.currentUser,a=t.channel,o=a.name,i=a.channelDbId;r.setState({loading:!0}),a.source.includes("BLIP:")?r.blipService.sendMessage(i,o,e,"",n.token,a.ticketId).then((function(e){r.setState({inputMensagem:"",loading:!1})})):a.name&&"WEB"!==a.source&&"CHATBOT_WEB"!==a.source?r.whatsService.sendMessage(i,o,e,"",n.token,"whatsapp:+5561933007022").then((function(e){r.setState({inputMensagem:"",loading:!1})})):r.chatWebService.sendMessageWeb(i,o,e,"",n.token).then((function(e){r.setState({inputMensagem:"",loading:!1})}))},r.onChange=function(e){r.setState({inputMensagem:e.currentTarget.value})},r.onKeyDown=function(e){13===e.keyCode&&r.sendMessage()},r.transferingToAnalyst=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"analyst",n=r.state.channelsRef,a=r.props,o=a.channel,i=a.currentUser,l=i;r.setState({loading:!0}),n.child(o.id).update({queue:"analyst"===t?e.channel.queue:e.idQueueTransfering,queueName:"analyst"===t?e.channel.queueName:e.nameQueueTransfering,isTransfering:"analyst"===t,isTransferingChannel:"analyst"!==t}).then((function(){r.whatsService.transferingChannel(e.channel.channelDbId,e.analyst,e.messageAction,e.analystAffected,e.idQueueTransfering,e.channel.queue,l.token).then((function(e){r.setState({isTransfering:!1,isTransferingChannel:!1,openModal:!1,loading:!1}),r.props.reload()}))})).catch((function(e){console.error(e)}))},r.cancelTransfering=function(){return r.setState({isTransfering:!1,isTransferingChannel:!1})},r.encerrarConversa=Object(a.a)(Zn().mark((function e(){var t,n,a,o,i,l;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.channelsRef,a=t.messagesRef,o=r.props,i=o.channel,l=o.currentUser,e.next=4,a.child(i.id).remove();case 4:if(!i.source.includes("BLIP:")){e.next=9;break}return e.next=7,n.child(i.id).remove().then((function(){r.blipService.disableChannel(i.channelDbId,l.token,{ticketId:i.ticketId}).then((function(e){r.closeModal(),r.props.reload()}))})).catch((function(e){console.error(e)}));case 7:e.next=11;break;case 9:return e.next=11,n.child(i.id).remove().then((function(){r.whatsService.disableChannel(i.channelDbId,l.token).then((function(e){r.closeModal(),r.props.reload()}))})).catch((function(e){console.error(e)}));case 11:case"end":return e.stop()}}),e)}))),r.render=function(){var e=r.state,t=e.openModal,n=e.allMessages,a=e.inputMensagem,i=e.loading,l=e.isTransfering,s=r.props.channel;return o.a.createElement(xe.a,{open:t,onClose:function(){return r.closeModal()},closeIcon:!0},o.a.createElement(xe.a.Content,null,o.a.createElement(xe.a.Description,null,o.a.createElement(ye.a,{textAlign:"center"},"CONVERSA EM TEMPO REAL"),o.a.createElement(ve.a,{stackable:!0,columns:2,celled:!0},o.a.createElement(ve.a.Column,null,o.a.createElement(O.a,{id:"msg",className:"scroll-conversaModal"},o.a.createElement("div",{id:"wrapperModalChat"},n.length>0&&n.map((function(e,t){return o.a.createElement("ul",{key:Math.random()+t.toString()},"Analista"===e.user.tipo?o.a.createElement("li",{className:"second"},o.a.createElement(Et.a.Group,null,o.a.createElement(Et.a,null,o.a.createElement(Et.a.Avatar,{src:"https://react.semantic-ui.com/images/avatar/large/steve.jpg"}),o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a"},e.user.name),o.a.createElement(Et.a.Metadata,null,o.a.createElement("div",null,r.timeFromNow(e.timestamp))),o.a.createElement(Et.a.Text,null,e.content))))):"Cliente"===e.user.tipo?o.a.createElement("li",{className:"first"},o.a.createElement(Et.a.Group,null,o.a.createElement(Et.a,null,o.a.createElement(Et.a.Avatar,{src:"https://react.semantic-ui.com/images/avatar/small/matt.jpg"}),o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a"},e.user.name),o.a.createElement(Et.a.Metadata,null,o.a.createElement("div",null,r.timeFromNow(e.timestamp))),o.a.createElement(Et.a.Text,null,e.content))))):o.a.createElement("li",{className:"first"},o.a.createElement(Et.a.Group,null,o.a.createElement(Et.a,null,o.a.createElement(Et.a.Avatar,{src:"https://react.semantic-ui.com/images/avatar/large/steve.jpg"}),o.a.createElement(Et.a.Content,null,o.a.createElement(Et.a.Author,{as:"a"},e.user.name),o.a.createElement(Et.a.Metadata,null,o.a.createElement("div",null,r.timeFromNow(e.timestamp))),o.a.createElement(Et.a.Text,null,e.content))))))})))),o.a.createElement(O.a,null,o.a.createElement(Ce.a,{value:a,loading:i,placeholder:"Enviar resposta...",fluid:!0,iconPosition:"left",onChange:function(e){return r.onChange(e)},onKeyDown:function(e){return r.onKeyDown(e)}},o.a.createElement(Z.a,{name:"send",color:"green"}),o.a.createElement("input",null),o.a.createElement(we.a,{onClick:function(){return r.sendMessage()},color:"green"},"Enviar")))),o.a.createElement(ve.a.Column,null,o.a.createElement(O.a,null,o.a.createElement(ke.a,{centered:!0},o.a.createElement(ke.a.Content,null,o.a.createElement($.a,{floated:"right",size:"mini",src:"https://react.semantic-ui.com/images/avatar/large/steve.jpg"}),o.a.createElement(ke.a.Header,null,"Usu\xe1rio: ",s.user.name),o.a.createElement(ke.a.Meta,null,"Tenant: ",s.user.tenantName),o.a.createElement(ke.a.Description,null,"Usu\xe1rio solicita atendimento \xe1s"," ",r.timeFromNow(s.createdAt))),o.a.createElement(ke.a.Content,{extra:!0},o.a.createElement("div",{className:"ui two buttons"},o.a.createElement(we.a,{inverted:!0,color:"green",onClick:function(){return r.setState({isTransfering:!0,isTransferingChannel:!0})}},"Transferir"),l&&o.a.createElement(Ut,{channel:s.id,currentChannel:s,transfering:r.transferingToAnalyst,cancelTransfering:r.cancelTransfering}),o.a.createElement(we.a,{inverted:!0,color:"red",onClick:function(){return r.encerrarConversa()}},"Encerrar"))))))))))},r.state={openModal:!1,channelsRef:ze.database().ref("channels"),messagesRef:ze.database().ref("messages"),allMessages:[],inputMensagem:"",loading:!1,isTransfering:!1,isTransferingChannel:!1},r}return Object(c.a)(n)}(r.Component),Xn=Object(p.b)((function(e){return{channelsAnalysts:e.channelsAnalysts.channelsAnalysts,currentUser:e.user.currentUser}}))(Kn),$n=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).pendingPromises=[],a.whatsAppService=new ie,a.reload=function(){a.forceUpdate()},a.appendPendingPromise=function(e){return a.pendingPromises=[].concat(Object(V.a)(a.pendingPromises),[e])},a.removePendingPromise=function(e){return a.pendingPromises=a.pendingPromises.filter((function(t){return t!==e}))},a.componentDidMount=function(){a.addListeners()},a.addListeners=function(){var e=a.props,t=e.currentUser,n=e.channelsUser,r=a.state.channelsRef;a.setState({channels:[]});var o=le(a.whatsAppService.users(t.token,0,0));a.appendPendingPromise(o),o.promise.then((function(e){a.setState({allUsers:e.data})})).then((function(){return a.removePendingPromise(o)})).catch((function(e){e.isCanceled||(sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),a.removePendingPromise(o))})),r.on("child_removed",(function(e){if(a.state.channels.filter((function(t){return t.channelDbId===e.val().channelDbId})).length){var t=a.state.channels.filter((function(t){return t.channelDbId!==e.val().channelDbId}));a.setState({channels:t})}})),r.on("child_added",(function(e){var t=a.state.channels.filter((function(t){return t.channelDbId===e.val().channelDbId}));e.val().analyst&&!t.length&&n.length&&(n.includes(e.val().user.tenant)||n.includes(e.val().user.tenant.tenant_id))&&(a.state.channels.push(e.val()),a.setState({channels:a.state.channels}))})),r.on("child_changed",(function(e){var t=a.state.channels.filter((function(t){return t.channelDbId===e.val().channelDbId}));e.val().analyst&&!t.length&&n.length&&(n.includes(e.val().user.tenant)||n.includes(e.val().user.tenant.tenant_id))&&(a.state.channels.push(e.val()),a.setState({channels:a.state.channels}))}))},a.componentWillUnmount=function(){a.state.channelsRef.off(),a.pendingPromises.map((function(e){return e.cancel()}))},a.timeFromNow=function(e){return bt()(e).format("dddd, MMMM Do YYYY, h:mm:ss a")},a.getNameUser=function(e){var t=a.state.allUsers.filter((function(t){return t.user_id===e}));return t.length?t[0].name:""},a.closeModal=function(){return a.setState({openModal:!1})},a.render=function(){var e=a.state,t=e.channels,n=e.openModal,r=e.channelCurrent;return o.a.createElement(O.a,{basic:!0,id:"acompanharConversa"},o.a.createElement("div",null,o.a.createElement(ye.a,{as:"h2",icon:!0,textAlign:"center"},o.a.createElement(Z.a,{name:"binoculars"}),"Acompanhar Conversa",o.a.createElement(ye.a.Subheader,null,"Fa\xe7a o acompanhamento de uma conversa, e monitore os analistas.")),o.a.createElement(st.a,null),o.a.createElement(O.a,{attached:!0},o.a.createElement("div",null,o.a.createElement(ot.a.Group,{vertical:!0,fluid:!0},t.length>0&&t.map((function(e,t){return o.a.createElement(ot.a,{key:Math.random()+t.toString(),onClick:function(){return a.setState({openModal:!0,channelCurrent:e})}},o.a.createElement(Z.a,{name:"binoculars",color:"green"}),o.a.createElement(ot.a.Content,null,o.a.createElement(ot.a.Title,null,"Analista: ",a.getNameUser(e.analyst)," conversando com o Usu\xe1rio: ",e.user.name," - Inquilino: ",e.user.tenantName),o.a.createElement(ot.a.Description,null,"Conversa iniciada na: ",a.timeFromNow(e.createdAt))))}))),n&&o.a.createElement(Xn,{open:n,closeModal:a.closeModal,channel:r,reload:a.reload})))))},a.state={channelsRef:ze.database().ref("channels"),channels:[],allUsers:[],channelCurrent:null,openModal:!1},a}return Object(c.a)(n)}(r.Component),ea=Object(p.b)((function(e){return{channelsAnalysts:e.channelsAnalysts.channelsAnalysts,currentUser:e.user.currentUser,channelsUser:e.channelsUser.channelsUser}}))($n);n(818);function ta(){ta=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var na=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).chatWebService=new Le,r.atualizaModal=function(){r.props.resetarSenha&&r.setState({modalOpen:!0})},r.copiar=function(){var e=document.getElementById("text");e.setAttribute("type","text"),e.select(),document.execCommand("copy"),e.setAttribute("type","password"),alert("Senha copiada com sucesso!! ")},r.resetarSenha=Object(a.a)(ta().mark((function e(){var t,n;return ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.chatWebService.resetSenhaAD(r.props.usuario.usuarioF,r.props.inquilinoSelected,r.props.currentUser.token);case 2:t=e.sent,n=t.data,r.setState({senha:n.senha,resetBoolean:!1});case 5:case"end":return e.stop()}}),e)}))),r.state={modalOpen:!1,resetBoolean:!0,senha:""},r.resetarSenha=r.resetarSenha.bind(Object(qe.a)(r)),r.copiar=r.copiar.bind(Object(qe.a)(r)),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.atualizaModal()}},{key:"render",value:function(){var e=this,t=this.state,n=t.modalOpen,a=t.resetBoolean,r=t.senha;return o.a.createElement(xe.a,{onClose:function(){e.setState({modalOpen:!1})},open:n,centered:!0,style:{height:"auto",position:"relative"},closeIcon:!0},o.a.createElement(ve.a,{columns:1,id:"grid",centered:!0},o.a.createElement(ve.a.Column,{width:8},o.a.createElement("div",{style:{marginTop:"3%",marginBottom:"3%"}},o.a.createElement(ye.a,{as:"h2",icon:!0,textAlign:"center"},o.a.createElement(Z.a,{name:"user",circular:!0}),o.a.createElement(ye.a.Content,null,this.props.usuario.nome))),o.a.createElement(xe.a.Content,null,o.a.createElement("div",{style:{alignItems:"center",marginLeft:"18%",marginBottom:"5%"}},o.a.createElement("h3",null,o.a.createElement(Z.a,{name:"mail",size:"large"}),this.props.usuario.email),o.a.createElement("h3",null,o.a.createElement(Z.a,{name:"address card outline",size:"large"}),this.props.usuario.usuarioF))),a?o.a.createElement("div",{style:{marginBottom:"5%",marginLeft:"19.5%"}},o.a.createElement(xe.a.Actions,null,o.a.createElement(we.a,{color:"green",onClick:function(){return e.resetarSenha()}},o.a.createElement(Z.a,{name:"checkmark"})," Resetar"),o.a.createElement(we.a,{color:"red",onClick:function(){return e.setState({modalOpen:!1})}},o.a.createElement(Z.a,{name:"remove"})," Cancelar"))):o.a.createElement("div",{style:{marginBottom:"5%",flexDirection:"row",marginLeft:"20.5%"}},o.a.createElement(Ce.a,{focus:!1,icon:"key",style:{textAlign:"center"},value:r,id:"text",type:"password"}),o.a.createElement("button",{className:"ui icon button",onClick:function(){return e.copiar()}},o.a.createElement(Z.a,{name:"copy",color:"green"}))))))}}]),n}(r.Component);function aa(){aa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}var ra=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).chatWebService=new Le,r.whatsService=new ie,r.addListeners=Object(a.a)(aa().mark((function e(){var t,n,a,o,i,l,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.currentUser,a=t.channelsUser,r.setState({loading:!0}),e.prev=2,e.next=5,r.whatsService.getAllTenants(n.token);case 5:o=e.sent,i=[],3===n.type?(l=o.data.filter((function(e){return a.includes(e.tenant_id)})),i=l.slice(r.state.begin,r.state.end)):1===n.type&&(i=o.data.slice(r.state.begin,r.state.end)),1===i.length&&r.setState({inquilinoSelected:i[0].tenant_id}),(s=i.map((function(e){return{text:e.nome_tenant,value:e.tenant_id}}))).unshift({text:"Selecione",value:null}),r.setState({inquilinos:s,loading:!1}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("ERROR",e.t0),r.setState({loading:!1});case 18:case"end":return e.stop()}}),e,null,[[2,14]])}))),r.handleDismiss=function(){r.setState({visibleError:!1}),setTimeout((function(){r.setState({visibleError:!1})}),1e3)},r.handleItemClick=function(e,t){var n=t.name;r.setState({activeItem:n,modal:!1})},r.handleChangeUsuarioF=function(e){var t=e.target.value;r.setState({usuarioF:t,modal:!1})},r.handleSubmit=function(){var e=Object(a.a)(aa().mark((function e(t){var n,a,o,i,l,s,c;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.props.currentUser,a=r.state,o=a.usuarioF,i=a.inquilinoSelected,t.preventDefault(),!r.isFormValid(r.state)){e.next=19;break}return r.setState({errors:[],loading:!0}),e.prev=5,e.next=8,r.chatWebService.searchAD(o,i,n.token);case 8:l=e.sent,s=l.data,Object.values(s).length&&s.dados?(c=s.dados,r.setState({usuario:{nome:c.DisplayName,email:c.EmailAddress,usuarioF:c.SamAccountName},modal:!0,usuarioF:"",loading:!1})):r.setState({errors:["Usu\xe1rio n\xe3o encontrado"],visibleError:!0,loading:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log("USE ERROR",e.t0),r.setState({errors:["Falha ao consultar usu\xe1rio"],visibleError:!0,loading:!1});case 17:e.next=20;break;case 19:r.setState({errors:["O campo usuario est\xe1 vazio"]});case 20:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),r.displayErros=function(e){return e.map((function(e,t){return o.a.createElement("p",{key:t}," ",e)}))},r.isFormValid=function(e){return!!e.usuarioF||(r.setState({errors:["O campo est\xe1 vazio"]}),!1)},r.handleChangeInquilino=function(e){r.setState({inquilinoSelected:e.target.value})},r.state={activeItem:"Resetar senha",modal:!1,usuarioF:"",visibleError:!0,loading:!1,errors:[],usuario:null,inquilinos:[],inquilinoSelected:null},r.handleChangeUsuarioF=r.handleChangeUsuarioF.bind(Object(qe.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(qe.a)(r)),r.handleChangeInquilino=r.handleChangeInquilino.bind(Object(qe.a)(r)),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"render",value:function(){var e=this,t=this.state,n=t.activeItem,a=t.usuarioF,r=t.modal,i=t.usuario,l=t.errors,s=t.visibleError,c=t.loading,u=t.inquilinos,h=t.inquilinoSelected,d=this.props.currentUser;return o.a.createElement("div",{id:"tab"},o.a.createElement(K.a,{attached:"top",tabular:!0},o.a.createElement(K.a.Item,{name:"Resetar senha",id:"reset",color:"green",active:"Resetar senha"===n,onClick:this.handleItemClick})),"Resetar senha"===n?o.a.createElement(O.a,{attached:"bottom"},o.a.createElement(ve.a,{columns:1,id:"grid",centered:!0},o.a.createElement(ve.a.Column,{width:6},o.a.createElement(ye.a,{as:"h2",icon:!0,textAlign:"center"},o.a.createElement(Z.a,{name:"search",circular:!0,color:"green",size:"large"}),o.a.createElement(ye.a.Content,null,"Pesquisar usu\xe1rio")),o.a.createElement("div",{style:{marginRight:"12%"}},o.a.createElement(Ee.a,{onSubmit:this.handleSubmit},o.a.createElement(Ee.a,{size:"small"},u.length>2&&o.a.createElement("select",{placeholder:"Selecione",style:{width:"100%",outline:"none",fontSize:"1rem"},onChange:function(t){return e.handleChangeInquilino(t)}},u.map((function(e){return o.a.createElement("option",{value:e.value},e.text)})))),o.a.createElement(Ee.a.Input,{size:"small",style:{marginTop:"10px"}},o.a.createElement("label",{style:{paddingRight:3,fontSize:18}},"Usu\xe1rio"),o.a.createElement(Ce.a,{placeholder:"FXXXXXXX",type:"text",name:"usuarioF",onChange:this.handleChangeUsuarioF,value:a,loading:c})),o.a.createElement("div",{id:"buttonPesquisar"},o.a.createElement("input",{disabled:!a||c,className:"ui green inverted button",type:"submit",value:"PESQUISAR"}))),l.length>0&&s&&o.a.createElement(be.a,{negative:!0,size:"small",onDismiss:this.handleDismiss},o.a.createElement(be.a.Header,null,"Error"),this.displayErros(l))),r&&o.a.createElement(na,{resetarSenha:"reset",usuario:i,inquilinoSelected:h,currentUser:d})))):"")}}]),n}(r.Component),oa=Object(p.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isLoading,channelsUser:e.channelsUser.channelsUser}}))(ra),ia=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).AppRoot=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.d,null,o.a.createElement(Qe,{path:"/home"},o.a.createElement(et,null)),o.a.createElement(Qe,{path:"/fila"},o.a.createElement(an,null)),o.a.createElement(Qe,{path:"/chat"},o.a.createElement(zt,null)),o.a.createElement(Qe,{path:"/acompanharConversa"},o.a.createElement(ea,null)),o.a.createElement(Qe,{path:"/inquilinos"},o.a.createElement(Wn,null)),o.a.createElement(Qe,{path:"/clientes"},o.a.createElement(yn,null)),o.a.createElement(Qe,{path:"/usuarios"},o.a.createElement(en,null)),o.a.createElement(Qe,{path:"/historico"},o.a.createElement(un,null)),o.a.createElement(Qe,{path:"/activeDirectory"},o.a.createElement(oa,null)),o.a.createElement(d.a,{exact:!0,path:"/",to:"/login"}),o.a.createElement(d.b,{exact:!0,path:"/login",component:Xe}),o.a.createElement(d.b,{exact:!0,path:"/forgotPassword",component:Vn}),o.a.createElement(d.b,{exact:!0,path:"/updatePassword",component:Jn}),o.a.createElement(d.b,{exact:!0,path:"*",component:function(){return o.a.createElement(d.a,{to:"/login"})}})))},a.state={fixed:!1},a}return Object(c.a)(n,[{key:"render",value:function(){var e=Object(d.g)(Object(p.b)((function(e){return{isLoading:e.user.isLoading,currentUser:e.user.currentUser}}),{login:f,logout:v})(this.AppRoot));return this.props.isLoading?o.a.createElement(x,null):o.a.createElement(p.a,{store:z},o.a.createElement(Je.a,{loading:null,persistor:H},o.a.createElement(m.a,null,o.a.createElement(e,null))))}}]),n}(o.a.Component);n(819);function la(){la=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),i=new S(a||[]);return o._invoke=function(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=c(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(k){return{type:"throw",arg:k}}}e.wrap=s;var u={};function h(){}function d(){}function m(){}var p={};l(p,r,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(x([])));g&&g!==t&&n.call(g,r)&&(p=g);var v=m.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var a;this._invoke=function(r,o){function i(){return new t((function(a,i){!function a(r,o,i,l){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(h).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,l)}))}l(s.arg)}(r,o,a,i)}))}return a=a?a.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new E(s(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(v),l(v,i,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}window.onbeforeunload=function(){return"Are you sure you want to leave?"},window.onunload=Object(a.a)(la().mark((function e(){var t;return la().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.clear(),window.localStorage.clear(),localStorage.clear(),e.next=5,ae.a.post("".concat(re,"/logout"),{},{headers:{"Content-type":"application/json"},withCredentials:!0});case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),(window.attachEvent||window.addEventListener)(window.attachEvent?"onbeforeunload":"beforeunload",(function(e){return(e||window.event).returnValue="Are you sure to leave the page?","Are you sure to leave the page?"})),l.a.render(o.a.createElement(ia,null),document.getElementById("root"))}},[[516,1,2]]]);
//# sourceMappingURL=main.e21f48da.chunk.js.map